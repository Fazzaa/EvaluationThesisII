(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function w0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pp={exports:{}},wa={},Mp={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ki=Symbol.for("react.element"),E0=Symbol.for("react.portal"),S0=Symbol.for("react.fragment"),T0=Symbol.for("react.strict_mode"),C0=Symbol.for("react.profiler"),k0=Symbol.for("react.provider"),I0=Symbol.for("react.context"),D0=Symbol.for("react.forward_ref"),N0=Symbol.for("react.suspense"),A0=Symbol.for("react.memo"),x0=Symbol.for("react.lazy"),wd=Symbol.iterator;function R0(t){return t===null||typeof t!="object"?null:(t=wd&&t[wd]||t["@@iterator"],typeof t=="function"?t:null)}var $p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bp=Object.assign,Fp={};function no(t,e,n){this.props=t,this.context=e,this.refs=Fp,this.updater=n||$p}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Up(){}Up.prototype=no.prototype;function Nc(t,e,n){this.props=t,this.context=e,this.refs=Fp,this.updater=n||$p}var Ac=Nc.prototype=new Up;Ac.constructor=Nc;bp(Ac,no.prototype);Ac.isPureReactComponent=!0;var Ed=Array.isArray,Vp=Object.prototype.hasOwnProperty,xc={current:null},Bp={key:!0,ref:!0,__self:!0,__source:!0};function zp(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Vp.call(e,r)&&!Bp.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ki,type:t,key:i,ref:s,props:o,_owner:xc.current}}function _0(t,e){return{$$typeof:ki,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ki}function O0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sd=/\/+/g;function fl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?O0(""+t.key):e.toString(36)}function ys(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ki:case E0:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+fl(s,0):r,Ed(o)?(n="",t!=null&&(n=t.replace(Sd,"$&/")+"/"),ys(o,e,n,"",function(u){return u})):o!=null&&(Rc(o)&&(o=_0(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Sd,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",Ed(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+fl(i,a);s+=ys(i,e,n,l,o)}else if(l=R0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+fl(i,a++),s+=ys(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ki(t,e,n){if(t==null)return t;var r=[],o=0;return ys(t,r,"","",function(i){return e.call(n,i,o++)}),r}function L0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qe={current:null},vs={transition:null},P0={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:vs,ReactCurrentOwner:xc};function jp(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Ki,forEach:function(t,e,n){Ki(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ki(t,function(){e++}),e},toArray:function(t){return Ki(t,function(e){return e})||[]},only:function(t){if(!Rc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=no;H.Fragment=S0;H.Profiler=C0;H.PureComponent=Nc;H.StrictMode=T0;H.Suspense=N0;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P0;H.act=jp;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bp({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=xc.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Vp.call(e,l)&&!Bp.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ki,type:t.type,key:o,ref:i,props:r,_owner:s}};H.createContext=function(t){return t={$$typeof:I0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:k0,_context:t},t.Consumer=t};H.createElement=zp;H.createFactory=function(t){var e=zp.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:D0,render:t}};H.isValidElement=Rc;H.lazy=function(t){return{$$typeof:x0,_payload:{_status:-1,_result:t},_init:L0}};H.memo=function(t,e){return{$$typeof:A0,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=vs.transition;vs.transition={};try{t()}finally{vs.transition=e}};H.unstable_act=jp;H.useCallback=function(t,e){return Qe.current.useCallback(t,e)};H.useContext=function(t){return Qe.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Qe.current.useDeferredValue(t)};H.useEffect=function(t,e){return Qe.current.useEffect(t,e)};H.useId=function(){return Qe.current.useId()};H.useImperativeHandle=function(t,e,n){return Qe.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return Qe.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Qe.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Qe.current.useMemo(t,e)};H.useReducer=function(t,e,n){return Qe.current.useReducer(t,e,n)};H.useRef=function(t){return Qe.current.useRef(t)};H.useState=function(t){return Qe.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return Qe.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return Qe.current.useTransition()};H.version="18.3.1";Mp.exports=H;var W=Mp.exports;const M0=w0(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=W,b0=Symbol.for("react.element"),F0=Symbol.for("react.fragment"),U0=Object.prototype.hasOwnProperty,V0=$0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B0={key:!0,ref:!0,__self:!0,__source:!0};function Hp(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)U0.call(e,r)&&!B0.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:b0,type:t,key:i,ref:s,props:o,_owner:V0.current}}wa.Fragment=F0;wa.jsx=Hp;wa.jsxs=Hp;Pp.exports=wa;var Kp=Pp.exports;const k=Kp.jsx,j=Kp.jsxs;var ru={},Gp={exports:{}},dt={},Wp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,L){var $=C.length;C.push(L);e:for(;0<$;){var U=$-1>>>1,de=C[U];if(0<o(de,L))C[U]=L,C[$]=de,$=U;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var L=C[0],$=C.pop();if($!==L){C[0]=$;e:for(var U=0,de=C.length,dr=de>>>1;U<dr;){var it=2*(U+1)-1,dl=C[it],Fn=it+1,Hi=C[Fn];if(0>o(dl,$))Fn<de&&0>o(Hi,dl)?(C[U]=Hi,C[Fn]=$,U=Fn):(C[U]=dl,C[it]=$,U=it);else if(Fn<de&&0>o(Hi,$))C[U]=Hi,C[Fn]=$,U=Fn;else break e}}return L}function o(C,L){var $=C.sortIndex-L.sortIndex;return $!==0?$:C.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,m=!1,y=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=C)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function w(C){if(v=!1,g(C),!y)if(n(l)!==null)y=!0,rn(D);else{var L=n(u);L!==null&&ae(w,L.startTime-C)}}function D(C,L){y=!1,v&&(v=!1,p(_),_=-1),m=!0;var $=h;try{for(g(L),d=n(l);d!==null&&(!(d.expirationTime>L)||C&&!ot());){var U=d.callback;if(typeof U=="function"){d.callback=null,h=d.priorityLevel;var de=U(d.expirationTime<=L);L=t.unstable_now(),typeof de=="function"?d.callback=de:d===n(l)&&r(l),g(L)}else r(l);d=n(l)}if(d!==null)var dr=!0;else{var it=n(u);it!==null&&ae(w,it.startTime-L),dr=!1}return dr}finally{d=null,h=$,m=!1}}var x=!1,R=null,_=-1,Z=5,z=-1;function ot(){return!(t.unstable_now()-z<Z)}function bn(){if(R!==null){var C=t.unstable_now();z=C;var L=!0;try{L=R(!0,C)}finally{L?nn():(x=!1,R=null)}}else x=!1}var nn;if(typeof f=="function")nn=function(){f(bn)};else if(typeof MessageChannel<"u"){var ho=new MessageChannel,hl=ho.port2;ho.port1.onmessage=bn,nn=function(){hl.postMessage(null)}}else nn=function(){N(bn,0)};function rn(C){R=C,x||(x=!0,nn())}function ae(C,L){_=N(function(){C(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,rn(D))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var $=h;h=L;try{return C()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,L){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var $=h;h=C;try{return L()}finally{h=$}},t.unstable_scheduleCallback=function(C,L,$){var U=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?U+$:U):$=U,C){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=$+de,C={id:c++,callback:L,priorityLevel:C,startTime:$,expirationTime:de,sortIndex:-1},$>U?(C.sortIndex=$,e(u,C),n(l)===null&&C===n(u)&&(v?(p(_),_=-1):v=!0,ae(w,$-U))):(C.sortIndex=de,e(l,C),y||m||(y=!0,rn(D))),C},t.unstable_shouldYield=ot,t.unstable_wrapCallback=function(C){var L=h;return function(){var $=h;h=L;try{return C.apply(this,arguments)}finally{h=$}}}})(qp);Wp.exports=qp;var z0=Wp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0=W,ct=z0;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qp=new Set,Ko={};function ar(t,e){Br(t,e),Br(t+"Capture",e)}function Br(t,e){for(Ko[t]=e,t=0;t<e.length;t++)Qp.add(e[t])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=Object.prototype.hasOwnProperty,H0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Td={},Cd={};function K0(t){return ou.call(Cd,t)?!0:ou.call(Td,t)?!1:H0.test(t)?Cd[t]=!0:(Td[t]=!0,!1)}function G0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W0(t,e,n,r){if(e===null||typeof e>"u"||G0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ye(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Le[t]=new Ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Le[e]=new Ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Le[t]=new Ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Le[t]=new Ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Le[t]=new Ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Le[t]=new Ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Le[t]=new Ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Le[t]=new Ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Le[t]=new Ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var _c=/[\-:]([a-z])/g;function Oc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_c,Oc);Le[e]=new Ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_c,Oc);Le[e]=new Ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_c,Oc);Le[e]=new Ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Le[t]=new Ye(t,1,!1,t.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Le[t]=new Ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lc(t,e,n,r){var o=Le.hasOwnProperty(e)?Le[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W0(e,n,o,r)&&(n=null),r||o===null?K0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tn=j0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gi=Symbol.for("react.element"),yr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),Pc=Symbol.for("react.strict_mode"),iu=Symbol.for("react.profiler"),Yp=Symbol.for("react.provider"),Xp=Symbol.for("react.context"),Mc=Symbol.for("react.forward_ref"),su=Symbol.for("react.suspense"),au=Symbol.for("react.suspense_list"),$c=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),Jp=Symbol.for("react.offscreen"),kd=Symbol.iterator;function fo(t){return t===null||typeof t!="object"?null:(t=kd&&t[kd]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,pl;function Co(t){if(pl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pl=e&&e[1]||""}return`
`+pl+t}var gl=!1;function ml(t,e){if(!t||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Co(t):""}function q0(t){switch(t.tag){case 5:return Co(t.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return t=ml(t.type,!1),t;case 11:return t=ml(t.type.render,!1),t;case 1:return t=ml(t.type,!0),t;default:return""}}function lu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vr:return"Fragment";case yr:return"Portal";case iu:return"Profiler";case Pc:return"StrictMode";case su:return"Suspense";case au:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xp:return(t.displayName||"Context")+".Consumer";case Yp:return(t._context.displayName||"Context")+".Provider";case Mc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $c:return e=t.displayName||null,e!==null?e:lu(t.type)||"Memo";case sn:e=t._payload,t=t._init;try{return lu(t(e))}catch{}}return null}function Q0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lu(e);case 8:return e===Pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function In(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Y0(t){var e=Zp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wi(t){t._valueTracker||(t._valueTracker=Y0(t))}function eg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uu(t,e){var n=e.checked;return ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Id(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=In(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tg(t,e){e=e.checked,e!=null&&Lc(t,"checked",e,!1)}function cu(t,e){tg(t,e);var n=In(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hu(t,e.type,n):e.hasOwnProperty("defaultValue")&&hu(t,e.type,In(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hu(t,e,n){(e!=="number"||Os(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ko=Array.isArray;function Rr(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+In(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function du(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(ko(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:In(n)}}function ng(t,e){var n=In(e.value),r=In(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ad(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qi,og=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qi=qi||document.createElement("div"),qi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Go(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X0=["Webkit","ms","Moz","O"];Object.keys(_o).forEach(function(t){X0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_o[e]=_o[t]})});function ig(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_o.hasOwnProperty(t)&&_o[t]?(""+e).trim():e+"px"}function sg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ig(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var J0=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pu(t,e){if(e){if(J0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function gu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=null;function bc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yu=null,_r=null,Or=null;function xd(t){if(t=Ni(t)){if(typeof yu!="function")throw Error(S(280));var e=t.stateNode;e&&(e=ka(e),yu(t.stateNode,t.type,e))}}function ag(t){_r?Or?Or.push(t):Or=[t]:_r=t}function lg(){if(_r){var t=_r,e=Or;if(Or=_r=null,xd(t),e)for(t=0;t<e.length;t++)xd(e[t])}}function ug(t,e){return t(e)}function cg(){}var yl=!1;function hg(t,e,n){if(yl)return t(e,n);yl=!0;try{return ug(t,e,n)}finally{yl=!1,(_r!==null||Or!==null)&&(cg(),lg())}}function Wo(t,e){var n=t.stateNode;if(n===null)return null;var r=ka(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var vu=!1;if(Wt)try{var po={};Object.defineProperty(po,"passive",{get:function(){vu=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{vu=!1}function Z0(t,e,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Oo=!1,Ls=null,Ps=!1,wu=null,e1={onError:function(t){Oo=!0,Ls=t}};function t1(t,e,n,r,o,i,s,a,l){Oo=!1,Ls=null,Z0.apply(e1,arguments)}function n1(t,e,n,r,o,i,s,a,l){if(t1.apply(this,arguments),Oo){if(Oo){var u=Ls;Oo=!1,Ls=null}else throw Error(S(198));Ps||(Ps=!0,wu=u)}}function lr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rd(t){if(lr(t)!==t)throw Error(S(188))}function r1(t){var e=t.alternate;if(!e){if(e=lr(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Rd(o),t;if(i===r)return Rd(o),e;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function fg(t){return t=r1(t),t!==null?pg(t):null}function pg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pg(t);if(e!==null)return e;t=t.sibling}return null}var gg=ct.unstable_scheduleCallback,_d=ct.unstable_cancelCallback,o1=ct.unstable_shouldYield,i1=ct.unstable_requestPaint,ge=ct.unstable_now,s1=ct.unstable_getCurrentPriorityLevel,Fc=ct.unstable_ImmediatePriority,mg=ct.unstable_UserBlockingPriority,Ms=ct.unstable_NormalPriority,a1=ct.unstable_LowPriority,yg=ct.unstable_IdlePriority,Ea=null,Mt=null;function l1(t){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Ea,t,void 0,(t.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:h1,u1=Math.log,c1=Math.LN2;function h1(t){return t>>>=0,t===0?32:31-(u1(t)/c1|0)|0}var Qi=64,Yi=4194304;function Io(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $s(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Io(a):(i&=s,i!==0&&(r=Io(i)))}else s=n&~o,s!==0?r=Io(s):i!==0&&(r=Io(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-It(e),o=1<<n,r|=t[n],e&=~o;return r}function d1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-It(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=d1(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Eu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vg(){var t=Qi;return Qi<<=1,!(Qi&4194240)&&(Qi=64),t}function vl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ii(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-It(e),t[e]=n}function p1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-It(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function Uc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-It(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var X=0;function wg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Eg,Vc,Sg,Tg,Cg,Su=!1,Xi=[],fn=null,pn=null,gn=null,qo=new Map,Qo=new Map,ln=[],g1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Od(t,e){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":qo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(e.pointerId)}}function go(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Ni(e),e!==null&&Vc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function m1(t,e,n,r,o){switch(e){case"focusin":return fn=go(fn,t,e,n,r,o),!0;case"dragenter":return pn=go(pn,t,e,n,r,o),!0;case"mouseover":return gn=go(gn,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return qo.set(i,go(qo.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Qo.set(i,go(Qo.get(i)||null,t,e,n,r,o)),!0}return!1}function kg(t){var e=zn(t.target);if(e!==null){var n=lr(e);if(n!==null){if(e=n.tag,e===13){if(e=dg(n),e!==null){t.blockedOn=e,Cg(t.priority,function(){Sg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ws(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mu=r,n.target.dispatchEvent(r),mu=null}else return e=Ni(n),e!==null&&Vc(e),t.blockedOn=n,!1;e.shift()}return!0}function Ld(t,e,n){ws(t)&&n.delete(e)}function y1(){Su=!1,fn!==null&&ws(fn)&&(fn=null),pn!==null&&ws(pn)&&(pn=null),gn!==null&&ws(gn)&&(gn=null),qo.forEach(Ld),Qo.forEach(Ld)}function mo(t,e){t.blockedOn===e&&(t.blockedOn=null,Su||(Su=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,y1)))}function Yo(t){function e(o){return mo(o,t)}if(0<Xi.length){mo(Xi[0],t);for(var n=1;n<Xi.length;n++){var r=Xi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fn!==null&&mo(fn,t),pn!==null&&mo(pn,t),gn!==null&&mo(gn,t),qo.forEach(e),Qo.forEach(e),n=0;n<ln.length;n++)r=ln[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)kg(n),n.blockedOn===null&&ln.shift()}var Lr=tn.ReactCurrentBatchConfig,bs=!0;function v1(t,e,n,r){var o=X,i=Lr.transition;Lr.transition=null;try{X=1,Bc(t,e,n,r)}finally{X=o,Lr.transition=i}}function w1(t,e,n,r){var o=X,i=Lr.transition;Lr.transition=null;try{X=4,Bc(t,e,n,r)}finally{X=o,Lr.transition=i}}function Bc(t,e,n,r){if(bs){var o=Tu(t,e,n,r);if(o===null)Al(t,e,r,Fs,n),Od(t,r);else if(m1(o,t,e,n,r))r.stopPropagation();else if(Od(t,r),e&4&&-1<g1.indexOf(t)){for(;o!==null;){var i=Ni(o);if(i!==null&&Eg(i),i=Tu(t,e,n,r),i===null&&Al(t,e,r,Fs,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Al(t,e,r,null,n)}}var Fs=null;function Tu(t,e,n,r){if(Fs=null,t=bc(r),t=zn(t),t!==null)if(e=lr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fs=t,null}function Ig(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s1()){case Fc:return 1;case mg:return 4;case Ms:case a1:return 16;case yg:return 536870912;default:return 16}default:return 16}}var cn=null,zc=null,Es=null;function Dg(){if(Es)return Es;var t,e=zc,n=e.length,r,o="value"in cn?cn.value:cn.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return Es=o.slice(t,1<r?1-r:void 0)}function Ss(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function Pd(){return!1}function ft(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ji:Pd,this.isPropagationStopped=Pd,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),e}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=ft(ro),Di=ce({},ro,{view:0,detail:0}),E1=ft(Di),wl,El,yo,Sa=ce({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yo&&(yo&&t.type==="mousemove"?(wl=t.screenX-yo.screenX,El=t.screenY-yo.screenY):El=wl=0,yo=t),wl)},movementY:function(t){return"movementY"in t?t.movementY:El}}),Md=ft(Sa),S1=ce({},Sa,{dataTransfer:0}),T1=ft(S1),C1=ce({},Di,{relatedTarget:0}),Sl=ft(C1),k1=ce({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),I1=ft(k1),D1=ce({},ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),N1=ft(D1),A1=ce({},ro,{data:0}),$d=ft(A1),x1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_1[t])?!!e[t]:!1}function Hc(){return O1}var L1=ce({},Di,{key:function(t){if(t.key){var e=x1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(t){return t.type==="keypress"?Ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P1=ft(L1),M1=ce({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=ft(M1),$1=ce({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),b1=ft($1),F1=ce({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),U1=ft(F1),V1=ce({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B1=ft(V1),z1=[9,13,27,32],Kc=Wt&&"CompositionEvent"in window,Lo=null;Wt&&"documentMode"in document&&(Lo=document.documentMode);var j1=Wt&&"TextEvent"in window&&!Lo,Ng=Wt&&(!Kc||Lo&&8<Lo&&11>=Lo),Fd=String.fromCharCode(32),Ud=!1;function Ag(t,e){switch(t){case"keyup":return z1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wr=!1;function H1(t,e){switch(t){case"compositionend":return xg(e);case"keypress":return e.which!==32?null:(Ud=!0,Fd);case"textInput":return t=e.data,t===Fd&&Ud?null:t;default:return null}}function K1(t,e){if(wr)return t==="compositionend"||!Kc&&Ag(t,e)?(t=Dg(),Es=zc=cn=null,wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ng&&e.locale!=="ko"?null:e.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!G1[t.type]:e==="textarea"}function Rg(t,e,n,r){ag(r),e=Us(e,"onChange"),0<e.length&&(n=new jc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Po=null,Xo=null;function W1(t){Bg(t,0)}function Ta(t){var e=Tr(t);if(eg(e))return t}function q1(t,e){if(t==="change")return e}var _g=!1;if(Wt){var Tl;if(Wt){var Cl="oninput"in document;if(!Cl){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),Cl=typeof Bd.oninput=="function"}Tl=Cl}else Tl=!1;_g=Tl&&(!document.documentMode||9<document.documentMode)}function zd(){Po&&(Po.detachEvent("onpropertychange",Og),Xo=Po=null)}function Og(t){if(t.propertyName==="value"&&Ta(Xo)){var e=[];Rg(e,Xo,t,bc(t)),hg(W1,e)}}function Q1(t,e,n){t==="focusin"?(zd(),Po=e,Xo=n,Po.attachEvent("onpropertychange",Og)):t==="focusout"&&zd()}function Y1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ta(Xo)}function X1(t,e){if(t==="click")return Ta(e)}function J1(t,e){if(t==="input"||t==="change")return Ta(e)}function Z1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nt=typeof Object.is=="function"?Object.is:Z1;function Jo(t,e){if(Nt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ou.call(e,o)||!Nt(t[o],e[o]))return!1}return!0}function jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hd(t,e){var n=jd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jd(n)}}function Lg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pg(){for(var t=window,e=Os();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Os(t.document)}return e}function Gc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ew(t){var e=Pg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Lg(n.ownerDocument.documentElement,n)){if(r!==null&&Gc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Hd(n,i);var s=Hd(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tw=Wt&&"documentMode"in document&&11>=document.documentMode,Er=null,Cu=null,Mo=null,ku=!1;function Kd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ku||Er==null||Er!==Os(r)||(r=Er,"selectionStart"in r&&Gc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mo&&Jo(Mo,r)||(Mo=r,r=Us(Cu,"onSelect"),0<r.length&&(e=new jc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Er)))}function Zi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sr={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},kl={},Mg={};Wt&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function Ca(t){if(kl[t])return kl[t];if(!Sr[t])return t;var e=Sr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mg)return kl[t]=e[n];return t}var $g=Ca("animationend"),bg=Ca("animationiteration"),Fg=Ca("animationstart"),Ug=Ca("transitionend"),Vg=new Map,Gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(t,e){Vg.set(t,e),ar(e,[t])}for(var Il=0;Il<Gd.length;Il++){var Dl=Gd[Il],nw=Dl.toLowerCase(),rw=Dl[0].toUpperCase()+Dl.slice(1);_n(nw,"on"+rw)}_n($g,"onAnimationEnd");_n(bg,"onAnimationIteration");_n(Fg,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(Ug,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function Wd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,n1(r,e,void 0,t),t.currentTarget=null}function Bg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Wd(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Wd(o,a,u),i=l}}}if(Ps)throw t=wu,Ps=!1,wu=null,t}function te(t,e){var n=e[xu];n===void 0&&(n=e[xu]=new Set);var r=t+"__bubble";n.has(r)||(zg(e,t,2,!1),n.add(r))}function Nl(t,e,n){var r=0;e&&(r|=4),zg(n,t,r,e)}var es="_reactListening"+Math.random().toString(36).slice(2);function Zo(t){if(!t[es]){t[es]=!0,Qp.forEach(function(n){n!=="selectionchange"&&(ow.has(n)||Nl(n,!1,t),Nl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[es]||(e[es]=!0,Nl("selectionchange",!1,e))}}function zg(t,e,n,r){switch(Ig(e)){case 1:var o=v1;break;case 4:o=w1;break;default:o=Bc}n=o.bind(null,e,n,t),o=void 0,!vu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Al(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=zn(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}hg(function(){var u=i,c=bc(n),d=[];e:{var h=Vg.get(t);if(h!==void 0){var m=jc,y=t;switch(t){case"keypress":if(Ss(n)===0)break e;case"keydown":case"keyup":m=P1;break;case"focusin":y="focus",m=Sl;break;case"focusout":y="blur",m=Sl;break;case"beforeblur":case"afterblur":m=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=T1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=b1;break;case $g:case bg:case Fg:m=I1;break;case Ug:m=U1;break;case"scroll":m=E1;break;case"wheel":m=B1;break;case"copy":case"cut":case"paste":m=N1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bd}var v=(e&4)!==0,N=!v&&t==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var f=u,g;f!==null;){g=f;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,p!==null&&(w=Wo(f,p),w!=null&&v.push(ei(f,w,g)))),N)break;f=f.return}0<v.length&&(h=new m(h,y,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==mu&&(y=n.relatedTarget||n.fromElement)&&(zn(y)||y[qt]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?zn(y):null,y!==null&&(N=lr(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=Md,w="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(v=bd,w="onPointerLeave",p="onPointerEnter",f="pointer"),N=m==null?h:Tr(m),g=y==null?h:Tr(y),h=new v(w,f+"leave",m,n,c),h.target=N,h.relatedTarget=g,w=null,zn(c)===u&&(v=new v(p,f+"enter",y,n,c),v.target=g,v.relatedTarget=N,w=v),N=w,m&&y)t:{for(v=m,p=y,f=0,g=v;g;g=fr(g))f++;for(g=0,w=p;w;w=fr(w))g++;for(;0<f-g;)v=fr(v),f--;for(;0<g-f;)p=fr(p),g--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=fr(v),p=fr(p)}v=null}else v=null;m!==null&&qd(d,h,m,v,!1),y!==null&&N!==null&&qd(d,N,y,v,!0)}}e:{if(h=u?Tr(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var D=q1;else if(Vd(h))if(_g)D=J1;else{D=Y1;var x=Q1}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=X1);if(D&&(D=D(t,u))){Rg(d,D,n,c);break e}x&&x(t,h,u),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&hu(h,"number",h.value)}switch(x=u?Tr(u):window,t){case"focusin":(Vd(x)||x.contentEditable==="true")&&(Er=x,Cu=u,Mo=null);break;case"focusout":Mo=Cu=Er=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,Kd(d,n,c);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":Kd(d,n,c)}var R;if(Kc)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else wr?Ag(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Ng&&n.locale!=="ko"&&(wr||_!=="onCompositionStart"?_==="onCompositionEnd"&&wr&&(R=Dg()):(cn=c,zc="value"in cn?cn.value:cn.textContent,wr=!0)),x=Us(u,_),0<x.length&&(_=new $d(_,t,null,n,c),d.push({event:_,listeners:x}),R?_.data=R:(R=xg(n),R!==null&&(_.data=R)))),(R=j1?H1(t,n):K1(t,n))&&(u=Us(u,"onBeforeInput"),0<u.length&&(c=new $d("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}Bg(d,e)})}function ei(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Us(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Wo(t,n),i!=null&&r.unshift(ei(t,i,o)),i=Wo(t,e),i!=null&&r.push(ei(t,i,o))),t=t.return}return r}function fr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qd(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=Wo(n,i),l!=null&&s.unshift(ei(n,l,a))):o||(l=Wo(n,i),l!=null&&s.push(ei(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var iw=/\r\n?/g,sw=/\u0000|\uFFFD/g;function Qd(t){return(typeof t=="string"?t:""+t).replace(iw,`
`).replace(sw,"")}function ts(t,e,n){if(e=Qd(e),Qd(t)!==e&&n)throw Error(S(425))}function Vs(){}var Iu=null,Du=null;function Nu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Au=typeof setTimeout=="function"?setTimeout:void 0,aw=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,lw=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(t){return Yd.resolve(null).then(t).catch(uw)}:Au;function uw(t){setTimeout(function(){throw t})}function xl(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Yo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Yo(e)}function mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oo=Math.random().toString(36).slice(2),_t="__reactFiber$"+oo,ti="__reactProps$"+oo,qt="__reactContainer$"+oo,xu="__reactEvents$"+oo,cw="__reactListeners$"+oo,hw="__reactHandles$"+oo;function zn(t){var e=t[_t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qt]||n[_t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xd(t);t!==null;){if(n=t[_t])return n;t=Xd(t)}return e}t=n,n=t.parentNode}return null}function Ni(t){return t=t[_t]||t[qt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function ka(t){return t[ti]||null}var Ru=[],Cr=-1;function On(t){return{current:t}}function re(t){0>Cr||(t.current=Ru[Cr],Ru[Cr]=null,Cr--)}function ee(t,e){Cr++,Ru[Cr]=t.current,t.current=e}var Dn={},He=On(Dn),et=On(!1),Xn=Dn;function zr(t,e){var n=t.type.contextTypes;if(!n)return Dn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function tt(t){return t=t.childContextTypes,t!=null}function Bs(){re(et),re(He)}function Jd(t,e,n){if(He.current!==Dn)throw Error(S(168));ee(He,e),ee(et,n)}function jg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(S(108,Q0(t)||"Unknown",o));return ce({},n,r)}function zs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dn,Xn=He.current,ee(He,t),ee(et,et.current),!0}function Zd(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=jg(t,e,Xn),r.__reactInternalMemoizedMergedChildContext=t,re(et),re(He),ee(He,t)):re(et),ee(et,n)}var zt=null,Ia=!1,Rl=!1;function Hg(t){zt===null?zt=[t]:zt.push(t)}function dw(t){Ia=!0,Hg(t)}function Ln(){if(!Rl&&zt!==null){Rl=!0;var t=0,e=X;try{var n=zt;for(X=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zt=null,Ia=!1}catch(o){throw zt!==null&&(zt=zt.slice(t+1)),gg(Fc,Ln),o}finally{X=e,Rl=!1}}return null}var kr=[],Ir=0,js=null,Hs=0,pt=[],gt=0,Jn=null,jt=1,Ht="";function Un(t,e){kr[Ir++]=Hs,kr[Ir++]=js,js=t,Hs=e}function Kg(t,e,n){pt[gt++]=jt,pt[gt++]=Ht,pt[gt++]=Jn,Jn=t;var r=jt;t=Ht;var o=32-It(r)-1;r&=~(1<<o),n+=1;var i=32-It(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,jt=1<<32-It(e)+o|n<<o|r,Ht=i+t}else jt=1<<i|n<<o|r,Ht=t}function Wc(t){t.return!==null&&(Un(t,1),Kg(t,1,0))}function qc(t){for(;t===js;)js=kr[--Ir],kr[Ir]=null,Hs=kr[--Ir],kr[Ir]=null;for(;t===Jn;)Jn=pt[--gt],pt[gt]=null,Ht=pt[--gt],pt[gt]=null,jt=pt[--gt],pt[gt]=null}var ut=null,at=null,ie=!1,kt=null;function Gg(t,e){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ef(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ut=t,at=mn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ut=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jn!==null?{id:jt,overflow:Ht}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ut=t,at=null,!0):!1;default:return!1}}function _u(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ou(t){if(ie){var e=at;if(e){var n=e;if(!ef(t,e)){if(_u(t))throw Error(S(418));e=mn(n.nextSibling);var r=ut;e&&ef(t,e)?Gg(r,n):(t.flags=t.flags&-4097|2,ie=!1,ut=t)}}else{if(_u(t))throw Error(S(418));t.flags=t.flags&-4097|2,ie=!1,ut=t}}}function tf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ut=t}function ns(t){if(t!==ut)return!1;if(!ie)return tf(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nu(t.type,t.memoizedProps)),e&&(e=at)){if(_u(t))throw Wg(),Error(S(418));for(;e;)Gg(t,e),e=mn(e.nextSibling)}if(tf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){at=mn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}at=null}}else at=ut?mn(t.stateNode.nextSibling):null;return!0}function Wg(){for(var t=at;t;)t=mn(t.nextSibling)}function jr(){at=ut=null,ie=!1}function Qc(t){kt===null?kt=[t]:kt.push(t)}var fw=tn.ReactCurrentBatchConfig;function vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function rs(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nf(t){var e=t._init;return e(t._payload)}function qg(t){function e(p,f){if(t){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function n(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function o(p,f){return p=En(p,f),p.index=0,p.sibling=null,p}function i(p,f,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,f,g,w){return f===null||f.tag!==6?(f=bl(g,p.mode,w),f.return=p,f):(f=o(f,g),f.return=p,f)}function l(p,f,g,w){var D=g.type;return D===vr?c(p,f,g.props.children,w,g.key):f!==null&&(f.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===sn&&nf(D)===f.type)?(w=o(f,g.props),w.ref=vo(p,f,g),w.return=p,w):(w=As(g.type,g.key,g.props,null,p.mode,w),w.ref=vo(p,f,g),w.return=p,w)}function u(p,f,g,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Fl(g,p.mode,w),f.return=p,f):(f=o(f,g.children||[]),f.return=p,f)}function c(p,f,g,w,D){return f===null||f.tag!==7?(f=Qn(g,p.mode,w,D),f.return=p,f):(f=o(f,g),f.return=p,f)}function d(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=bl(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Gi:return g=As(f.type,f.key,f.props,null,p.mode,g),g.ref=vo(p,null,f),g.return=p,g;case yr:return f=Fl(f,p.mode,g),f.return=p,f;case sn:var w=f._init;return d(p,w(f._payload),g)}if(ko(f)||fo(f))return f=Qn(f,p.mode,g,null),f.return=p,f;rs(p,f)}return null}function h(p,f,g,w){var D=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return D!==null?null:a(p,f,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Gi:return g.key===D?l(p,f,g,w):null;case yr:return g.key===D?u(p,f,g,w):null;case sn:return D=g._init,h(p,f,D(g._payload),w)}if(ko(g)||fo(g))return D!==null?null:c(p,f,g,w,null);rs(p,g)}return null}function m(p,f,g,w,D){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(g)||null,a(f,p,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gi:return p=p.get(w.key===null?g:w.key)||null,l(f,p,w,D);case yr:return p=p.get(w.key===null?g:w.key)||null,u(f,p,w,D);case sn:var x=w._init;return m(p,f,g,x(w._payload),D)}if(ko(w)||fo(w))return p=p.get(g)||null,c(f,p,w,D,null);rs(f,w)}return null}function y(p,f,g,w){for(var D=null,x=null,R=f,_=f=0,Z=null;R!==null&&_<g.length;_++){R.index>_?(Z=R,R=null):Z=R.sibling;var z=h(p,R,g[_],w);if(z===null){R===null&&(R=Z);break}t&&R&&z.alternate===null&&e(p,R),f=i(z,f,_),x===null?D=z:x.sibling=z,x=z,R=Z}if(_===g.length)return n(p,R),ie&&Un(p,_),D;if(R===null){for(;_<g.length;_++)R=d(p,g[_],w),R!==null&&(f=i(R,f,_),x===null?D=R:x.sibling=R,x=R);return ie&&Un(p,_),D}for(R=r(p,R);_<g.length;_++)Z=m(R,p,_,g[_],w),Z!==null&&(t&&Z.alternate!==null&&R.delete(Z.key===null?_:Z.key),f=i(Z,f,_),x===null?D=Z:x.sibling=Z,x=Z);return t&&R.forEach(function(ot){return e(p,ot)}),ie&&Un(p,_),D}function v(p,f,g,w){var D=fo(g);if(typeof D!="function")throw Error(S(150));if(g=D.call(g),g==null)throw Error(S(151));for(var x=D=null,R=f,_=f=0,Z=null,z=g.next();R!==null&&!z.done;_++,z=g.next()){R.index>_?(Z=R,R=null):Z=R.sibling;var ot=h(p,R,z.value,w);if(ot===null){R===null&&(R=Z);break}t&&R&&ot.alternate===null&&e(p,R),f=i(ot,f,_),x===null?D=ot:x.sibling=ot,x=ot,R=Z}if(z.done)return n(p,R),ie&&Un(p,_),D;if(R===null){for(;!z.done;_++,z=g.next())z=d(p,z.value,w),z!==null&&(f=i(z,f,_),x===null?D=z:x.sibling=z,x=z);return ie&&Un(p,_),D}for(R=r(p,R);!z.done;_++,z=g.next())z=m(R,p,_,z.value,w),z!==null&&(t&&z.alternate!==null&&R.delete(z.key===null?_:z.key),f=i(z,f,_),x===null?D=z:x.sibling=z,x=z);return t&&R.forEach(function(bn){return e(p,bn)}),ie&&Un(p,_),D}function N(p,f,g,w){if(typeof g=="object"&&g!==null&&g.type===vr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Gi:e:{for(var D=g.key,x=f;x!==null;){if(x.key===D){if(D=g.type,D===vr){if(x.tag===7){n(p,x.sibling),f=o(x,g.props.children),f.return=p,p=f;break e}}else if(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===sn&&nf(D)===x.type){n(p,x.sibling),f=o(x,g.props),f.ref=vo(p,x,g),f.return=p,p=f;break e}n(p,x);break}else e(p,x);x=x.sibling}g.type===vr?(f=Qn(g.props.children,p.mode,w,g.key),f.return=p,p=f):(w=As(g.type,g.key,g.props,null,p.mode,w),w.ref=vo(p,f,g),w.return=p,p=w)}return s(p);case yr:e:{for(x=g.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(p,f.sibling),f=o(f,g.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else e(p,f);f=f.sibling}f=Fl(g,p.mode,w),f.return=p,p=f}return s(p);case sn:return x=g._init,N(p,f,x(g._payload),w)}if(ko(g))return y(p,f,g,w);if(fo(g))return v(p,f,g,w);rs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(p,f.sibling),f=o(f,g),f.return=p,p=f):(n(p,f),f=bl(g,p.mode,w),f.return=p,p=f),s(p)):n(p,f)}return N}var Hr=qg(!0),Qg=qg(!1),Ks=On(null),Gs=null,Dr=null,Yc=null;function Xc(){Yc=Dr=Gs=null}function Jc(t){var e=Ks.current;re(Ks),t._currentValue=e}function Lu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pr(t,e){Gs=t,Yc=Dr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ze=!0),t.firstContext=null)}function wt(t){var e=t._currentValue;if(Yc!==t)if(t={context:t,memoizedValue:e,next:null},Dr===null){if(Gs===null)throw Error(S(308));Dr=t,Gs.dependencies={lanes:0,firstContext:t}}else Dr=Dr.next=t;return e}var jn=null;function Zc(t){jn===null?jn=[t]:jn.push(t)}function Yg(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Zc(e)):(n.next=o.next,o.next=n),e.interleaved=n,Qt(t,r)}function Qt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var an=!1;function eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Qt(t,n)}return o=r.interleaved,o===null?(e.next=e,Zc(r)):(e.next=o.next,o.next=e),r.interleaved=e,Qt(t,n)}function Ts(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uc(t,n)}}function rf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ws(t,e,n,r){var o=t.updateQueue;an=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,c=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(h=e,m=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(m,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(m,d,h):y,h==null)break e;d=ce({},d,h);break e;case 2:an=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(c===null&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);er|=s,t.lanes=s,t.memoizedState=d}}function of(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(S(191,o));o.call(r)}}}var Ai={},$t=On(Ai),ni=On(Ai),ri=On(Ai);function Hn(t){if(t===Ai)throw Error(S(174));return t}function th(t,e){switch(ee(ri,e),ee(ni,t),ee($t,Ai),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fu(e,t)}re($t),ee($t,e)}function Kr(){re($t),re(ni),re(ri)}function Jg(t){Hn(ri.current);var e=Hn($t.current),n=fu(e,t.type);e!==n&&(ee(ni,t),ee($t,n))}function nh(t){ni.current===t&&(re($t),re(ni))}var le=On(0);function qs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _l=[];function rh(){for(var t=0;t<_l.length;t++)_l[t]._workInProgressVersionPrimary=null;_l.length=0}var Cs=tn.ReactCurrentDispatcher,Ol=tn.ReactCurrentBatchConfig,Zn=0,ue=null,we=null,ke=null,Qs=!1,$o=!1,oi=0,pw=0;function Pe(){throw Error(S(321))}function oh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nt(t[n],e[n]))return!1;return!0}function ih(t,e,n,r,o,i){if(Zn=i,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cs.current=t===null||t.memoizedState===null?vw:ww,t=n(r,o),$o){i=0;do{if($o=!1,oi=0,25<=i)throw Error(S(301));i+=1,ke=we=null,e.updateQueue=null,Cs.current=Ew,t=n(r,o)}while($o)}if(Cs.current=Ys,e=we!==null&&we.next!==null,Zn=0,ke=we=ue=null,Qs=!1,e)throw Error(S(300));return t}function sh(){var t=oi!==0;return oi=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ue.memoizedState=ke=t:ke=ke.next=t,ke}function Et(){if(we===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=ke===null?ue.memoizedState:ke.next;if(e!==null)ke=e,we=t;else{if(t===null)throw Error(S(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},ke===null?ue.memoizedState=ke=t:ke=ke.next=t}return ke}function ii(t,e){return typeof e=="function"?e(t):e}function Ll(t){var e=Et(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=we,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var c=u.lane;if((Zn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,ue.lanes|=c,er|=c}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,Nt(r,e.memoizedState)||(Ze=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,ue.lanes|=i,er|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pl(t){var e=Et(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);Nt(i,e.memoizedState)||(Ze=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Zg(){}function em(t,e){var n=ue,r=Et(),o=e(),i=!Nt(r.memoizedState,o);if(i&&(r.memoizedState=o,Ze=!0),r=r.queue,ah(rm.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,si(9,nm.bind(null,n,r,o,e),void 0,null),Ie===null)throw Error(S(349));Zn&30||tm(n,e,o)}return o}function tm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nm(t,e,n,r){e.value=n,e.getSnapshot=r,om(e)&&im(t)}function rm(t,e,n){return n(function(){om(e)&&im(t)})}function om(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nt(t,n)}catch{return!0}}function im(t){var e=Qt(t,1);e!==null&&Dt(e,t,1,-1)}function sf(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:t},e.queue=t,t=t.dispatch=yw.bind(null,ue,t),[e.memoizedState,t]}function si(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sm(){return Et().memoizedState}function ks(t,e,n,r){var o=Rt();ue.flags|=t,o.memoizedState=si(1|e,n,void 0,r===void 0?null:r)}function Da(t,e,n,r){var o=Et();r=r===void 0?null:r;var i=void 0;if(we!==null){var s=we.memoizedState;if(i=s.destroy,r!==null&&oh(r,s.deps)){o.memoizedState=si(e,n,i,r);return}}ue.flags|=t,o.memoizedState=si(1|e,n,i,r)}function af(t,e){return ks(8390656,8,t,e)}function ah(t,e){return Da(2048,8,t,e)}function am(t,e){return Da(4,2,t,e)}function lm(t,e){return Da(4,4,t,e)}function um(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cm(t,e,n){return n=n!=null?n.concat([t]):null,Da(4,4,um.bind(null,e,t),n)}function lh(){}function hm(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dm(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fm(t,e,n){return Zn&21?(Nt(n,e)||(n=vg(),ue.lanes|=n,er|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ze=!0),t.memoizedState=n)}function gw(t,e){var n=X;X=n!==0&&4>n?n:4,t(!0);var r=Ol.transition;Ol.transition={};try{t(!1),e()}finally{X=n,Ol.transition=r}}function pm(){return Et().memoizedState}function mw(t,e,n){var r=wn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gm(t))mm(e,n);else if(n=Yg(t,e,n,r),n!==null){var o=qe();Dt(n,t,r,o),ym(n,e,r)}}function yw(t,e,n){var r=wn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gm(t))mm(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Nt(a,s)){var l=e.interleaved;l===null?(o.next=o,Zc(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=Yg(t,e,o,r),n!==null&&(o=qe(),Dt(n,t,r,o),ym(n,e,r))}}function gm(t){var e=t.alternate;return t===ue||e!==null&&e===ue}function mm(t,e){$o=Qs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ym(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uc(t,n)}}var Ys={readContext:wt,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},vw={readContext:wt,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:wt,useEffect:af,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ks(4194308,4,um.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ks(4194308,4,t,e)},useInsertionEffect:function(t,e){return ks(4,2,t,e)},useMemo:function(t,e){var n=Rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mw.bind(null,ue,t),[r.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:sf,useDebugValue:lh,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=sf(!1),e=t[0];return t=gw.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ue,o=Rt();if(ie){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),Ie===null)throw Error(S(349));Zn&30||tm(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,af(rm.bind(null,r,i,t),[t]),r.flags|=2048,si(9,nm.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Rt(),e=Ie.identifierPrefix;if(ie){var n=Ht,r=jt;n=(r&~(1<<32-It(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ww={readContext:wt,useCallback:hm,useContext:wt,useEffect:ah,useImperativeHandle:cm,useInsertionEffect:am,useLayoutEffect:lm,useMemo:dm,useReducer:Ll,useRef:sm,useState:function(){return Ll(ii)},useDebugValue:lh,useDeferredValue:function(t){var e=Et();return fm(e,we.memoizedState,t)},useTransition:function(){var t=Ll(ii)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Zg,useSyncExternalStore:em,useId:pm,unstable_isNewReconciler:!1},Ew={readContext:wt,useCallback:hm,useContext:wt,useEffect:ah,useImperativeHandle:cm,useInsertionEffect:am,useLayoutEffect:lm,useMemo:dm,useReducer:Pl,useRef:sm,useState:function(){return Pl(ii)},useDebugValue:lh,useDeferredValue:function(t){var e=Et();return we===null?e.memoizedState=t:fm(e,we.memoizedState,t)},useTransition:function(){var t=Pl(ii)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Zg,useSyncExternalStore:em,useId:pm,unstable_isNewReconciler:!1};function Tt(t,e){if(t&&t.defaultProps){e=ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Na={isMounted:function(t){return(t=t._reactInternals)?lr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qe(),o=wn(t),i=Gt(r,o);i.payload=e,n!=null&&(i.callback=n),e=yn(t,i,o),e!==null&&(Dt(e,t,o,r),Ts(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qe(),o=wn(t),i=Gt(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=yn(t,i,o),e!==null&&(Dt(e,t,o,r),Ts(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qe(),r=wn(t),o=Gt(n,r);o.tag=2,e!=null&&(o.callback=e),e=yn(t,o,r),e!==null&&(Dt(e,t,r,n),Ts(e,t,r))}};function lf(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Jo(n,r)||!Jo(o,i):!0}function vm(t,e,n){var r=!1,o=Dn,i=e.contextType;return typeof i=="object"&&i!==null?i=wt(i):(o=tt(e)?Xn:He.current,r=e.contextTypes,i=(r=r!=null)?zr(t,o):Dn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Na,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function uf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Na.enqueueReplaceState(e,e.state,null)}function Mu(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},eh(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=wt(i):(i=tt(e)?Xn:He.current,o.context=zr(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Pu(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Na.enqueueReplaceState(o,o.state,null),Ws(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Gr(t,e){try{var n="",r=e;do n+=q0(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Ml(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $u(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sw=typeof WeakMap=="function"?WeakMap:Map;function wm(t,e,n){n=Gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Js||(Js=!0,Gu=r),$u(t,e)},n}function Em(t,e,n){n=Gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){$u(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$u(t,e),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function cf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sw;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=Mw.bind(null,t,e,n),e.then(t,t))}function hf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function df(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gt(-1,1),e.tag=2,yn(n,e,1))),n.lanes|=1),t)}var Tw=tn.ReactCurrentOwner,Ze=!1;function Ge(t,e,n,r){e.child=t===null?Qg(e,null,n,r):Hr(e,t.child,n,r)}function ff(t,e,n,r,o){n=n.render;var i=e.ref;return Pr(e,o),r=ih(t,e,n,r,i,o),n=sh(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Yt(t,e,o)):(ie&&n&&Wc(e),e.flags|=1,Ge(t,e,r,o),e.child)}function pf(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!mh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Sm(t,e,i,r,o)):(t=As(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jo,n(s,r)&&t.ref===e.ref)return Yt(t,e,o)}return e.flags|=1,t=En(i,r),t.ref=e.ref,t.return=e,e.child=t}function Sm(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Jo(i,r)&&t.ref===e.ref)if(Ze=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Ze=!0);else return e.lanes=t.lanes,Yt(t,e,o)}return bu(t,e,n,r,o)}function Tm(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Ar,st),st|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ee(Ar,st),st|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ee(Ar,st),st|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ee(Ar,st),st|=r;return Ge(t,e,o,n),e.child}function Cm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bu(t,e,n,r,o){var i=tt(n)?Xn:He.current;return i=zr(e,i),Pr(e,o),n=ih(t,e,n,r,i,o),r=sh(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Yt(t,e,o)):(ie&&r&&Wc(e),e.flags|=1,Ge(t,e,n,o),e.child)}function gf(t,e,n,r,o){if(tt(n)){var i=!0;zs(e)}else i=!1;if(Pr(e,o),e.stateNode===null)Is(t,e),vm(e,n,r),Mu(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=wt(u):(u=tt(n)?Xn:He.current,u=zr(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&uf(e,s,r,u),an=!1;var h=e.memoizedState;s.state=h,Ws(e,r,s,o),l=e.memoizedState,a!==r||h!==l||et.current||an?(typeof c=="function"&&(Pu(e,n,c,r),l=e.memoizedState),(a=an||lf(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Xg(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Tt(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=wt(l):(l=tt(n)?Xn:He.current,l=zr(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&uf(e,s,r,l),an=!1,h=e.memoizedState,s.state=h,Ws(e,r,s,o);var y=e.memoizedState;a!==d||h!==y||et.current||an?(typeof m=="function"&&(Pu(e,n,m,r),y=e.memoizedState),(u=an||lf(e,n,u,r,h,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Fu(t,e,n,r,i,o)}function Fu(t,e,n,r,o,i){Cm(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&Zd(e,n,!1),Yt(t,e,i);r=e.stateNode,Tw.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Hr(e,t.child,null,i),e.child=Hr(e,null,a,i)):Ge(t,e,a,i),e.memoizedState=r.state,o&&Zd(e,n,!0),e.child}function km(t){var e=t.stateNode;e.pendingContext?Jd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jd(t,e.context,!1),th(t,e.containerInfo)}function mf(t,e,n,r,o){return jr(),Qc(o),e.flags|=256,Ge(t,e,n,r),e.child}var Uu={dehydrated:null,treeContext:null,retryLane:0};function Vu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Im(t,e,n){var r=e.pendingProps,o=le.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),ee(le,o&1),t===null)return Ou(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ra(s,r,0,null),t=Qn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vu(n),e.memoizedState=Uu,t):uh(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Cw(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=En(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=En(a,i):(i=Qn(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?Vu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=Uu,r}return i=t.child,t=i.sibling,r=En(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uh(t,e){return e=Ra({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function os(t,e,n,r){return r!==null&&Qc(r),Hr(e,t.child,null,n),t=uh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cw(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Ml(Error(S(422))),os(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Ra({mode:"visible",children:r.children},o,0,null),i=Qn(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Hr(e,t.child,null,s),e.child.memoizedState=Vu(s),e.memoizedState=Uu,i);if(!(e.mode&1))return os(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(S(419)),r=Ml(i,r,void 0),os(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ze||a){if(r=Ie,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Qt(t,o),Dt(r,t,o,-1))}return gh(),r=Ml(Error(S(421))),os(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=$w.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,at=mn(o.nextSibling),ut=e,ie=!0,kt=null,t!==null&&(pt[gt++]=jt,pt[gt++]=Ht,pt[gt++]=Jn,jt=t.id,Ht=t.overflow,Jn=e),e=uh(e,r.children),e.flags|=4096,e)}function yf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lu(t.return,e,n)}function $l(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Dm(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Ge(t,e,r.children,n),r=le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yf(t,n,e);else if(t.tag===19)yf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ee(le,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&qs(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),$l(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&qs(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}$l(e,!0,n,null,i);break;case"together":$l(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Is(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),er|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=En(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=En(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kw(t,e,n){switch(e.tag){case 3:km(e),jr();break;case 5:Jg(e);break;case 1:tt(e.type)&&zs(e);break;case 4:th(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;ee(Ks,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ee(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?Im(t,e,n):(ee(le,le.current&1),t=Yt(t,e,n),t!==null?t.sibling:null);ee(le,le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dm(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ee(le,le.current),r)break;return null;case 22:case 23:return e.lanes=0,Tm(t,e,n)}return Yt(t,e,n)}var Nm,Bu,Am,xm;Nm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bu=function(){};Am=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Hn($t.current);var i=null;switch(n){case"input":o=uu(t,o),r=uu(t,r),i=[];break;case"select":o=ce({},o,{value:void 0}),r=ce({},r,{value:void 0}),i=[];break;case"textarea":o=du(t,o),r=du(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vs)}pu(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ko.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ko.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&te("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};xm=function(t,e,n,r){n!==r&&(e.flags|=4)};function wo(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Iw(t,e,n){var r=e.pendingProps;switch(qc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(e),null;case 1:return tt(e.type)&&Bs(),Me(e),null;case 3:return r=e.stateNode,Kr(),re(et),re(He),rh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ns(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kt!==null&&(Qu(kt),kt=null))),Bu(t,e),Me(e),null;case 5:nh(e);var o=Hn(ri.current);if(n=e.type,t!==null&&e.stateNode!=null)Am(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return Me(e),null}if(t=Hn($t.current),ns(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_t]=e,r[ti]=i,t=(e.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(o=0;o<Do.length;o++)te(Do[o],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Id(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":Nd(r,i),te("invalid",r)}pu(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ts(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ts(r.textContent,a,t),o=["children",""+a]):Ko.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&te("scroll",r)}switch(n){case"input":Wi(r),Dd(r,i,!0);break;case"textarea":Wi(r),Ad(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vs)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[_t]=e,t[ti]=r,Nm(t,e,!1,!1),e.stateNode=t;e:{switch(s=gu(n,r),n){case"dialog":te("cancel",t),te("close",t),o=r;break;case"iframe":case"object":case"embed":te("load",t),o=r;break;case"video":case"audio":for(o=0;o<Do.length;o++)te(Do[o],t);o=r;break;case"source":te("error",t),o=r;break;case"img":case"image":case"link":te("error",t),te("load",t),o=r;break;case"details":te("toggle",t),o=r;break;case"input":Id(t,r),o=uu(t,r),te("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=ce({},r,{value:void 0}),te("invalid",t);break;case"textarea":Nd(t,r),o=du(t,r),te("invalid",t);break;default:o=r}pu(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?sg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&og(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Go(t,l):typeof l=="number"&&Go(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ko.hasOwnProperty(i)?l!=null&&i==="onScroll"&&te("scroll",t):l!=null&&Lc(t,i,l,s))}switch(n){case"input":Wi(t),Dd(t,r,!1);break;case"textarea":Wi(t),Ad(t);break;case"option":r.value!=null&&t.setAttribute("value",""+In(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Rr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Rr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Me(e),null;case 6:if(t&&e.stateNode!=null)xm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=Hn(ri.current),Hn($t.current),ns(e)){if(r=e.stateNode,n=e.memoizedProps,r[_t]=e,(i=r.nodeValue!==n)&&(t=ut,t!==null))switch(t.tag){case 3:ts(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ts(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=e,e.stateNode=r}return Me(e),null;case 13:if(re(le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&at!==null&&e.mode&1&&!(e.flags&128))Wg(),jr(),e.flags|=98560,i=!1;else if(i=ns(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(S(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[_t]=e}else jr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Me(e),i=!1}else kt!==null&&(Qu(kt),kt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?Se===0&&(Se=3):gh())),e.updateQueue!==null&&(e.flags|=4),Me(e),null);case 4:return Kr(),Bu(t,e),t===null&&Zo(e.stateNode.containerInfo),Me(e),null;case 10:return Jc(e.type._context),Me(e),null;case 17:return tt(e.type)&&Bs(),Me(e),null;case 19:if(re(le),i=e.memoizedState,i===null)return Me(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)wo(i,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=qs(t),s!==null){for(e.flags|=128,wo(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ee(le,le.current&1|2),e.child}t=t.sibling}i.tail!==null&&ge()>Wr&&(e.flags|=128,r=!0,wo(i,!1),e.lanes=4194304)}else{if(!r)if(t=qs(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ie)return Me(e),null}else 2*ge()-i.renderingStartTime>Wr&&n!==1073741824&&(e.flags|=128,r=!0,wo(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ge(),e.sibling=null,n=le.current,ee(le,r?n&1|2:n&1),e):(Me(e),null);case 22:case 23:return ph(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?st&1073741824&&(Me(e),e.subtreeFlags&6&&(e.flags|=8192)):Me(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Dw(t,e){switch(qc(e),e.tag){case 1:return tt(e.type)&&Bs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kr(),re(et),re(He),rh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nh(e),null;case 13:if(re(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));jr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(le),null;case 4:return Kr(),null;case 10:return Jc(e.type._context),null;case 22:case 23:return ph(),null;case 24:return null;default:return null}}var is=!1,Fe=!1,Nw=typeof WeakSet=="function"?WeakSet:Set,A=null;function Nr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(t,e,r)}else n.current=null}function zu(t,e,n){try{n()}catch(r){fe(t,e,r)}}var vf=!1;function Aw(t,e){if(Iu=bs,t=Pg(),Gc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===o&&(a=s),h===i&&++c===r&&(l=s),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Du={focusedElem:t,selectionRange:n},bs=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,N=y.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:Tt(e.type,v),N);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(w){fe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return y=vf,vf=!1,y}function bo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&zu(e,n,i)}o=o.next}while(o!==r)}}function Aa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ju(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Rm(t){var e=t.alternate;e!==null&&(t.alternate=null,Rm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_t],delete e[ti],delete e[xu],delete e[cw],delete e[hw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _m(t){return t.tag===5||t.tag===3||t.tag===4}function wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_m(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vs));else if(r!==4&&(t=t.child,t!==null))for(Hu(t,e,n),t=t.sibling;t!==null;)Hu(t,e,n),t=t.sibling}function Ku(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ku(t,e,n),t=t.sibling;t!==null;)Ku(t,e,n),t=t.sibling}var Ae=null,Ct=!1;function on(t,e,n){for(n=n.child;n!==null;)Om(t,e,n),n=n.sibling}function Om(t,e,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Ea,n)}catch{}switch(n.tag){case 5:Fe||Nr(n,e);case 6:var r=Ae,o=Ct;Ae=null,on(t,e,n),Ae=r,Ct=o,Ae!==null&&(Ct?(t=Ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(Ct?(t=Ae,n=n.stateNode,t.nodeType===8?xl(t.parentNode,n):t.nodeType===1&&xl(t,n),Yo(t)):xl(Ae,n.stateNode));break;case 4:r=Ae,o=Ct,Ae=n.stateNode.containerInfo,Ct=!0,on(t,e,n),Ae=r,Ct=o;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&zu(n,e,s),o=o.next}while(o!==r)}on(t,e,n);break;case 1:if(!Fe&&(Nr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,e,a)}on(t,e,n);break;case 21:on(t,e,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,on(t,e,n),Fe=r):on(t,e,n);break;default:on(t,e,n)}}function Ef(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Nw),e.forEach(function(r){var o=bw.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function St(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ae=a.stateNode,Ct=!1;break e;case 3:Ae=a.stateNode.containerInfo,Ct=!0;break e;case 4:Ae=a.stateNode.containerInfo,Ct=!0;break e}a=a.return}if(Ae===null)throw Error(S(160));Om(i,s,o),Ae=null,Ct=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){fe(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lm(e,t),e=e.sibling}function Lm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(St(e,t),xt(t),r&4){try{bo(3,t,t.return),Aa(3,t)}catch(v){fe(t,t.return,v)}try{bo(5,t,t.return)}catch(v){fe(t,t.return,v)}}break;case 1:St(e,t),xt(t),r&512&&n!==null&&Nr(n,n.return);break;case 5:if(St(e,t),xt(t),r&512&&n!==null&&Nr(n,n.return),t.flags&32){var o=t.stateNode;try{Go(o,"")}catch(v){fe(t,t.return,v)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&tg(o,i),gu(a,s);var u=gu(a,i);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?sg(o,d):c==="dangerouslySetInnerHTML"?og(o,d):c==="children"?Go(o,d):Lc(o,c,d,u)}switch(a){case"input":cu(o,i);break;case"textarea":ng(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Rr(o,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Rr(o,!!i.multiple,i.defaultValue,!0):Rr(o,!!i.multiple,i.multiple?[]:"",!1))}o[ti]=i}catch(v){fe(t,t.return,v)}}break;case 6:if(St(e,t),xt(t),r&4){if(t.stateNode===null)throw Error(S(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(v){fe(t,t.return,v)}}break;case 3:if(St(e,t),xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yo(e.containerInfo)}catch(v){fe(t,t.return,v)}break;case 4:St(e,t),xt(t);break;case 13:St(e,t),xt(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(dh=ge())),r&4&&Ef(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Fe=(u=Fe)||c,St(e,t),Fe=u):St(e,t),xt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(A=t,c=t.child;c!==null;){for(d=A=c;A!==null;){switch(h=A,m=h.child,h.tag){case 0:case 11:case 14:case 15:bo(4,h,h.return);break;case 1:Nr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){fe(r,n,v)}}break;case 5:Nr(h,h.return);break;case 22:if(h.memoizedState!==null){Tf(d);continue}}m!==null?(m.return=h,A=m):Tf(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ig("display",s))}catch(v){fe(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){fe(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:St(e,t),xt(t),r&4&&Ef(t);break;case 21:break;default:St(e,t),xt(t)}}function xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_m(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Go(o,""),r.flags&=-33);var i=wf(t);Ku(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=wf(t);Hu(t,a,s);break;default:throw Error(S(161))}}catch(l){fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xw(t,e,n){A=t,Pm(t)}function Pm(t,e,n){for(var r=(t.mode&1)!==0;A!==null;){var o=A,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||is;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Fe;a=is;var u=Fe;if(is=s,(Fe=l)&&!u)for(A=o;A!==null;)s=A,l=s.child,s.tag===22&&s.memoizedState!==null?Cf(o):l!==null?(l.return=s,A=l):Cf(o);for(;i!==null;)A=i,Pm(i),i=i.sibling;A=o,is=a,Fe=u}Sf(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,A=i):Sf(t)}}function Sf(t){for(;A!==null;){var e=A;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fe||Aa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Tt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&of(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}of(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Yo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}Fe||e.flags&512&&ju(e)}catch(h){fe(e,e.return,h)}}if(e===t){A=null;break}if(n=e.sibling,n!==null){n.return=e.return,A=n;break}A=e.return}}function Tf(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var n=e.sibling;if(n!==null){n.return=e.return,A=n;break}A=e.return}}function Cf(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Aa(4,e)}catch(l){fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){fe(e,o,l)}}var i=e.return;try{ju(e)}catch(l){fe(e,i,l)}break;case 5:var s=e.return;try{ju(e)}catch(l){fe(e,s,l)}}}catch(l){fe(e,e.return,l)}if(e===t){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var Rw=Math.ceil,Xs=tn.ReactCurrentDispatcher,ch=tn.ReactCurrentOwner,vt=tn.ReactCurrentBatchConfig,q=0,Ie=null,ve=null,_e=0,st=0,Ar=On(0),Se=0,ai=null,er=0,xa=0,hh=0,Fo=null,Xe=null,dh=0,Wr=1/0,Bt=null,Js=!1,Gu=null,vn=null,ss=!1,hn=null,Zs=0,Uo=0,Wu=null,Ds=-1,Ns=0;function qe(){return q&6?ge():Ds!==-1?Ds:Ds=ge()}function wn(t){return t.mode&1?q&2&&_e!==0?_e&-_e:fw.transition!==null?(Ns===0&&(Ns=vg()),Ns):(t=X,t!==0||(t=window.event,t=t===void 0?16:Ig(t.type)),t):1}function Dt(t,e,n,r){if(50<Uo)throw Uo=0,Wu=null,Error(S(185));Ii(t,n,r),(!(q&2)||t!==Ie)&&(t===Ie&&(!(q&2)&&(xa|=n),Se===4&&un(t,_e)),nt(t,r),n===1&&q===0&&!(e.mode&1)&&(Wr=ge()+500,Ia&&Ln()))}function nt(t,e){var n=t.callbackNode;f1(t,e);var r=$s(t,t===Ie?_e:0);if(r===0)n!==null&&_d(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_d(n),e===1)t.tag===0?dw(kf.bind(null,t)):Hg(kf.bind(null,t)),lw(function(){!(q&6)&&Ln()}),n=null;else{switch(wg(r)){case 1:n=Fc;break;case 4:n=mg;break;case 16:n=Ms;break;case 536870912:n=yg;break;default:n=Ms}n=zm(n,Mm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Mm(t,e){if(Ds=-1,Ns=0,q&6)throw Error(S(327));var n=t.callbackNode;if(Mr()&&t.callbackNode!==n)return null;var r=$s(t,t===Ie?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ea(t,r);else{e=r;var o=q;q|=2;var i=bm();(Ie!==t||_e!==e)&&(Bt=null,Wr=ge()+500,qn(t,e));do try{Lw();break}catch(a){$m(t,a)}while(1);Xc(),Xs.current=i,q=o,ve!==null?e=0:(Ie=null,_e=0,e=Se)}if(e!==0){if(e===2&&(o=Eu(t),o!==0&&(r=o,e=qu(t,o))),e===1)throw n=ai,qn(t,0),un(t,r),nt(t,ge()),n;if(e===6)un(t,r);else{if(o=t.current.alternate,!(r&30)&&!_w(o)&&(e=ea(t,r),e===2&&(i=Eu(t),i!==0&&(r=i,e=qu(t,i))),e===1))throw n=ai,qn(t,0),un(t,r),nt(t,ge()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:Vn(t,Xe,Bt);break;case 3:if(un(t,r),(r&130023424)===r&&(e=dh+500-ge(),10<e)){if($s(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){qe(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Au(Vn.bind(null,t,Xe,Bt),e);break}Vn(t,Xe,Bt);break;case 4:if(un(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-It(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rw(r/1960))-r,10<r){t.timeoutHandle=Au(Vn.bind(null,t,Xe,Bt),r);break}Vn(t,Xe,Bt);break;case 5:Vn(t,Xe,Bt);break;default:throw Error(S(329))}}}return nt(t,ge()),t.callbackNode===n?Mm.bind(null,t):null}function qu(t,e){var n=Fo;return t.current.memoizedState.isDehydrated&&(qn(t,e).flags|=256),t=ea(t,e),t!==2&&(e=Xe,Xe=n,e!==null&&Qu(e)),t}function Qu(t){Xe===null?Xe=t:Xe.push.apply(Xe,t)}function _w(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Nt(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function un(t,e){for(e&=~hh,e&=~xa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-It(e),r=1<<n;t[n]=-1,e&=~r}}function kf(t){if(q&6)throw Error(S(327));Mr();var e=$s(t,0);if(!(e&1))return nt(t,ge()),null;var n=ea(t,e);if(t.tag!==0&&n===2){var r=Eu(t);r!==0&&(e=r,n=qu(t,r))}if(n===1)throw n=ai,qn(t,0),un(t,e),nt(t,ge()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vn(t,Xe,Bt),nt(t,ge()),null}function fh(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(Wr=ge()+500,Ia&&Ln())}}function tr(t){hn!==null&&hn.tag===0&&!(q&6)&&Mr();var e=q;q|=1;var n=vt.transition,r=X;try{if(vt.transition=null,X=1,t)return t()}finally{X=r,vt.transition=n,q=e,!(q&6)&&Ln()}}function ph(){st=Ar.current,re(Ar)}function qn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aw(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(qc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bs();break;case 3:Kr(),re(et),re(He),rh();break;case 5:nh(r);break;case 4:Kr();break;case 13:re(le);break;case 19:re(le);break;case 10:Jc(r.type._context);break;case 22:case 23:ph()}n=n.return}if(Ie=t,ve=t=En(t.current,null),_e=st=e,Se=0,ai=null,hh=xa=er=0,Xe=Fo=null,jn!==null){for(e=0;e<jn.length;e++)if(n=jn[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}jn=null}return t}function $m(t,e){do{var n=ve;try{if(Xc(),Cs.current=Ys,Qs){for(var r=ue.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Qs=!1}if(Zn=0,ke=we=ue=null,$o=!1,oi=0,ch.current=null,n===null||n.return===null){Se=1,ai=e,ve=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=hf(s);if(m!==null){m.flags&=-257,df(m,s,a,i,e),m.mode&1&&cf(i,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){cf(i,u,e),gh();break e}l=Error(S(426))}}else if(ie&&a.mode&1){var N=hf(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),df(N,s,a,i,e),Qc(Gr(l,a));break e}}i=l=Gr(l,a),Se!==4&&(Se=2),Fo===null?Fo=[i]:Fo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=wm(i,l,e);rf(i,p);break e;case 1:a=l;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(vn===null||!vn.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Em(i,a,e);rf(i,w);break e}}i=i.return}while(i!==null)}Um(n)}catch(D){e=D,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(1)}function bm(){var t=Xs.current;return Xs.current=Ys,t===null?Ys:t}function gh(){(Se===0||Se===3||Se===2)&&(Se=4),Ie===null||!(er&268435455)&&!(xa&268435455)||un(Ie,_e)}function ea(t,e){var n=q;q|=2;var r=bm();(Ie!==t||_e!==e)&&(Bt=null,qn(t,e));do try{Ow();break}catch(o){$m(t,o)}while(1);if(Xc(),q=n,Xs.current=r,ve!==null)throw Error(S(261));return Ie=null,_e=0,Se}function Ow(){for(;ve!==null;)Fm(ve)}function Lw(){for(;ve!==null&&!o1();)Fm(ve)}function Fm(t){var e=Bm(t.alternate,t,st);t.memoizedProps=t.pendingProps,e===null?Um(t):ve=e,ch.current=null}function Um(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Dw(n,e),n!==null){n.flags&=32767,ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,ve=null;return}}else if(n=Iw(n,e,st),n!==null){ve=n;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);Se===0&&(Se=5)}function Vn(t,e,n){var r=X,o=vt.transition;try{vt.transition=null,X=1,Pw(t,e,n,r)}finally{vt.transition=o,X=r}return null}function Pw(t,e,n,r){do Mr();while(hn!==null);if(q&6)throw Error(S(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(p1(t,i),t===Ie&&(ve=Ie=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ss||(ss=!0,zm(Ms,function(){return Mr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vt.transition,vt.transition=null;var s=X;X=1;var a=q;q|=4,ch.current=null,Aw(t,n),Lm(n,t),ew(Du),bs=!!Iu,Du=Iu=null,t.current=n,xw(n),i1(),q=a,X=s,vt.transition=i}else t.current=n;if(ss&&(ss=!1,hn=t,Zs=o),i=t.pendingLanes,i===0&&(vn=null),l1(n.stateNode),nt(t,ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Js)throw Js=!1,t=Gu,Gu=null,t;return Zs&1&&t.tag!==0&&Mr(),i=t.pendingLanes,i&1?t===Wu?Uo++:(Uo=0,Wu=t):Uo=0,Ln(),null}function Mr(){if(hn!==null){var t=wg(Zs),e=vt.transition,n=X;try{if(vt.transition=null,X=16>t?16:t,hn===null)var r=!1;else{if(t=hn,hn=null,Zs=0,q&6)throw Error(S(331));var o=q;for(q|=4,A=t.current;A!==null;){var i=A,s=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:bo(8,c,i)}var d=c.child;if(d!==null)d.return=c,A=d;else for(;A!==null;){c=A;var h=c.sibling,m=c.return;if(Rm(c),c===u){A=null;break}if(h!==null){h.return=m,A=h;break}A=m}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}A=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,A=s;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bo(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,A=p;break e}A=i.return}}var f=t.current;for(A=f;A!==null;){s=A;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,A=g;else e:for(s=f;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Aa(9,a)}}catch(D){fe(a,a.return,D)}if(a===s){A=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,A=w;break e}A=a.return}}if(q=o,Ln(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Ea,t)}catch{}r=!0}return r}finally{X=n,vt.transition=e}}return!1}function If(t,e,n){e=Gr(n,e),e=wm(t,e,1),t=yn(t,e,1),e=qe(),t!==null&&(Ii(t,1,e),nt(t,e))}function fe(t,e,n){if(t.tag===3)If(t,t,n);else for(;e!==null;){if(e.tag===3){If(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){t=Gr(n,t),t=Em(e,t,1),e=yn(e,t,1),t=qe(),e!==null&&(Ii(e,1,t),nt(e,t));break}}e=e.return}}function Mw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qe(),t.pingedLanes|=t.suspendedLanes&n,Ie===t&&(_e&n)===n&&(Se===4||Se===3&&(_e&130023424)===_e&&500>ge()-dh?qn(t,0):hh|=n),nt(t,e)}function Vm(t,e){e===0&&(t.mode&1?(e=Yi,Yi<<=1,!(Yi&130023424)&&(Yi=4194304)):e=1);var n=qe();t=Qt(t,e),t!==null&&(Ii(t,e,n),nt(t,n))}function $w(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Vm(t,n)}function bw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),Vm(t,n)}var Bm;Bm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||et.current)Ze=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ze=!1,kw(t,e,n);Ze=!!(t.flags&131072)}else Ze=!1,ie&&e.flags&1048576&&Kg(e,Hs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Is(t,e),t=e.pendingProps;var o=zr(e,He.current);Pr(e,n),o=ih(null,e,r,t,o,n);var i=sh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tt(r)?(i=!0,zs(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,eh(e),o.updater=Na,e.stateNode=o,o._reactInternals=e,Mu(e,r,t,n),e=Fu(null,e,r,!0,i,n)):(e.tag=0,ie&&i&&Wc(e),Ge(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Is(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=Uw(r),t=Tt(r,t),o){case 0:e=bu(null,e,r,t,n);break e;case 1:e=gf(null,e,r,t,n);break e;case 11:e=ff(null,e,r,t,n);break e;case 14:e=pf(null,e,r,Tt(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Tt(r,o),bu(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Tt(r,o),gf(t,e,r,o,n);case 3:e:{if(km(e),t===null)throw Error(S(387));r=e.pendingProps,i=e.memoizedState,o=i.element,Xg(t,e),Ws(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Gr(Error(S(423)),e),e=mf(t,e,r,n,o);break e}else if(r!==o){o=Gr(Error(S(424)),e),e=mf(t,e,r,n,o);break e}else for(at=mn(e.stateNode.containerInfo.firstChild),ut=e,ie=!0,kt=null,n=Qg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jr(),r===o){e=Yt(t,e,n);break e}Ge(t,e,r,n)}e=e.child}return e;case 5:return Jg(e),t===null&&Ou(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,Nu(r,o)?s=null:i!==null&&Nu(r,i)&&(e.flags|=32),Cm(t,e),Ge(t,e,s,n),e.child;case 6:return t===null&&Ou(e),null;case 13:return Im(t,e,n);case 4:return th(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hr(e,null,r,n):Ge(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Tt(r,o),ff(t,e,r,o,n);case 7:return Ge(t,e,e.pendingProps,n),e.child;case 8:return Ge(t,e,e.pendingProps.children,n),e.child;case 12:return Ge(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,ee(Ks,r._currentValue),r._currentValue=s,i!==null)if(Nt(i.value,s)){if(i.children===o.children&&!et.current){e=Yt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Gt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Lu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(S(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Lu(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ge(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Pr(e,n),o=wt(o),r=r(o),e.flags|=1,Ge(t,e,r,n),e.child;case 14:return r=e.type,o=Tt(r,e.pendingProps),o=Tt(r.type,o),pf(t,e,r,o,n);case 15:return Sm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Tt(r,o),Is(t,e),e.tag=1,tt(r)?(t=!0,zs(e)):t=!1,Pr(e,n),vm(e,r,o),Mu(e,r,o,n),Fu(null,e,r,!0,t,n);case 19:return Dm(t,e,n);case 22:return Tm(t,e,n)}throw Error(S(156,e.tag))};function zm(t,e){return gg(t,e)}function Fw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,e,n,r){return new Fw(t,e,n,r)}function mh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Uw(t){if(typeof t=="function")return mh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mc)return 11;if(t===$c)return 14}return 2}function En(t,e){var n=t.alternate;return n===null?(n=yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function As(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")mh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case vr:return Qn(n.children,o,i,e);case Pc:s=8,o|=8;break;case iu:return t=yt(12,n,e,o|2),t.elementType=iu,t.lanes=i,t;case su:return t=yt(13,n,e,o),t.elementType=su,t.lanes=i,t;case au:return t=yt(19,n,e,o),t.elementType=au,t.lanes=i,t;case Jp:return Ra(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yp:s=10;break e;case Xp:s=9;break e;case Mc:s=11;break e;case $c:s=14;break e;case sn:s=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=yt(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Qn(t,e,n,r){return t=yt(7,t,r,e),t.lanes=n,t}function Ra(t,e,n,r){return t=yt(22,t,r,e),t.elementType=Jp,t.lanes=n,t.stateNode={isHidden:!1},t}function bl(t,e,n){return t=yt(6,t,null,e),t.lanes=n,t}function Fl(t,e,n){return e=yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vw(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function yh(t,e,n,r,o,i,s,a,l){return t=new Vw(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=yt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eh(i),t}function Bw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jm(t){if(!t)return Dn;t=t._reactInternals;e:{if(lr(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(tt(n))return jg(t,n,e)}return e}function Hm(t,e,n,r,o,i,s,a,l){return t=yh(n,r,!0,t,o,i,s,a,l),t.context=jm(null),n=t.current,r=qe(),o=wn(n),i=Gt(r,o),i.callback=e??null,yn(n,i,o),t.current.lanes=o,Ii(t,o,r),nt(t,r),t}function _a(t,e,n,r){var o=e.current,i=qe(),s=wn(o);return n=jm(n),e.context===null?e.context=n:e.pendingContext=n,e=Gt(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yn(o,e,s),t!==null&&(Dt(t,o,s,i),Ts(t,o,s)),s}function ta(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Df(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vh(t,e){Df(t,e),(t=t.alternate)&&Df(t,e)}function zw(){return null}var Km=typeof reportError=="function"?reportError:function(t){console.error(t)};function wh(t){this._internalRoot=t}Oa.prototype.render=wh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));_a(t,e,null,null)};Oa.prototype.unmount=wh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tr(function(){_a(null,t,null,null)}),e[qt]=null}};function Oa(t){this._internalRoot=t}Oa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ln.length&&e!==0&&e<ln[n].priority;n++);ln.splice(n,0,t),n===0&&kg(t)}};function Eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function La(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nf(){}function jw(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=ta(s);i.call(u)}}var s=Hm(e,r,t,0,null,!1,!1,"",Nf);return t._reactRootContainer=s,t[qt]=s.current,Zo(t.nodeType===8?t.parentNode:t),tr(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=ta(l);a.call(u)}}var l=yh(t,0,!1,null,null,!1,!1,"",Nf);return t._reactRootContainer=l,t[qt]=l.current,Zo(t.nodeType===8?t.parentNode:t),tr(function(){_a(e,l,n,r)}),l}function Pa(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=ta(s);a.call(l)}}_a(e,s,t,o)}else s=jw(n,e,t,o,r);return ta(s)}Eg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Io(e.pendingLanes);n!==0&&(Uc(e,n|1),nt(e,ge()),!(q&6)&&(Wr=ge()+500,Ln()))}break;case 13:tr(function(){var r=Qt(t,1);if(r!==null){var o=qe();Dt(r,t,1,o)}}),vh(t,1)}};Vc=function(t){if(t.tag===13){var e=Qt(t,134217728);if(e!==null){var n=qe();Dt(e,t,134217728,n)}vh(t,134217728)}};Sg=function(t){if(t.tag===13){var e=wn(t),n=Qt(t,e);if(n!==null){var r=qe();Dt(n,t,e,r)}vh(t,e)}};Tg=function(){return X};Cg=function(t,e){var n=X;try{return X=t,e()}finally{X=n}};yu=function(t,e,n){switch(e){case"input":if(cu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=ka(r);if(!o)throw Error(S(90));eg(r),cu(r,o)}}}break;case"textarea":ng(t,n);break;case"select":e=n.value,e!=null&&Rr(t,!!n.multiple,e,!1)}};ug=fh;cg=tr;var Hw={usingClientEntryPoint:!1,Events:[Ni,Tr,ka,ag,lg,fh]},Eo={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kw={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fg(t),t===null?null:t.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||zw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{Ea=as.inject(Kw),Mt=as}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hw;dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eh(e))throw Error(S(200));return Bw(t,e,null,n)};dt.createRoot=function(t,e){if(!Eh(t))throw Error(S(299));var n=!1,r="",o=Km;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=yh(t,1,!1,null,null,n,!1,r,o),t[qt]=e.current,Zo(t.nodeType===8?t.parentNode:t),new wh(e)};dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=fg(e),t=t===null?null:t.stateNode,t};dt.flushSync=function(t){return tr(t)};dt.hydrate=function(t,e,n){if(!La(e))throw Error(S(200));return Pa(null,t,e,!0,n)};dt.hydrateRoot=function(t,e,n){if(!Eh(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Km;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Hm(e,null,t,1,n??null,o,!1,i,s),t[qt]=e.current,Zo(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Oa(e)};dt.render=function(t,e,n){if(!La(e))throw Error(S(200));return Pa(null,t,e,!1,n)};dt.unmountComponentAtNode=function(t){if(!La(t))throw Error(S(40));return t._reactRootContainer?(tr(function(){Pa(null,null,t,!1,function(){t._reactRootContainer=null,t[qt]=null})}),!0):!1};dt.unstable_batchedUpdates=fh;dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!La(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return Pa(t,e,n,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function Gm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gm)}catch(t){console.error(t)}}Gm(),Gp.exports=dt;var Gw=Gp.exports,Af=Gw;ru.createRoot=Af.createRoot,ru.hydrateRoot=Af.hydrateRoot;const xf=[`Dato il soggetto TECHNIQUE "a practical method or art applied to some particular task" e il verbo SUPPLANT "take the place or move into the position of", l'oggetto MODEL "someone worthy of imitation" è secondo te:`,`Dato il soggetto SECTION "a specialized division of a large organization" e il verbo ADD "make an addition (to); join or combine or unite with others; increase the quality, quantity, size or scope of", l'oggetto STRENGTH "physical energy or intensity" è secondo te:`,`Dato il soggetto VISITOR "someone who visits" e il verbo DISCOVER "discover or determine the existence, presence, or fact of", l'oggetto BEAUTY "a very attractive or seductive looking woman" è secondo te:`,`Dato il soggetto COMPARISON "relation based on similarities and differences" e il verbo ESTABLISH "establish the validity of something, as by an example, explanation or experiment", l'oggetto VALIDITY "the quality of having legal force or effectiveness" è secondo te:`,`Dato il soggetto COUNTRY "the territory occupied by a nation" e il verbo ACCOMPLISH "to gain with effort", l'oggetto INDEPENDENCE "freedom from control or influence of another or others" è secondo te:`,`Dato il soggetto OWNER "(law) someone who owns (is legal possessor of) a business" e il verbo ENJOY "derive or receive pleasure from; get enjoyment from; take pleasure in", l'oggetto WEATHER "the atmospheric conditions that comprise the state of the atmosphere in terms of temperature and wind and clouds and precipitation" è secondo te:`,`Dato il soggetto COUPLE "a pair who associate with one another" e il verbo ENJOY "derive or receive pleasure from; get enjoyment from; take pleasure in", l'oggetto EXPERIENCE "an event as apprehended" è secondo te:`,`Dato il soggetto OFFICE "the actions and activities assigned to or required or expected of a person or group" e il verbo PROVIDE "give something useful or necessary to", l'oggetto GUIDANCE "the act of setting and holding a course" è secondo te:`,`Dato il soggetto CHILD "a young person of either sex" e il verbo READY "prepare for eating by applying heat", l'oggetto TEAM "a cooperative unit (especially in sports)" è secondo te:`,`Dato il soggetto SOLUTION "a statement that solves a problem or explains how to solve the problem" e il verbo REQUIRE "have need of", l'oggetto INVESTMENT "the act of investing; laying out money or capital in an enterprise with the expectation of profit" è secondo te:`,`Dato il soggetto PROGRAMME "a radio or television show" e il verbo REPLACE "put in the place of another; switch seemingly equivalent items", l'oggetto SYSTEM "instrumentality that combines interrelated interacting artifacts designed to work as a coherent entity" è secondo te:`,`Dato il soggetto COMMITTEE "a special group delegated to consider some matter;  - Milton Berle" e il verbo TAKE_NOTE "observe with care or pay close attention to", l'oggetto CHANGE "an event that occurs when something passes from one state or phase to another" è secondo te:`,`Dato il soggetto TEST "a set of questions or exercises evaluating skill or knowledge" e il verbo ESTABLISH "establish the validity of something, as by an example, explanation or experiment", l'oggetto CORRELATION "a reciprocal relation between two or more things" è secondo te:`,`Dato il soggetto PEOPLE "members of a family line" e il verbo CALL_IN "pay a brief visit", l'oggetto PEOPLE "members of a family line" è secondo te:`,`Dato il soggetto BOY "a friendly informal reference to a grown man" e il verbo TRY "put to the test, as for its quality, or give experimental use to", l'oggetto GAME "an amusement or pastime" è secondo te:`,`Dato il soggetto DOCTOR "a licensed medical practitioner" e il verbo TRY "put to the test, as for its quality, or give experimental use to", l'oggetto LEVEL "a position on a scale of intensity or amount or quality" è secondo te:`,`Dato il soggetto USER "a person who makes use of a thing; someone who uses or employs something" e il verbo TRADE "exchange or give (something) in exchange for", l'oggetto SERVICE "work done by one person or group that benefits another" è secondo te:`,`Dato il soggetto KID "a young person of either sex" e il verbo DISCOVER "discover or determine the existence, presence, or fact of", l'oggetto PLACE "a general vicinity" è secondo te:`,`Dato il soggetto TEAM "a cooperative unit (especially in sports)" e il verbo HAVE "organize or be responsible for", l'oggetto INFORMATION "a message received and understood" è secondo te:`,`Dato il soggetto OFFICE "the actions and activities assigned to or required or expected of a person or group" e il verbo PROVIDE "give something useful or necessary to", l'oggetto SUPPORT "the activity of providing for or maintaining by supplying with money or necessities" è secondo te:`,`Dato il soggetto PHYSICIAN "a licensed medical practitioner" e il verbo EMPLOY "put into service; make work or employ for a particular purpose or for its inherent or natural purpose", l'oggetto DRUG "a substance that is used as a medicine or narcotic" è secondo te:`,`Dato il soggetto CLUB "a building that is occupied by a social club" e il verbo MAINTAIN "keep in a certain state, position, or activity; e.g.,", l'oggetto BUILDING "a structure that has a roof and walls and stands more or less permanently in one place" è secondo te:`,`Dato il soggetto POLICE "the force of policemen and officers" e il verbo CLOSE "move so that an opening or passage is obstructed; make shut", l'oggetto SHOP "a mercantile establishment for the retail sale of goods or services" è secondo te:`,`Dato il soggetto NETWORK "an interconnected system of things or people" e il verbo COLLIGATE "make a logical or causal connection", l'oggetto WORLD "people in general; especially a distinctive group of people with some shared interest" è secondo te:`,`Dato il soggetto DOCTOR "a licensed medical practitioner" e il verbo NOTIFY "inform (somebody) of something", l'oggetto DOCTOR "a licensed medical practitioner" è secondo te:`,`Dato il soggetto COMMITTEE "a special group delegated to consider some matter;  - Milton Berle" e il verbo SANCTION "give sanction to", l'oggetto PROGRAM "a radio or television show" è secondo te:`,`Dato il soggetto CHILD "a young person of either sex" e il verbo EMPLOY "put into service; make work or employ for a particular purpose or for its inherent or natural purpose", l'oggetto FORM "a particular mode in which something is manifested" è secondo te:`,`Dato il soggetto SECTOR "a particular aspect of life or activity" e il verbo FORM "to compose or represent:", l'oggetto NETWORK "an interconnected system of things or people" è secondo te:`,`Dato il soggetto BROTHER "a male with the same parents as someone else" e il verbo MURDER "kill intentionally and with premeditation", l'oggetto BROTHER "a male with the same parents as someone else" è secondo te:`,`Dato il soggetto PRESIDENT "the chief executive of a republic" e il verbo FEND_FOR "argue or speak in defense of", l'oggetto PLAN "an arrangement scheme" è secondo te:`,`Dato il soggetto KID "a young person of either sex" e il verbo ATTAIN "reach a point in time, or a certain state or level", l'oggetto SPEED "a rate (usually rapid) at which something happens" è secondo te:`,`Dato il soggetto COMMISSION "a special group delegated to consider some matter;  - Milton Berle" e il verbo DECLARE "announce publicly or officially", l'oggetto OUTCOME "a phenomenon that follows and is caused by some previous phenomenon" è secondo te:`,`Dato il soggetto FAMILY "an association of people who share common beliefs or activities" e il verbo BUY "obtain by purchase; acquire by means of a financial transaction", l'oggetto BUILDING "a structure that has a roof and walls and stands more or less permanently in one place" è secondo te:`,`Dato il soggetto GOVERNMENT "the organization that is the governing authority of a political unit" e il verbo HIRE "engage or hire for work", l'oggetto PERSONNEL "group of people willing to obey orders" è secondo te:`,`Dato il soggetto MEASURE "any maneuver made as part of progress toward a goal" e il verbo WORSEN "make worse", l'oggetto EFFECT "a phenomenon that follows and is caused by some previous phenomenon" è secondo te:`,`Dato il soggetto MEASURE "any maneuver made as part of progress toward a goal" e il verbo COMPRISE "form or compose", l'oggetto MEANS "an instrumentality for accomplishing some end" è secondo te:`,`Dato il soggetto GIRL "a friendly informal reference to a grown woman" e il verbo ENDURE "continue to live through hardship or adversity", l'oggetto SEASON "a recurrent time marked by major holidays" è secondo te:`,`Dato il soggetto PARLIAMENT "a legislative assembly in certain countries" e il verbo PASS "place into the hands or custody of", l'oggetto REGULATION "a principle or condition that customarily governs behavior" è secondo te:`,`Dato il soggetto TEAM "a cooperative unit (especially in sports)" e il verbo ATTEND "be present at (meetings, church services, university), etc.", l'oggetto CHURCH "a place for public (especially Christian) worship" è secondo te:`,`Dato il soggetto LEVEL "a position on a scale of intensity or amount or quality" e il verbo PASS "place into the hands or custody of", l'oggetto SIGNAL "any nonverbal action or gesture that encodes a message" è secondo te:`,`Dato il soggetto CLUB "a building that is occupied by a social club" e il verbo BUILD "make by combining materials and parts", l'oggetto CAPACITY "capability to perform or produce" è secondo te:`,`Dato il soggetto SYSTEM "instrumentality that combines interrelated interacting artifacts designed to work as a coherent entity" e il verbo CUT_DOWN "cut down on; make a reduction in", l'oggetto SHAPE "a perceptual structure" è secondo te:`,`Dato il soggetto MAN "an adult person who is male (as opposed to a woman)" e il verbo POSSESS "have ownership or possession of", l'oggetto CAPACITY "capability to perform or produce" è secondo te:`,`Dato il soggetto FAMILY "an association of people who share common beliefs or activities" e il verbo BUILD "make by combining materials and parts", l'oggetto REPUTATION "the general estimation that the public has for a person" è secondo te:`,`Dato il soggetto SITUATION "the general state of things; the combination of circumstances at a given time; ; ; - Franklin D.Roosevelt" e il verbo COMPRISE "form or compose", l'oggetto DIFFERENCE "a significant change" è secondo te:`,`Dato il soggetto SCHOOL "an educational institution" e il verbo FORM "to compose or represent:", l'oggetto TEAM "a cooperative unit (especially in sports)" è secondo te:`,`Dato il soggetto SYSTEM "instrumentality that combines interrelated interacting artifacts designed to work as a coherent entity" e il verbo REQUIRE "have need of", l'oggetto CAPACITY "capability to perform or produce" è secondo te:`,`Dato il soggetto PRODUCER "someone who manufactures something" e il verbo RELEASE "prepare and issue for public distribution or sale", l'oggetto NUMBER "a symbol used to represent a number" è secondo te:`,`Dato il soggetto QUALITY "an essential and distinguishing attribute of something or someone; --Shakespeare" e il verbo SECURE "make certain of", l'oggetto QUALITY "an essential and distinguishing attribute of something or someone; --Shakespeare" è secondo te:`,`Dato il soggetto SKIN "body covering of a living animal" e il verbo LOSE "fail to win", l'oggetto TIME "a suitable moment" è secondo te:`,`Dato il soggetto CHILD "a young person of either sex" e il verbo RECOGNIZE "be fully aware or cognizant of", l'oggetto DIFFERENCE "a significant change" è secondo te:`,`Dato il soggetto CLIENT "someone who pays for goods or services" e il verbo REQUIRE "have need of", l'oggetto SUPPORT "the activity of providing for or maintaining by supplying with money or necessities" è secondo te:`,`Dato il soggetto ACTIVITY "the state of being active" e il verbo CUT_DOWN "cut down on; make a reduction in", l'oggetto LOSS "the disadvantage that results from losing something" è secondo te:`,`Dato il soggetto FATHER "a male parent (also used as a term of address to your father)" e il verbo POSSESS "have ownership or possession of", l'oggetto KNOWLEDGE "the psychological result of perception and learning and reasoning" è secondo te:`,`Dato il soggetto CHILD "a young person of either sex" e il verbo DRINK "consume alcohol", l'oggetto BEER "a general name for alcoholic beverages made by fermenting a cereal (or mixture of cereals) flavored with hops" è secondo te:`,`Dato il soggetto ARTICLE "nonfictional prose forming an independent part of a publication" e il verbo EXPLAIN "define", l'oggetto SITUATION "the general state of things; the combination of circumstances at a given time; ; ; - Franklin D.Roosevelt" è secondo te:`,`Dato il soggetto NUMBER "a symbol used to represent a number" e il verbo SHOW "give expression to", l'oggetto NUMBER "a symbol used to represent a number" è secondo te:`,`Dato il soggetto PLANT "(botany) a living organism lacking the power of locomotion" e il verbo CONTAIN "contain or hold; have within", l'oggetto SELECTION "the person or thing chosen or selected" è secondo te:`,`Dato il soggetto COACH "(sports) someone in charge of training an athlete or a team" e il verbo HIRE "engage or hire for work", l'oggetto TOOL "the means whereby some act is accomplished" è secondo te:`,`Dato il soggetto POLICE "the force of policemen and officers" e il verbo DO "engage in", l'oggetto EFFORT "earnest and conscientious activity intended to do or accomplish something" è secondo te:`,`Dato il soggetto PEOPLE "members of a family line" e il verbo SAY "express in words", l'oggetto PROBLEM "a question raised for consideration or solution" è secondo te:`,`Dato il soggetto COUNCIL "a body serving in an administrative capacity" e il verbo RELEASE "prepare and issue for public distribution or sale", l'oggetto VERSION "something a little different from others of the same type" è secondo te:`,`Dato il soggetto USER "a person who makes use of a thing; someone who uses or employs something" e il verbo DETERMINE "establish after a calculation, investigation, experiment, survey, or study", l'oggetto AMOUNT "a quantity of money" è secondo te:`,`Dato il soggetto KID "a young person of either sex" e il verbo SHOW "give expression to", l'oggetto SIDE "a family line of descent" è secondo te:`,`Dato il soggetto JUDGE "a public official authorized to decide questions brought before a court of justice" e il verbo READ "look at, interpret, and say out loud something that is written or printed", l'oggetto INFORMATION "a message received and understood" è secondo te:`,`Dato il soggetto CUSTOMER "someone who pays for goods or services" e il verbo ACCEPT "receive willingly something given or offered", l'oggetto OUTCOME "a phenomenon that follows and is caused by some previous phenomenon" è secondo te:`,`Dato il soggetto APPLICATION "the work of applying something" e il verbo CREATE "bring into existence", l'oggetto SYSTEM "instrumentality that combines interrelated interacting artifacts designed to work as a coherent entity" è secondo te:`,`Dato il soggetto LADY "a woman of refinement" e il verbo TELL "narrate or give a detailed account of", l'oggetto TRUTH "conformity to reality or actuality" è secondo te:`,`Dato il soggetto ARTIST "a person whose creative work shows sensitivity and imagination" e il verbo EMPLOY "put into service; make work or employ for a particular purpose or for its inherent or natural purpose", l'oggetto MATERIAL "the tangible substance that goes into the makeup of a physical object" è secondo te:`,`Dato il soggetto PROGRAM "a radio or television show" e il verbo ESTABLISH "establish the validity of something, as by an example, explanation or experiment", l'oggetto IMPORTANCE "a prominent status" è secondo te:`,`Dato il soggetto CLIENT "someone who pays for goods or services" e il verbo REGAIN "come upon after searching; find the location of something that was missed or lost", l'oggetto REPLACEMENT "a person who follows next in order" è secondo te:`,`Dato il soggetto JOB "the principal activity in your life that you do to earn money" e il verbo REQUIRE "have need of", l'oggetto TIME "a suitable moment" è secondo te:`,`Dato il soggetto CLUB "a building that is occupied by a social club" e il verbo MAINTAIN "keep in a certain state, position, or activity; e.g.,", l'oggetto SUPPLY "the activity of supplying or providing something" è secondo te:`,`Dato il soggetto PEOPLE "members of a family line" e il verbo NOTICE "notice or perceive", l'oggetto DIFFERENCE "a significant change" è secondo te:`,`Dato il soggetto MOTHER "a woman who has given birth to a child (also used as a term of address to your mother)" e il verbo DRINK "consume alcohol", l'oggetto COFFEE "a seed of the coffee tree; ground to make coffee" è secondo te:`,`Dato il soggetto PRESIDENT "the chief executive of a republic" e il verbo UNDERSCORE "give extra weight to (a communication)", l'oggetto COLLABORATION "act of working jointly" è secondo te:`,`Dato il soggetto BOMB "an explosive device fused to explode under specific conditions" e il verbo KILL "cause to die; put to death, usually intentionally or knowingly", l'oggetto PEOPLE "members of a family line" è secondo te:`,`Dato il soggetto CONSUMER "a person who uses goods or services" e il verbo SPEND "spend completely", l'oggetto PENNY "a coin worth one-hundredth of the value of the basic unit" è secondo te:`,`Dato il soggetto KID "a young person of either sex" e il verbo PASS "pass time in a specific way", l'oggetto AFTERNOON "the part of the day between noon and evening" è secondo te:`,`Dato il soggetto BOY "a friendly informal reference to a grown man" e il verbo DISCOVER "discover or determine the existence, presence, or fact of", l'oggetto CAR "a motor vehicle with four wheels; usually propelled by an internal combustion engine" è secondo te:`,`Dato il soggetto STEP "any maneuver made as part of progress toward a goal" e il verbo FORM "to compose or represent:", l'oggetto SYSTEM "instrumentality that combines interrelated interacting artifacts designed to work as a coherent entity" è secondo te:`,`Dato il soggetto COUNCIL "a body serving in an administrative capacity" e il verbo BUILD "make by combining materials and parts", l'oggetto CAPACITY "capability to perform or produce" è secondo te:`,`Dato il soggetto FATHER "a male parent (also used as a term of address to your father)" e il verbo DRIVE "travel or be transported in a vehicle", l'oggetto TRUCK "an automotive vehicle suitable for hauling" è secondo te:`,`Dato il soggetto USER "a person who makes use of a thing; someone who uses or employs something" e il verbo REMARK "make mention of", l'oggetto TREND "a general direction in which something tends to move" è secondo te:`,`Dato il soggetto SERVICE "work done by one person or group that benefits another" e il verbo TAKE "take into one's possession", l'oggetto RESPONSIBILITY "a form of trustworthiness; the trait of being answerable to someone for something or being responsible for one's conduct" è secondo te:`,`Dato il soggetto DEVELOPMENT "act of improving by expanding or enlarging or refining" e il verbo COMPRISE "form or compose", l'oggetto MAJORITY "(elections) more than half of the votes" è secondo te:`,`Dato il soggetto TOWN "an urban area with a fixed boundary that is smaller than a city" e il verbo MAINTAIN "keep in a certain state, position, or activity; e.g.,", l'oggetto TITLE "the name of a work of art or literary composition etc." è secondo te:`,`Dato il soggetto PROCESS "(psychology) the performance of some composite cognitive activity; an operation that affects mental contents" e il verbo SECURE "make certain of", l'oggetto PERFORMANCE "the act of presenting a play or a piece of music or other entertainment" è secondo te:`,`Dato il soggetto CHILD "a young person of either sex" e il verbo TRY "make an effort or attempt", l'oggetto CONTACT "a communicative interaction" è secondo te:`,`Dato il soggetto SCHOOL "an educational institution" e il verbo LEARN "impart skills or knowledge to", l'oggetto CHILD "a young person of either sex" è secondo te:`,`Dato il soggetto PLAN "an arrangement scheme" e il verbo COMPRISE "form or compose", l'oggetto SUM "a quantity obtained by the addition of a group of numbers" è secondo te:`,`Dato il soggetto CUSTOMER "someone who pays for goods or services" e il verbo LOSE "fail to win", l'oggetto TIME "a suitable moment" è secondo te:`,`Dato il soggetto GIRL "a friendly informal reference to a grown woman" e il verbo TAKE "take into one's possession", l'oggetto LIFE "a motive for living" è secondo te:`,`Dato il soggetto PRACTICE "the exercise of a profession" e il verbo ESTABLISH "establish the validity of something, as by an example, explanation or experiment", l'oggetto WORTH "an indefinite quantity of something having a specified value" è secondo te:`,`Dato il soggetto GOVERNMENT "the organization that is the governing authority of a political unit" e il verbo ASSUME "take on titles, offices, duties, responsibilities", l'oggetto ROLE "an actor's portrayal of someone in a play" è secondo te:`,`Dato il soggetto KID "a young person of either sex" e il verbo RESEARCH "inquire into", l'oggetto WORLD "people in general; especially a distinctive group of people with some shared interest" è secondo te:`,`Dato il soggetto OWNER "(law) someone who owns (is legal possessor of) a business" e il verbo NOTICE "notice or perceive", l'oggetto DATE "the specified day of the month" è secondo te:`,`Dato il soggetto STEP "any maneuver made as part of progress toward a goal" e il verbo PRODUCE "create or manufacture a man-made product", l'oggetto EFFECT "a phenomenon that follows and is caused by some previous phenomenon" è secondo te:`,`Dato il soggetto CONSUMER "a person who uses goods or services" e il verbo BUY "obtain by purchase; acquire by means of a financial transaction", l'oggetto MACHINE "a motor vehicle with four wheels; usually propelled by an internal combustion engine" è secondo te:`,`Dato il soggetto MODEL "someone worthy of imitation" e il verbo COMPRISE "form or compose", l'oggetto CORE "the center of an object" è secondo te:`,`Dato il soggetto BANK "a financial institution that accepts deposits and channels the money into lending activities" e il verbo ESTABLISH "establish the validity of something, as by an example, explanation or experiment", l'oggetto INDEPENDENCE "freedom from control or influence of another or others" è secondo te:`,`Dato il soggetto SCHOOL "an educational institution" e il verbo MAINTAIN "keep in a certain state, position, or activity; e.g.,", l'oggetto NETWORK "an interconnected system of things or people" è secondo te:`,`Dato il soggetto STATE "a politically organized body of people under a single government" e il verbo ATTAIN "reach a point in time, or a certain state or level", l'oggetto NUMBER "the property possessed by a sum or total or indefinite quantity of units or individuals" è secondo te:`,`Dato il soggetto PRODUCT "a quantity obtained by multiplication" e il verbo ATTAIN "reach a point in time, or a certain state or level", l'oggetto BALANCE "a state of equilibrium" è secondo te:`,`Dato il soggetto JOB "the principal activity in your life that you do to earn money" e il verbo COMPRISE "form or compose", l'oggetto MAJORITY "(elections) more than half of the votes" è secondo te:`,`Dato il soggetto RELATIONSHIP "a state involving mutual dealings between people or parties or countries" e il verbo COMPRISE "form or compose", l'oggetto ELEMENT "one of four substances thought in ancient and medieval cosmology to constitute the physical universe" è secondo te:`,`Dato il soggetto WORKER "a person who works at a specific occupation" e il verbo PASS "pass time in a specific way", l'oggetto HOUR "clock time" è secondo te:`,`Dato il soggetto SYSTEM "instrumentality that combines interrelated interacting artifacts designed to work as a coherent entity" e il verbo DELIVER "bring to a destination, make a delivery", l'oggetto REPORT "the act of informing by verbal report" è secondo te:`,`Dato il soggetto COMMITTEE "a special group delegated to consider some matter;  - Milton Berle" e il verbo TAKE_NOTE "observe with care or pay close attention to", l'oggetto CHANGE "an event that occurs when something passes from one state or phase to another" è secondo te:`,`Dato il soggetto GOVERNMENT "the organization that is the governing authority of a political unit" e il verbo PASS "place into the hands or custody of", l'oggetto LIGHT "the quality of being luminous; emitting or reflecting light" è secondo te:`,`Dato il soggetto OWNER "(law) someone who owns (is legal possessor of) a business" e il verbo DISCOVER "discover or determine the existence, presence, or fact of", l'oggetto CAR "a motor vehicle with four wheels; usually propelled by an internal combustion engine" è secondo te:`,`Dato il soggetto GRANDFATHER "the father of your father or mother" e il verbo LEARN "impart skills or knowledge to", l'oggetto PEOPLE "members of a family line" è secondo te:`,`Dato il soggetto FIGURE "a diagram or picture illustrating textual material" e il verbo DESCRIBE "to give an account or representation of in words", l'oggetto DEVELOPMENT "act of improving by expanding or enlarging or refining" è secondo te:`,`Dato il soggetto USER "a person who makes use of a thing; someone who uses or employs something" e il verbo TRADE "exchange or give (something) in exchange for", l'oggetto TIME "an instance or single occasion for some event" è secondo te:`,`Dato il soggetto DECLARATION "a statement that is emphatic and explicit (spoken or written)" e il verbo COMPRISE "form or compose", l'oggetto DEGREE "a position on a scale of intensity or amount or quality" è secondo te:`,`Dato il soggetto CHURCH "a place for public (especially Christian) worship" e il verbo ENCOURAGE "inspire with confidence; give hope or courage to", l'oggetto DEVELOPMENT "act of improving by expanding or enlarging or refining" è secondo te:`,`Dato il soggetto CANDIDATE "a politician who is running for public office" e il verbo HAVE "get something; come into possession of", l'oggetto COMPENSATION "the act of compensating for service or loss or injury" è secondo te:`,`Dato il soggetto OFFICE "the actions and activities assigned to or required or expected of a person or group" e il verbo HAVE "organize or be responsible for", l'oggetto SESSION "a meeting for execution of a group's functions" è secondo te:`,`Dato il soggetto PRICE "the amount of money needed to purchase something" e il verbo MAKE "cause to do; cause to act in a specified manner", l'oggetto PEOPLE "members of a family line" è secondo te:`,`Dato il soggetto MEASURE "any maneuver made as part of progress toward a goal" e il verbo PASS "place into the hands or custody of", l'oggetto NOTICE "a request for payment" è secondo te:`,`Dato il soggetto GOVERNMENT "the organization that is the governing authority of a political unit" e il verbo HIRE "engage or hire for work", l'oggetto WORKER "a person who works at a specific occupation" è secondo te:`,`Dato il soggetto COUNTRY "the territory occupied by a nation" e il verbo TAKE "take into one's possession", l'oggetto POSITION "the arrangement of the body and its limbs" è secondo te:`,`Dato il soggetto ACTION "something done (usually as opposed to something said)" e il verbo STIMULATE "stir feelings in", l'oggetto CHANGE "an event that occurs when something passes from one state or phase to another" è secondo te:`,`Dato il soggetto FILE "a set of related records (either written or electronic) kept together" e il verbo CONTAIN "contain or hold; have within", l'oggetto INFORMATION "a message received and understood" è secondo te:`,`Dato il soggetto CHURCH "a place for public (especially Christian) worship" e il verbo MAINTAIN "keep in a certain state, position, or activity; e.g.,", l'oggetto IDENTITY "the distinct personality of an individual regarded as a persisting entity" è secondo te:`,`Dato il soggetto COUNTRY "the territory occupied by a nation" e il verbo COMPRISE "form or compose", l'oggetto HALF "one of two equal parts of a divisible whole" è secondo te:`,`Dato il soggetto RECEIVER "a person who receives something" e il verbo HAVE "get something; come into possession of", l'oggetto YEAR "a period of time containing 365 (or 366) days" è secondo te:`,`Dato il soggetto ANNOUNCEMENT "a public statement containing information about an event that has happened or is going to happen" e il verbo FOLLOW "to travel behind, go after, come after", l'oggetto END "a final state" è secondo te:`,`Dato il soggetto PROGRAMME "a radio or television show" e il verbo PASS "place into the hands or custody of", l'oggetto SPOT "a job in an organization" è secondo te:`,`Dato il soggetto SERVICE "work done by one person or group that benefits another" e il verbo WORK "make something, usually for a specific function", l'oggetto FUTURE "the time yet to come" è secondo te:`,`Dato il soggetto NUMBER "a symbol used to represent a number" e il verbo PLACE "recognize as being; establish the identity of someone or something", l'oggetto MECHANISM "the technical aspects of doing something" è secondo te:`,`Dato il soggetto VEHICLE "a conveyance that transports people or objects" e il verbo PRODUCE "create or manufacture a man-made product", l'oggetto IMPRESSION "an outward appearance" è secondo te:`,`Dato il soggetto BOMB "an explosive device fused to explode under specific conditions" e il verbo DESTROY "do away with, cause the destruction or undoing of", l'oggetto SHOP "a mercantile establishment for the retail sale of goods or services" è secondo te:`,`Dato il soggetto COMMITTEE "a special group delegated to consider some matter;  - Milton Berle" e il verbo NOTICE "notice or perceive", l'oggetto DATE "the specified day of the month" è secondo te:`,`Dato il soggetto CLUB "a building that is occupied by a social club" e il verbo BUILD "make by combining materials and parts", l'oggetto CAR "a motor vehicle with four wheels; usually propelled by an internal combustion engine" è secondo te:`,`Dato il soggetto PHYSICIAN "a licensed medical practitioner" e il verbo NOTIFY "inform (somebody) of something", l'oggetto GOVERNMENT "the organization that is the governing authority of a political unit" è secondo te:`,`Dato il soggetto BANK "a financial institution that accepts deposits and channels the money into lending activities" e il verbo INCREASE "make bigger or more", l'oggetto PRICE "the amount of money needed to purchase something" è secondo te:`,`Dato il soggetto STEP "any maneuver made as part of progress toward a goal" e il verbo COMPRISE "form or compose", l'oggetto STEP "the sound of a step of someone walking" è secondo te:`,`Dato il soggetto COMMITTEE "a special group delegated to consider some matter;  - Milton Berle" e il verbo COMPLETE "come or bring to a finish or an end", l'oggetto PHASE "any distinct time period in a sequence of events" è secondo te:`,`Dato il soggetto CUSTOMER "someone who pays for goods or services" e il verbo PASS "place into the hands or custody of", l'oggetto TEST "a set of questions or exercises evaluating skill or knowledge" è secondo te:`,`Dato il soggetto NETWORK "an interconnected system of things or people" e il verbo EMPLOY "put into service; make work or employ for a particular purpose or for its inherent or natural purpose", l'oggetto METHOD "a way of doing something, especially a systematic way; implies an orderly logical arrangement (usually in steps)" è secondo te:`,`Dato il soggetto STEP "any maneuver made as part of progress toward a goal" e il verbo PRODUCE "create or manufacture a man-made product", l'oggetto RESULT "a phenomenon that follows and is caused by some previous phenomenon" è secondo te:`,`Dato il soggetto MAN "an adult person who is male (as opposed to a woman)" e il verbo READY "prepare for eating by applying heat", l'oggetto BREAKFAST "the first meal of the day (usually in the morning)" è secondo te:`,`Dato il soggetto PRESIDENT "the chief executive of a republic" e il verbo ADMONISH "admonish or counsel in terms of someone's behavior", l'oggetto GOVERNMENT "the organization that is the governing authority of a political unit" è secondo te:`,`Dato il soggetto INDIVIDUAL "a single organism" e il verbo ENCOUNTER "come together", l'oggetto TEST "trying something to find out about it" è secondo te:`,`Dato il soggetto FATHER "a male parent (also used as a term of address to your father)" e il verbo HAVE "organize or be responsible for", l'oggetto DUTY "the social force that binds you to the courses of action demanded by that force; ; - John D.Rockefeller Jr" è secondo te:`,`Dato il soggetto FATHER "a male parent (also used as a term of address to your father)" e il verbo BUILD "make by combining materials and parts", l'oggetto BRIDGE "a structure that allows people or vehicles to cross an obstacle such as a river or canal or railway etc." è secondo te:`,`Dato il soggetto CHURCH "a place for public (especially Christian) worship" e il verbo ACCEPT "consider or hold as true", l'oggetto RESPONSIBILITY "the social force that binds you to the courses of action demanded by that force; ; - John D.Rockefeller Jr" è secondo te:`,`Dato il soggetto PRODUCT "a quantity obtained by multiplication" e il verbo ACCOMPLISH "to gain with effort", l'oggetto MARKET "the customers for a particular product or service" è secondo te:`,`Dato il soggetto MOTHER "a woman who has given birth to a child (also used as a term of address to your mother)" e il verbo GIVE "give food to", l'oggetto PEOPLE "members of a family line" è secondo te:`,`Dato il soggetto GOVERNMENT "the organization that is the governing authority of a political unit" e il verbo BLOW "spend thoughtlessly; throw away", l'oggetto TIME "a suitable moment" è secondo te:`,`Dato il soggetto PROGRAM "a radio or television show" e il verbo CONSIST "be composed of", l'oggetto STUDY "a detailed critical inspection" è secondo te:`,`Dato il soggetto MOTHER "a woman who has given birth to a child (also used as a term of address to your mother)" e il verbo COOK "prepare a hot meal", l'oggetto MEAT "the flesh of animals (including fishes and birds and snails) used as food" è secondo te:`,`Dato il soggetto SUN "the star that is the source of light and heat for the planets in the solar system" e il verbo ILLUMINATE "make lighter or brighter", l'oggetto EYE "the organ of sight" è secondo te:`,`Dato il soggetto PHYSICIAN "a licensed medical practitioner" e il verbo CONSIDER "look at attentively", l'oggetto LEVEL "a position on a scale of intensity or amount or quality" è secondo te:`,`Dato il soggetto FIRE "the event of something burning (often destructive)" e il verbo DESTROY "do away with, cause the destruction or undoing of", l'oggetto UNIT "an individual or group or structure or other entity regarded as a structural or functional constituent of a whole" è secondo te:`,`Dato il soggetto METHOD "a way of doing something, especially a systematic way; implies an orderly logical arrangement (usually in steps)" e il verbo FUNCTION "serve a purpose, role, or function", l'oggetto MARKET "the customers for a particular product or service" è secondo te:`,`Dato il soggetto PLANT "(botany) a living organism lacking the power of locomotion" e il verbo PRODUCE "create or manufacture a man-made product", l'oggetto ACID "any of various water-soluble compounds having a sour taste and capable of turning litmus red and reacting with a base to form a salt" è secondo te:`,`Dato il soggetto DOCTOR "a licensed medical practitioner" e il verbo REQUIRE "have need of", l'oggetto KNOWLEDGE "the psychological result of perception and learning and reasoning" è secondo te:`,`Dato il soggetto PRESIDENT "the chief executive of a republic" e il verbo PASS "place into the hands or custody of", l'oggetto DECISION "a position or opinion or judgment reached after consideration" è secondo te:`,`Dato il soggetto LAW "the branch of philosophy concerned with the law and the principles that lead courts to make the decisions they do" e il verbo SECURE "make certain of", l'oggetto SUCCESS "an attainment that is successful" è secondo te:`,`Dato il soggetto PLAN "an arrangement scheme" e il verbo CONSIST "be composed of", l'oggetto UNIT "an individual or group or structure or other entity regarded as a structural or functional constituent of a whole" è secondo te:`,`Dato il soggetto COUNTRY "the territory occupied by a nation" e il verbo GET_RID_OF "do away with", l'oggetto TAX "charge against a citizen's person or property or activity for the support of government" è secondo te:`,`Dato il soggetto HOUSE "a social unit living together" e il verbo COMPRISE "form or compose", l'oggetto SYSTEM "instrumentality that combines interrelated interacting artifacts designed to work as a coherent entity" è secondo te:`,`Dato il soggetto PRESIDENT "the chief executive of a republic" e il verbo EXCLAIM "make known; make an announcement", l'oggetto ESTABLISHMENT "the act of forming or establishing something" è secondo te:`,`Dato il soggetto LINE "a course of reasoning aimed at demonstrating a truth or falsehood; the methodical process of logical reasoning" e il verbo DIVIDE "separate into parts or portions", l'oggetto NUMBER "the property possessed by a sum or total or indefinite quantity of units or individuals" è secondo te:`,`Dato il soggetto LABEL "an identifying or descriptive marker that is attached to an object" e il verbo CONTAIN "contain or hold; have within", l'oggetto WORD "a promise" è secondo te:`,`Dato il soggetto DOCTOR "a licensed medical practitioner" e il verbo REQUIRE "have need of", l'oggetto PAYMENT "a sum of money paid or a claim discharged" è secondo te:`,`Dato il soggetto OWNER "(law) someone who owns (is legal possessor of) a business" e il verbo HAVE "get something; come into possession of", l'oggetto LETTER "a written message addressed to a person or organization" è secondo te:`,`Dato il soggetto AGENCY "a business that serves other businesses" e il verbo ENCOURAGE "inspire with confidence; give hope or courage to", l'oggetto DISCUSSION "an exchange of views on some topic" è secondo te:`,`Dato il soggetto COUPLE "a pair who associate with one another" e il verbo ENCOUNTER "come together", l'oggetto PROBLEM "a question raised for consideration or solution" è secondo te:`,`Dato il soggetto OFFICE "an administrative unit of government" e il verbo RELEASE "prepare and issue for public distribution or sale", l'oggetto STUDY "a detailed critical inspection" è secondo te:`,`Dato il soggetto CLIENT "someone who pays for goods or services" e il verbo SAY "express in words", l'oggetto MATTER "some situation or event that is thought about" è secondo te:`,`Dato il soggetto CLIENT "someone who pays for goods or services" e il verbo ENJOY "get pleasure from", l'oggetto DINNER "the main meal of the day served in the evening or at midday" è secondo te:`,`Dato il soggetto INDIVIDUAL "a single organism" e il verbo ENJOY "derive or receive pleasure from; get enjoyment from; take pleasure in", l'oggetto DINNER "the main meal of the day served in the evening or at midday" è secondo te:`,`Dato il soggetto ACCOUNT "the act of informing by verbal report" e il verbo DRAW "make a mark or lines on a surface", l'oggetto PICTURE "a clear and telling mental image" è secondo te:`,`Dato il soggetto TEAM "a cooperative unit (especially in sports)" e il verbo EXIT "move out of or depart from", l'oggetto SCHOOL "an educational institution" è secondo te:`,`Dato il soggetto JUDGE "a public official authorized to decide questions brought before a court of justice" e il verbo ELEVATE "raise from a lower to a higher position", l'oggetto ISSUE "some situation or event that is thought about" è secondo te:`,`Dato il soggetto PROGRAMME "a radio or television show" e il verbo GO_ALONG "continue a certain state, condition, or activity", l'oggetto SUPPORT "the activity of providing for or maintaining by supplying with money or necessities" è secondo te:`,`Dato il soggetto DEATH "the event of dying or departure from life" e il verbo STRIKE "have an emotional or cognitive impact upon", l'oggetto PEOPLE "members of a family line" è secondo te:`,`Dato il soggetto COLLEAGUE "an associate that one works with" e il verbo DISCOVER "discover or determine the existence, presence, or fact of", l'oggetto EFFECT "a phenomenon that follows and is caused by some previous phenomenon" è secondo te:`,`Dato il soggetto HUSBAND "a married man; a woman's partner in marriage" e il verbo TELL "narrate or give a detailed account of", l'oggetto MAGAZINE "a storehouse (as a compartment on a warship) where weapons and ammunition are stored" è secondo te:`,`Dato il soggetto AGENCY "a business that serves other businesses" e il verbo EMPLOY "put into service; make work or employ for a particular purpose or for its inherent or natural purpose", l'oggetto FORM "a particular mode in which something is manifested" è secondo te:`,`Dato il soggetto COMMITTEE "a special group delegated to consider some matter;  - Milton Berle" e il verbo PROVIDE "give something useful or necessary to", l'oggetto SOURCE "a document (or organization) from which information is obtained" è secondo te:`,`Dato il soggetto CLUB "a building that is occupied by a social club" e il verbo BUILD "make by combining materials and parts", l'oggetto INVESTMENT "the act of investing; laying out money or capital in an enterprise with the expectation of profit" è secondo te:`,`Dato il soggetto CUSTOMER "someone who pays for goods or services" e il verbo POSSESS "have ownership or possession of", l'oggetto MACHINE "a motor vehicle with four wheels; usually propelled by an internal combustion engine" è secondo te:`,`Dato il soggetto PATIENT "a person who requires medical care" e il verbo DESCRIBE "to give an account or representation of in words", l'oggetto PATTERN "a model considered worthy of imitation" è secondo te:`,`Dato il soggetto COMMITTEE "a special group delegated to consider some matter;  - Milton Berle" e il verbo HAVE "get something; come into possession of", l'oggetto MANDATE "a document giving an official instruction or command" è secondo te:`,`Dato il soggetto SITUATION "the general state of things; the combination of circumstances at a given time; ; ; - Franklin D.Roosevelt" e il verbo ESTABLISH "establish the validity of something, as by an example, explanation or experiment", l'oggetto LEVEL "a position on a scale of intensity or amount or quality" è secondo te:`,`Dato il soggetto TEAM "a cooperative unit (especially in sports)" e il verbo MAINTAIN "keep in a certain state, position, or activity; e.g.,", l'oggetto SCHOOL "an educational institution" è secondo te:`,`Dato il soggetto CAR "a motor vehicle with four wheels; usually propelled by an internal combustion engine" e il verbo TAKE_HOLD_OF "take hold of so as to seize or restrain or stop the motion of", l'oggetto FIRE "the event of something burning (often destructive)" è secondo te:`,`Dato il soggetto KID "a young person of either sex" e il verbo PRODUCE "create or manufacture a man-made product", l'oggetto SHOW "a social event involving a public performance or entertainment" è secondo te:`,`Dato il soggetto ARTICLE "nonfictional prose forming an independent part of a publication" e il verbo PASS "place into the hands or custody of", l'oggetto POSSIBILITY "a possible alternative" è secondo te:`,`Dato il soggetto COMMITTEE "a special group delegated to consider some matter;  - Milton Berle" e il verbo BUILD "make by combining materials and parts", l'oggetto BRIDGE "a structure that allows people or vehicles to cross an obstacle such as a river or canal or railway etc." è secondo te:`,`Dato il soggetto OWNER "(law) someone who owns (is legal possessor of) a business" e il verbo POSSESS "have ownership or possession of", l'oggetto OPTION "one of a number of things from which only one can be chosen" è secondo te:`,`Dato il soggetto CLUB "a building that is occupied by a social club" e il verbo CHOOSE "pick out, select, or choose from a number of alternatives", l'oggetto SOLUTION "a statement that solves a problem or explains how to solve the problem" è secondo te:`,`Dato il soggetto COUNCIL "a body serving in an administrative capacity" e il verbo DISCOVER "discover or determine the existence, presence, or fact of", l'oggetto ERROR "inadvertent incorrectness" è secondo te:`,`Dato il soggetto MACHINE "a motor vehicle with four wheels; usually propelled by an internal combustion engine" e il verbo HAVE "organize or be responsible for", l'oggetto POINT "an instant of time" è secondo te:`,`Dato il soggetto KID "a young person of either sex" e il verbo TRY "make an effort or attempt", l'oggetto ACTION "something done (usually as opposed to something said)" è secondo te:`,`Dato il soggetto PHYSICIAN "a licensed medical practitioner" e il verbo DO "engage in", l'oggetto CLAIM "demand for something as rightful or due" è secondo te:`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ww=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},qm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,u=l?t[o+2]:0,c=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(h=64)),r.push(n[c],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ww(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const u=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||u==null||d==null)throw new qw;const h=i<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qw=function(t){const e=Wm(t);return qm.encodeByteArray(e,!0)},na=function(t){return Qw(t).replace(/\./g,"")},Yw=function(t){try{return qm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=()=>Xw().__FIREBASE_DEFAULTS__,Zw=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yw(t[1]);return e&&JSON.parse(e)},Qm=()=>{try{return Jw()||Zw()||eE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tE=t=>{var e,n;return(n=(e=Qm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nE=t=>{const e=tE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ym=()=>{var t;return(t=Qm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[na(JSON.stringify(n)),na(JSON.stringify(s)),a].join(".")}function iE(){try{return typeof indexedDB=="object"}catch{return!1}}function sE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="FirebaseError";class io extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aE,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xm.prototype.create)}}class Xm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?lE(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new io(o,a,r)}}function lE(t,e){return t.replace(uE,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const uE=/\{\$([^}]+)}/g;function Yu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(Rf(i)&&Rf(s)){if(!Yu(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Rf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t){return t&&t._delegate?t._delegate:t}class li{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dE(e))try{this.getOrInitializeService({instanceIdentifier:Bn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Bn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bn){return this.instances.has(e)}getOptions(e=Bn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bn){return this.component?this.component.multipleInstances?e:Bn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hE(t){return t===Bn?void 0:t}function dE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Y||(Y={}));const pE={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},gE=Y.INFO,mE={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},yE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=mE[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=gE,this._logHandler=yE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const vE=(t,e)=>e.some(n=>t instanceof n);let _f,Of;function wE(){return _f||(_f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EE(){return Of||(Of=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zm=new WeakMap,Xu=new WeakMap,ey=new WeakMap,Ul=new WeakMap,Sh=new WeakMap;function SE(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Sn(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Zm.set(n,t)}).catch(()=>{}),Sh.set(e,t),e}function TE(t){if(Xu.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});Xu.set(t,e)}let Ju={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ey.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CE(t){Ju=t(Ju)}function kE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vl(this),e,...n);return ey.set(r,e.sort?e.sort():[e]),Sn(r)}:EE().includes(t)?function(...e){return t.apply(Vl(this),e),Sn(Zm.get(this))}:function(...e){return Sn(t.apply(Vl(this),e))}}function IE(t){return typeof t=="function"?kE(t):(t instanceof IDBTransaction&&TE(t),vE(t,wE())?new Proxy(t,Ju):t)}function Sn(t){if(t instanceof IDBRequest)return SE(t);if(Ul.has(t))return Ul.get(t);const e=IE(t);return e!==t&&(Ul.set(t,e),Sh.set(e,t)),e}const Vl=t=>Sh.get(t);function DE(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=Sn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Sn(s.result),l.oldVersion,l.newVersion,Sn(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const NE=["get","getKey","getAll","getAllKeys","count"],AE=["put","add","delete","clear"],Bl=new Map;function Lf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bl.get(e))return Bl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=AE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||NE.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),o&&l.done]))[0]};return Bl.set(e,i),i}CE(t=>({...t,get:(e,n,r)=>Lf(e,n)||t.get(e,n,r),has:(e,n)=>!!Lf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zu="@firebase/app",Pf="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Jm("@firebase/app"),_E="@firebase/app-compat",OE="@firebase/analytics-compat",LE="@firebase/analytics",PE="@firebase/app-check-compat",ME="@firebase/app-check",$E="@firebase/auth",bE="@firebase/auth-compat",FE="@firebase/database",UE="@firebase/database-compat",VE="@firebase/functions",BE="@firebase/functions-compat",zE="@firebase/installations",jE="@firebase/installations-compat",HE="@firebase/messaging",KE="@firebase/messaging-compat",GE="@firebase/performance",WE="@firebase/performance-compat",qE="@firebase/remote-config",QE="@firebase/remote-config-compat",YE="@firebase/storage",XE="@firebase/storage-compat",JE="@firebase/firestore",ZE="@firebase/firestore-compat",eS="firebase",tS="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="[DEFAULT]",nS={[Zu]:"fire-core",[_E]:"fire-core-compat",[LE]:"fire-analytics",[OE]:"fire-analytics-compat",[ME]:"fire-app-check",[PE]:"fire-app-check-compat",[$E]:"fire-auth",[bE]:"fire-auth-compat",[FE]:"fire-rtdb",[UE]:"fire-rtdb-compat",[VE]:"fire-fn",[BE]:"fire-fn-compat",[zE]:"fire-iid",[jE]:"fire-iid-compat",[HE]:"fire-fcm",[KE]:"fire-fcm-compat",[GE]:"fire-perf",[WE]:"fire-perf-compat",[qE]:"fire-rc",[QE]:"fire-rc-compat",[YE]:"fire-gcs",[XE]:"fire-gcs-compat",[JE]:"fire-fst",[ZE]:"fire-fst-compat","fire-js":"fire-js",[eS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Map,tc=new Map;function rS(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oa(t){const e=t.name;if(tc.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;tc.set(e,t);for(const n of ra.values())rS(n,t);return!0}function oS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Tn=new Xm("app","Firebase",iS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=tS;function ty(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ec,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Tn.create("bad-app-name",{appName:String(o)});if(n||(n=Ym()),!n)throw Tn.create("no-options");const i=ra.get(o);if(i){if(Yu(n,i.options)&&Yu(r,i.config))return i;throw Tn.create("duplicate-app",{appName:o})}const s=new fE(o);for(const l of tc.values())s.addComponent(l);const a=new sS(n,r,s);return ra.set(o,a),a}function lS(t=ec){const e=ra.get(t);if(!e&&t===ec&&Ym())return ty();if(!e)throw Tn.create("no-app",{appName:t});return e}function $r(t,e,n){var r;let o=(r=nS[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(a.join(" "));return}oa(new li(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firebase-heartbeat-database",cS=1,ui="firebase-heartbeat-store";let zl=null;function ny(){return zl||(zl=DE(uS,cS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ui)}}}).catch(t=>{throw Tn.create("idb-open",{originalErrorMessage:t.message})})),zl}async function hS(t){try{return await(await ny()).transaction(ui).objectStore(ui).get(ry(t))}catch(e){if(e instanceof io)nr.warn(e.message);else{const n=Tn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function Mf(t,e){try{const r=(await ny()).transaction(ui,"readwrite");await r.objectStore(ui).put(e,ry(t)),await r.done}catch(n){if(n instanceof io)nr.warn(n.message);else{const r=Tn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(r.message)}}}function ry(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=1024,fS=30*24*60*60*1e3;class pS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$f();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const i=new Date(o.date).valueOf();return Date.now()-i<=fS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$f(),{heartbeatsToSend:n,unsentEntries:r}=gS(this._heartbeatsCache.heartbeats),o=na(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function $f(){return new Date().toISOString().substring(0,10)}function gS(t,e=dS){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),bf(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),bf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iE()?sE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await hS(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function bf(t){return na(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){oa(new li("platform-logger",e=>new xE(e),"PRIVATE")),oa(new li("heartbeat",e=>new pS(e),"PRIVATE")),$r(Zu,Pf,t),$r(Zu,Pf,"esm2017"),$r("fire-js","")}yS("");var vS="firebase",wS="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(vS,wS,"app");var ES=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I,Th=Th||{},b=ES||self;function Ma(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xi(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function SS(t){return Object.prototype.hasOwnProperty.call(t,jl)&&t[jl]||(t[jl]=++TS)}var jl="closure_uid_"+(1e9*Math.random()>>>0),TS=0;function CS(t,e,n){return t.call.apply(t.bind,arguments)}function kS(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Be(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Be=CS:Be=kS,Be.apply(null,arguments)}function ls(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ne(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,o,i){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[o].apply(r,s)}}function Pn(){this.s=this.s,this.o=this.o}var IS=0;Pn.prototype.s=!1;Pn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),IS!=0)&&SS(this)};Pn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oy=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ch(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ff(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ma(r)){const o=t.length||0,i=r.length||0;t.length=o+i;for(let s=0;s<i;s++)t[o+s]=r[s]}else t.push(r)}}function ze(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var DS=function(){if(!b.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{b.addEventListener("test",()=>{},e),b.removeEventListener("test",()=>{},e)}catch{}return t}();function ci(t){return/^[\s\xa0]*$/.test(t)}function $a(){var t=b.navigator;return t&&(t=t.userAgent)?t:""}function Ot(t){return $a().indexOf(t)!=-1}function kh(t){return kh[" "](t),t}kh[" "]=function(){};function NS(t,e){var n=wT;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var AS=Ot("Opera"),qr=Ot("Trident")||Ot("MSIE"),iy=Ot("Edge"),nc=iy||qr,sy=Ot("Gecko")&&!($a().toLowerCase().indexOf("webkit")!=-1&&!Ot("Edge"))&&!(Ot("Trident")||Ot("MSIE"))&&!Ot("Edge"),xS=$a().toLowerCase().indexOf("webkit")!=-1&&!Ot("Edge");function ay(){var t=b.document;return t?t.documentMode:void 0}var rc;e:{var Hl="",Kl=function(){var t=$a();if(sy)return/rv:([^\);]+)(\)|;)/.exec(t);if(iy)return/Edge\/([\d\.]+)/.exec(t);if(qr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xS)return/WebKit\/(\S+)/.exec(t);if(AS)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Kl&&(Hl=Kl?Kl[1]:""),qr){var Gl=ay();if(Gl!=null&&Gl>parseFloat(Hl)){rc=String(Gl);break e}}rc=Hl}var oc;if(b.document&&qr){var Uf=ay();oc=Uf||parseInt(rc,10)||void 0}else oc=void 0;var RS=oc;function hi(t,e){if(ze.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sy){e:{try{kh(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_S[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&hi.$.h.call(this)}}Ne(hi,ze);var _S={2:"touch",3:"pen",4:"mouse"};hi.prototype.h=function(){hi.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ri="closure_listenable_"+(1e6*Math.random()|0),OS=0;function LS(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=o,this.key=++OS,this.fa=this.ia=!1}function ba(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ih(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function PS(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ly(t){const e={};for(const n in t)e[n]=t[n];return e}const Vf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uy(t,e){let n,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(let i=0;i<Vf.length;i++)n=Vf[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fa(t){this.src=t,this.g={},this.h=0}Fa.prototype.add=function(t,e,n,r,o){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var s=sc(t,e,r,o);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new LS(e,this.src,i,!!r,o),e.ia=n,t.push(e)),e};function ic(t,e){var n=e.type;if(n in t.g){var r=t.g[n],o=oy(r,e),i;(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(ba(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function sc(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return o}return-1}var Dh="closure_lm_"+(1e6*Math.random()|0),Wl={};function cy(t,e,n,r,o){if(r&&r.once)return dy(t,e,n,r,o);if(Array.isArray(e)){for(var i=0;i<e.length;i++)cy(t,e[i],n,r,o);return null}return n=xh(n),t&&t[Ri]?t.O(e,n,xi(r)?!!r.capture:!!r,o):hy(t,e,n,!1,r,o)}function hy(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var s=xi(o)?!!o.capture:!!o,a=Ah(t);if(a||(t[Dh]=a=new Fa(t)),n=a.add(e,n,r,s,i),n.proxy)return n;if(r=MS(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)DS||(o=s),o===void 0&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(py(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function MS(){function t(n){return e.call(t.src,t.listener,n)}const e=$S;return t}function dy(t,e,n,r,o){if(Array.isArray(e)){for(var i=0;i<e.length;i++)dy(t,e[i],n,r,o);return null}return n=xh(n),t&&t[Ri]?t.P(e,n,xi(r)?!!r.capture:!!r,o):hy(t,e,n,!0,r,o)}function fy(t,e,n,r,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)fy(t,e[i],n,r,o);else r=xi(r)?!!r.capture:!!r,n=xh(n),t&&t[Ri]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=sc(i,n,r,o),-1<n&&(ba(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ah(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sc(e,n,r,o)),(n=-1<t?e[t]:null)&&Nh(n))}function Nh(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ri])ic(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(py(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ah(e))?(ic(n,t),n.h==0&&(n.src=null,e[Dh]=null)):ba(t)}}}function py(t){return t in Wl?Wl[t]:Wl[t]="on"+t}function $S(t,e){if(t.fa)t=!0;else{e=new hi(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Nh(t),t=n.call(r,e)}return t}function Ah(t){return t=t[Dh],t instanceof Fa?t:null}var ql="__closure_events_fn_"+(1e9*Math.random()>>>0);function xh(t){return typeof t=="function"?t:(t[ql]||(t[ql]=function(e){return t.handleEvent(e)}),t[ql])}function De(){Pn.call(this),this.i=new Fa(this),this.S=this,this.J=null}Ne(De,Pn);De.prototype[Ri]=!0;De.prototype.removeEventListener=function(t,e,n,r){fy(this,t,e,n,r)};function Oe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ze(e,t);else if(e instanceof ze)e.target=e.target||t;else{var o=e;e=new ze(r,t),uy(e,o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=e.g=n[i];o=us(s,r,!0,e)&&o}if(s=e.g=t,o=us(s,r,!0,e)&&o,o=us(s,r,!1,e)&&o,n)for(i=0;i<n.length;i++)s=e.g=n[i],o=us(s,r,!1,e)&&o}De.prototype.N=function(){if(De.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ba(n[r]);delete t.g[e],t.h--}}this.J=null};De.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};De.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function us(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var s=e[i];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&ic(t.i,s),o=a.call(l,r)!==!1&&o}}return o&&!r.defaultPrevented}var Rh=b.JSON.stringify;class bS{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function FS(){var t=_h;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class US{constructor(){this.h=this.g=null}add(e,n){const r=gy.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var gy=new bS(()=>new VS,t=>t.reset());class VS{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function BS(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function zS(t){b.setTimeout(()=>{throw t},0)}let di,fi=!1,_h=new US,my=()=>{const t=b.Promise.resolve(void 0);di=()=>{t.then(jS)}};var jS=()=>{for(var t;t=FS();){try{t.h.call(t.g)}catch(n){zS(n)}var e=gy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fi=!1};function Ua(t,e){De.call(this),this.h=t||1,this.g=e||b,this.j=Be(this.qb,this),this.l=Date.now()}Ne(Ua,De);I=Ua.prototype;I.ga=!1;I.T=null;I.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Oe(this,"tick"),this.ga&&(Oh(this),this.start()))}};I.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Oh(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}I.N=function(){Ua.$.N.call(this),Oh(this),delete this.g};function Lh(t,e,n){if(typeof t=="function")n&&(t=Be(t,n));else if(t&&typeof t.handleEvent=="function")t=Be(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:b.setTimeout(t,e||0)}function yy(t){t.g=Lh(()=>{t.g=null,t.i&&(t.i=!1,yy(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class HS extends Pn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yy(this)}N(){super.N(),this.g&&(b.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(t){Pn.call(this),this.h=t,this.g={}}Ne(pi,Pn);var Bf=[];function vy(t,e,n,r){Array.isArray(n)||(n&&(Bf[0]=n.toString()),n=Bf);for(var o=0;o<n.length;o++){var i=cy(e,n[o],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function wy(t){Ih(t.g,function(e,n){this.g.hasOwnProperty(n)&&Nh(e)},t),t.g={}}pi.prototype.N=function(){pi.$.N.call(this),wy(this)};pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Va(){this.g=!0}Va.prototype.Ea=function(){this.g=!1};function KS(t,e,n,r,o,i){t.info(function(){if(t.g)if(i)for(var s="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+`
`+n+`
`+s})}function GS(t,e,n,r,o,i,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+`
`+n+`
`+i+" "+s})}function xr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+qS(t,n)+(r?" "+r:"")})}function WS(t,e){t.info(function(){return"TIMEOUT: "+e})}Va.prototype.info=function(){};function qS(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if(i!="noop"&&i!="stop"&&i!="close")for(var s=1;s<o.length;s++)o[s]=""}}}}return Rh(n)}catch{return e}}var ur={},zf=null;function Ba(){return zf=zf||new De}ur.Ta="serverreachability";function Ey(t){ze.call(this,ur.Ta,t)}Ne(Ey,ze);function gi(t){const e=Ba();Oe(e,new Ey(e))}ur.STAT_EVENT="statevent";function Sy(t,e){ze.call(this,ur.STAT_EVENT,t),this.stat=e}Ne(Sy,ze);function We(t){const e=Ba();Oe(e,new Sy(e,t))}ur.Ua="timingevent";function Ty(t,e){ze.call(this,ur.Ua,t),this.size=e}Ne(Ty,ze);function _i(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return b.setTimeout(function(){t()},e)}var za={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Cy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ph(){}Ph.prototype.h=null;function jf(t){return t.h||(t.h=t.i())}function ky(){}var Oi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mh(){ze.call(this,"d")}Ne(Mh,ze);function $h(){ze.call(this,"c")}Ne($h,ze);var ac;function ja(){}Ne(ja,Ph);ja.prototype.g=function(){return new XMLHttpRequest};ja.prototype.i=function(){return{}};ac=new ja;function Li(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new pi(this),this.P=QS,t=nc?125:void 0,this.V=new Ua(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Iy}function Iy(){this.i=null,this.g="",this.h=!1}var QS=45e3,lc={},ia={};I=Li.prototype;I.setTimeout=function(t){this.P=t};function uc(t,e,n){t.L=1,t.v=Ka(Xt(e)),t.s=n,t.S=!0,Dy(t,null)}function Dy(t,e){t.G=Date.now(),Pi(t),t.A=Xt(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Py(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Iy,t.g=tv(t.l,n?e:null,!t.s),0<t.O&&(t.M=new HS(Be(t.Pa,t,t.g),t.O)),vy(t.U,t.g,"readystatechange",t.nb),e=t.I?ly(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),gi(),KS(t.j,t.u,t.A,t.m,t.W,t.s)}I.nb=function(t){t=t.target;const e=this.M;e&&Lt(t)==3?e.l():this.Pa(t)};I.Pa=function(t){try{if(t==this.g)e:{const c=Lt(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||nc||this.g&&(this.h.h||this.g.ja()||Wf(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?gi(3):gi(2)),Ha(this);var n=this.g.da();this.ca=n;t:if(Ny(this)){var r=Wf(this.g);t="";var o=r.length,i=Lt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Vo(this);var s="";break t}this.h.i=new b.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==o-1});r.splice(0,o),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,GS(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ci(a)){var u=a;break t}}u=null}if(n=u)xr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cc(this,n);else{this.i=!1,this.o=3,We(12),Kn(this),Vo(this);break e}}this.S?(Ay(this,c,s),nc&&this.i&&c==3&&(vy(this.U,this.V,"tick",this.mb),this.V.start())):(xr(this.j,this.m,s,null),cc(this,s)),c==4&&Kn(this),this.i&&!this.J&&(c==4?Xy(this.l,this):(this.i=!1,Pi(this)))}else mT(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,We(12)):(this.o=0,We(13)),Kn(this),Vo(this)}}}catch{}finally{}};function Ny(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Ay(t,e,n){let r=!0,o;for(;!t.J&&t.C<n.length;)if(o=YS(t,n),o==ia){e==4&&(t.o=4,We(14),r=!1),xr(t.j,t.m,null,"[Incomplete Response]");break}else if(o==lc){t.o=4,We(15),xr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else xr(t.j,t.m,o,null),cc(t,o);Ny(t)&&o!=ia&&o!=lc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,We(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zh(e),e.M=!0,We(11))):(xr(t.j,t.m,n,"[Invalid Chunked Response]"),Kn(t),Vo(t))}I.mb=function(){if(this.g){var t=Lt(this.g),e=this.g.ja();this.C<e.length&&(Ha(this),Ay(this,t,e),this.i&&t!=4&&Pi(this))}};function YS(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ia:(n=Number(e.substring(n,r)),isNaN(n)?lc:(r+=1,r+n>e.length?ia:(e=e.slice(r,r+n),t.C=r+n,e)))}I.cancel=function(){this.J=!0,Kn(this)};function Pi(t){t.Y=Date.now()+t.P,xy(t,t.P)}function xy(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=_i(Be(t.lb,t),e)}function Ha(t){t.B&&(b.clearTimeout(t.B),t.B=null)}I.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(WS(this.j,this.A),this.L!=2&&(gi(),We(17)),Kn(this),this.o=2,Vo(this)):xy(this,this.Y-t)};function Vo(t){t.l.H==0||t.J||Xy(t.l,t)}function Kn(t){Ha(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Oh(t.V),wy(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function cc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||hc(n.i,t))){if(!t.K&&hc(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)la(n),qa(n);else break e;Bh(n),We(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=_i(Be(n.ib,n),6e3));if(1>=by(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gn(n,11)}else if((t.K||n.g==t)&&la(n),!ci(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let u=o[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=r.i;i.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(bh(i,i.h),i.h=null))}if(r.F){const v=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,ne(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=ev(r,r.J?r.pa:null,r.Y),s.K){Fy(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Ha(a),Pi(a)),r.g=s}else Qy(r);0<n.j.length&&Qa(n)}else u[0]!="stop"&&u[0]!="close"||Gn(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Gn(n,7):Vh(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}gi(4)}catch{}}function XS(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ma(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function JS(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ma(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ry(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ma(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=JS(t),r=XS(t),o=r.length,i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}var _y=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZS(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Yn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yn){this.h=t.h,sa(this,t.j),this.s=t.s,this.g=t.g,aa(this,t.m),this.l=t.l;var e=t.i,n=new mi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Hf(this,n),this.o=t.o}else t&&(e=String(t).match(_y))?(this.h=!1,sa(this,e[1]||"",!0),this.s=No(e[2]||""),this.g=No(e[3]||"",!0),aa(this,e[4]),this.l=No(e[5]||"",!0),Hf(this,e[6]||"",!0),this.o=No(e[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Yn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ao(e,Kf,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ao(e,Kf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ao(n,n.charAt(0)=="/"?nT:tT,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ao(n,oT)),t.join("")};function Xt(t){return new Yn(t)}function sa(t,e,n){t.j=n?No(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function aa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Hf(t,e,n){e instanceof mi?(t.i=e,iT(t.i,t.h)):(n||(e=Ao(e,rT)),t.i=new mi(e,t.h))}function ne(t,e,n){t.i.set(e,n)}function Ka(t){return ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function No(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ao(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,eT),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function eT(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Kf=/[#\/\?@]/g,tT=/[#\?:]/g,nT=/[#\?]/g,rT=/[#\?@]/g,oT=/#/g;function mi(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mn(t){t.g||(t.g=new Map,t.h=0,t.i&&ZS(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}I=mi.prototype;I.add=function(t,e){Mn(this),this.i=null,t=so(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Oy(t,e){Mn(t),e=so(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ly(t,e){return Mn(t),e=so(t,e),t.g.has(e)}I.forEach=function(t,e){Mn(this),this.g.forEach(function(n,r){n.forEach(function(o){t.call(e,o,r,this)},this)},this)};I.ta=function(){Mn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let i=0;i<o.length;i++)n.push(e[r])}return n};I.Z=function(t){Mn(this);let e=[];if(typeof t=="string")Ly(this,t)&&(e=e.concat(this.g.get(so(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};I.set=function(t,e){return Mn(this),this.i=null,t=so(this,t),Ly(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};I.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Py(t,e,n){Oy(t,e),0<n.length&&(t.i=null,t.g.set(so(t,e),Ch(n)),t.h+=n.length)}I.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var o=i;s[r]!==""&&(o+="="+encodeURIComponent(String(s[r]))),t.push(o)}}return this.i=t.join("&")};function so(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function iT(t,e){e&&!t.j&&(Mn(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(Oy(this,r),Py(this,o,n))},t)),t.j=e}var sT=class{constructor(t,e){this.g=t,this.map=e}};function My(t){this.l=t||aT,b.PerformanceNavigationTiming?(t=b.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(b.g&&b.g.Ka&&b.g.Ka()&&b.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aT=10;function $y(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function by(t){return t.h?1:t.g?t.g.size:0}function hc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function bh(t,e){t.g?t.g.add(e):t.h=e}function Fy(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}My.prototype.cancel=function(){if(this.i=Uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Uy(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ch(t.i)}var lT=class{stringify(t){return b.JSON.stringify(t,void 0)}parse(t){return b.JSON.parse(t,void 0)}};function uT(){this.g=new lT}function cT(t,e,n){const r=n||"";try{Ry(t,function(o,i){let s=o;xi(o)&&(s=Rh(o)),e.push(r+i+"="+encodeURIComponent(s))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function hT(t,e){const n=new Va;if(b.Image){const r=new Image;r.onload=ls(cs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ls(cs,n,r,"TestLoadImage: error",!1,e),r.onabort=ls(cs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ls(cs,n,r,"TestLoadImage: timeout",!1,e),b.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function cs(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Mi(t){this.l=t.fc||null,this.j=t.ob||!1}Ne(Mi,Ph);Mi.prototype.g=function(){return new Ga(this.l,this.j)};Mi.prototype.i=function(t){return function(){return t}}({});function Ga(t,e){De.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Fh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ne(Ga,De);var Fh=0;I=Ga.prototype;I.open=function(t,e){if(this.readyState!=Fh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,yi(this)};I.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||b).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};I.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=Fh};I.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof b.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vy(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Vy(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}I.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$i(this):yi(this),this.readyState==3&&Vy(this)}};I.Za=function(t){this.g&&(this.response=this.responseText=t,$i(this))};I.Ya=function(t){this.g&&(this.response=t,$i(this))};I.ka=function(){this.g&&$i(this)};function $i(t){t.readyState=4,t.l=null,t.j=null,t.A=null,yi(t)}I.setRequestHeader=function(t,e){this.v.append(t,e)};I.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};I.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function yi(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var dT=b.JSON.parse;function pe(t){De.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=By,this.L=this.M=!1}Ne(pe,De);var By="",fT=/^https?$/i,pT=["POST","PUT"];I=pe.prototype;I.Oa=function(t){this.M=t};I.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ac.g(),this.C=this.u?jf(this.u):jf(ac),this.g.onreadystatechange=Be(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Gf(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),o=b.FormData&&t instanceof b.FormData,!(0<=oy(pT,e))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Hy(this),0<this.B&&((this.L=gT(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.ua,this)):this.A=Lh(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Gf(this,i)}};function gT(t){return qr&&typeof t.timeout=="number"&&t.ontimeout!==void 0}I.ua=function(){typeof Th<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oe(this,"timeout"),this.abort(8))};function Gf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zy(t),Wa(t)}function zy(t){t.F||(t.F=!0,Oe(t,"complete"),Oe(t,"error"))}I.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Oe(this,"complete"),Oe(this,"abort"),Wa(this))};I.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wa(this,!0)),pe.$.N.call(this)};I.La=function(){this.s||(this.G||this.v||this.l?jy(this):this.kb())};I.kb=function(){jy(this)};function jy(t){if(t.h&&typeof Th<"u"&&(!t.C[1]||Lt(t)!=4||t.da()!=2)){if(t.v&&Lt(t)==4)Lh(t.La,0,t);else if(Oe(t,"readystatechange"),Lt(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var o=String(t.I).match(_y)[1]||null;!o&&b.self&&b.self.location&&(o=b.self.location.protocol.slice(0,-1)),r=!fT.test(o?o.toLowerCase():"")}n=r}if(n)Oe(t,"complete"),Oe(t,"success");else{t.m=6;try{var i=2<Lt(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",zy(t)}}finally{Wa(t)}}}}function Wa(t,e){if(t.g){Hy(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Oe(t,"ready");try{n.onreadystatechange=r}catch{}}}function Hy(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(b.clearTimeout(t.A),t.A=null)}I.isActive=function(){return!!this.g};function Lt(t){return t.g?t.g.readyState:0}I.da=function(){try{return 2<Lt(this)?this.g.status:-1}catch{return-1}};I.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};I.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),dT(e)}};function Wf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case By:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function mT(t){const e={};t=(t.g&&2<=Lt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ci(t[r]))continue;var n=BS(t[r]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[o]||[];e[o]=i,i.push(n)}PS(e,function(r){return r.join(", ")})}I.Ia=function(){return this.m};I.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ky(t){let e="";return Ih(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Uh(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ky(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ne(t,e,n))}function So(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Gy(t){this.Ga=0,this.j=[],this.l=new Va,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=So("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=So("baseRetryDelayMs",5e3,t),this.hb=So("retryDelaySeedMs",1e4,t),this.eb=So("forwardChannelMaxRetries",2,t),this.xa=So("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new My(t&&t.concurrentRequestLimit),this.Ja=new uT,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}I=Gy.prototype;I.ra=8;I.H=1;function Vh(t){if(Wy(t),t.H==3){var e=t.W++,n=Xt(t.I);if(ne(n,"SID",t.K),ne(n,"RID",e),ne(n,"TYPE","terminate"),bi(t,n),e=new Li(t,t.l,e),e.L=2,e.v=Ka(Xt(n)),n=!1,b.navigator&&b.navigator.sendBeacon)try{n=b.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&b.Image&&(new Image().src=e.v,n=!0),n||(e.g=tv(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Pi(e)}Zy(t)}function qa(t){t.g&&(zh(t),t.g.cancel(),t.g=null)}function Wy(t){qa(t),t.u&&(b.clearTimeout(t.u),t.u=null),la(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&b.clearTimeout(t.m),t.m=null)}function Qa(t){if(!$y(t.i)&&!t.m){t.m=!0;var e=t.Na;di||my(),fi||(di(),fi=!0),_h.add(e,t),t.C=0}}function yT(t,e){return by(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=_i(Be(t.Na,t,e),Jy(t,t.C)),t.C++,!0)}I.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new Li(this,this.l,t);let i=this.s;if(this.U&&(i?(i=ly(i),uy(i,this.U)):i=this.U),this.o!==null||this.O||(o.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qy(this,o,e),n=Xt(this.I),ne(n,"RID",t),ne(n,"CVER",22),this.F&&ne(n,"X-HTTP-Session-Id",this.F),bi(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Ky(i)))+"&"+e:this.o&&Uh(n,this.o,i)),bh(this.i,o),this.bb&&ne(n,"TYPE","init"),this.P?(ne(n,"$req",e),ne(n,"SID","null"),o.aa=!0,uc(o,n,null)):uc(o,n,e),this.H=2}}else this.H==3&&(t?qf(this,t):this.j.length==0||$y(this.i)||qf(this))};function qf(t,e){var n;e?n=e.m:n=t.W++;const r=Xt(t.I);ne(r,"SID",t.K),ne(r,"RID",n),ne(r,"AID",t.V),bi(t,r),t.o&&t.s&&Uh(r,t.o,t.s),n=new Li(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=qy(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),bh(t.i,n),uc(n,r,e)}function bi(t,e){t.na&&Ih(t.na,function(n,r){ne(e,r,n)}),t.h&&Ry({},function(n,r){ne(e,r,n)})}function qy(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Be(t.h.Va,t.h,t):null;e:{var o=t.j;let i=-1;for(;;){const s=["count="+n];i==-1?0<n?(i=o[0].g,s.push("ofs="+i)):i=0:s.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=o[l].g;const c=o[l].map;if(u-=i,0>u)i=Math.max(0,o[l].g-100),a=!1;else try{cT(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Qy(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;di||my(),fi||(di(),fi=!0),_h.add(e,t),t.A=0}}function Bh(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=_i(Be(t.Ma,t),Jy(t,t.A)),t.A++,!0)}I.Ma=function(){if(this.u=null,Yy(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=_i(Be(this.jb,this),t)}};I.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,We(10),qa(this),Yy(this))};function zh(t){t.B!=null&&(b.clearTimeout(t.B),t.B=null)}function Yy(t){t.g=new Li(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Xt(t.wa);ne(e,"RID","rpc"),ne(e,"SID",t.K),ne(e,"AID",t.V),ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ne(e,"TO",t.qa),ne(e,"TYPE","xmlhttp"),bi(t,e),t.o&&t.s&&Uh(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ka(Xt(e)),n.s=null,n.S=!0,Dy(n,t)}I.ib=function(){this.v!=null&&(this.v=null,qa(this),Bh(this),We(19))};function la(t){t.v!=null&&(b.clearTimeout(t.v),t.v=null)}function Xy(t,e){var n=null;if(t.g==e){la(t),zh(t),t.g=null;var r=2}else if(hc(t.i,e))n=e.F,Fy(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var o=t.C;r=Ba(),Oe(r,new Ty(r,n)),Qa(t)}else Qy(t);else if(o=e.o,o==3||o==0&&0<e.ca||!(r==1&&yT(t,e)||r==2&&Bh(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}}function Jy(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Gn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Be(t.pb,t);n||(n=new Yn("//www.google.com/images/cleardot.gif"),b.location&&b.location.protocol=="http"||sa(n,"https"),Ka(n)),hT(n.toString(),r)}else We(2);t.H=0,t.h&&t.h.za(e),Zy(t),Wy(t)}I.pb=function(t){t?(this.l.info("Successfully pinged google.com"),We(2)):(this.l.info("Failed to ping google.com"),We(1))};function Zy(t){if(t.H=0,t.ma=[],t.h){const e=Uy(t.i);(e.length!=0||t.j.length!=0)&&(Ff(t.ma,e),Ff(t.ma,t.j),t.i.i.length=0,Ch(t.j),t.j.length=0),t.h.ya()}}function ev(t,e,n){var r=n instanceof Yn?Xt(n):new Yn(n);if(r.g!="")e&&(r.g=e+"."+r.g),aa(r,r.m);else{var o=b.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var i=new Yn(null);r&&sa(i,r),e&&(i.g=e),o&&aa(i,o),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&ne(r,n,e),ne(r,"VER",t.ra),bi(t,r),r}function tv(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new pe(new Mi({ob:!0})):new pe(t.va),e.Oa(t.J),e}I.isActive=function(){return!!this.h&&this.h.isActive(this)};function nv(){}I=nv.prototype;I.Ba=function(){};I.Aa=function(){};I.za=function(){};I.ya=function(){};I.isActive=function(){return!0};I.Va=function(){};function ua(){if(qr&&!(10<=Number(RS)))throw Error("Environmental error: no available transport.")}ua.prototype.g=function(t,e){return new ht(t,e)};function ht(t,e){De.call(this),this.g=new Gy(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ci(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ci(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ao(this)}Ne(ht,De);ht.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;We(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ev(t,null,t.Y),Qa(t)};ht.prototype.close=function(){Vh(this.g)};ht.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Rh(t),t=n);e.j.push(new sT(e.fb++,t)),e.H==3&&Qa(e)};ht.prototype.N=function(){this.g.h=null,delete this.j,Vh(this.g),delete this.g,ht.$.N.call(this)};function rv(t){Mh.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ne(rv,Mh);function ov(){$h.call(this),this.status=1}Ne(ov,$h);function ao(t){this.g=t}Ne(ao,nv);ao.prototype.Ba=function(){Oe(this.g,"a")};ao.prototype.Aa=function(t){Oe(this.g,new rv(t))};ao.prototype.za=function(t){Oe(this.g,new ov)};ao.prototype.ya=function(){Oe(this.g,"b")};function vT(){this.blockSize=-1}function At(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ne(At,vT);At.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ql(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var i=t.g[3],s=e+(i^n&(o^i))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=i+(o^e&(n^o))+r[1]+3905402710&4294967295,i=e+(s<<12&4294967295|s>>>20),s=o+(n^i&(e^n))+r[2]+606105819&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(e^o&(i^e))+r[3]+3250441966&4294967295,n=o+(s<<22&4294967295|s>>>10),s=e+(i^n&(o^i))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=i+(o^e&(n^o))+r[5]+1200080426&4294967295,i=e+(s<<12&4294967295|s>>>20),s=o+(n^i&(e^n))+r[6]+2821735955&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(e^o&(i^e))+r[7]+4249261313&4294967295,n=o+(s<<22&4294967295|s>>>10),s=e+(i^n&(o^i))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=i+(o^e&(n^o))+r[9]+2336552879&4294967295,i=e+(s<<12&4294967295|s>>>20),s=o+(n^i&(e^n))+r[10]+4294925233&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(e^o&(i^e))+r[11]+2304563134&4294967295,n=o+(s<<22&4294967295|s>>>10),s=e+(i^n&(o^i))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=i+(o^e&(n^o))+r[13]+4254626195&4294967295,i=e+(s<<12&4294967295|s>>>20),s=o+(n^i&(e^n))+r[14]+2792965006&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(e^o&(i^e))+r[15]+1236535329&4294967295,n=o+(s<<22&4294967295|s>>>10),s=e+(o^i&(n^o))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(e^n))+r[6]+3225465664&4294967295,i=e+(s<<9&4294967295|s>>>23),s=o+(e^n&(i^e))+r[11]+643717713&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^e&(o^i))+r[0]+3921069994&4294967295,n=o+(s<<20&4294967295|s>>>12),s=e+(o^i&(n^o))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(e^n))+r[10]+38016083&4294967295,i=e+(s<<9&4294967295|s>>>23),s=o+(e^n&(i^e))+r[15]+3634488961&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^e&(o^i))+r[4]+3889429448&4294967295,n=o+(s<<20&4294967295|s>>>12),s=e+(o^i&(n^o))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(e^n))+r[14]+3275163606&4294967295,i=e+(s<<9&4294967295|s>>>23),s=o+(e^n&(i^e))+r[3]+4107603335&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^e&(o^i))+r[8]+1163531501&4294967295,n=o+(s<<20&4294967295|s>>>12),s=e+(o^i&(n^o))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(e^n))+r[2]+4243563512&4294967295,i=e+(s<<9&4294967295|s>>>23),s=o+(e^n&(i^e))+r[7]+1735328473&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^e&(o^i))+r[12]+2368359562&4294967295,n=o+(s<<20&4294967295|s>>>12),s=e+(n^o^i)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=i+(e^n^o)+r[8]+2272392833&4294967295,i=e+(s<<11&4294967295|s>>>21),s=o+(i^e^n)+r[11]+1839030562&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^e)+r[14]+4259657740&4294967295,n=o+(s<<23&4294967295|s>>>9),s=e+(n^o^i)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=i+(e^n^o)+r[4]+1272893353&4294967295,i=e+(s<<11&4294967295|s>>>21),s=o+(i^e^n)+r[7]+4139469664&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^e)+r[10]+3200236656&4294967295,n=o+(s<<23&4294967295|s>>>9),s=e+(n^o^i)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=i+(e^n^o)+r[0]+3936430074&4294967295,i=e+(s<<11&4294967295|s>>>21),s=o+(i^e^n)+r[3]+3572445317&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^e)+r[6]+76029189&4294967295,n=o+(s<<23&4294967295|s>>>9),s=e+(n^o^i)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=i+(e^n^o)+r[12]+3873151461&4294967295,i=e+(s<<11&4294967295|s>>>21),s=o+(i^e^n)+r[15]+530742520&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^e)+r[2]+3299628645&4294967295,n=o+(s<<23&4294967295|s>>>9),s=e+(o^(n|~i))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=i+(n^(e|~o))+r[7]+1126891415&4294967295,i=e+(s<<10&4294967295|s>>>22),s=o+(e^(i|~n))+r[14]+2878612391&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~e))+r[5]+4237533241&4294967295,n=o+(s<<21&4294967295|s>>>11),s=e+(o^(n|~i))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=i+(n^(e|~o))+r[3]+2399980690&4294967295,i=e+(s<<10&4294967295|s>>>22),s=o+(e^(i|~n))+r[10]+4293915773&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~e))+r[1]+2240044497&4294967295,n=o+(s<<21&4294967295|s>>>11),s=e+(o^(n|~i))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=i+(n^(e|~o))+r[15]+4264355552&4294967295,i=e+(s<<10&4294967295|s>>>22),s=o+(e^(i|~n))+r[6]+2734768916&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~e))+r[13]+1309151649&4294967295,n=o+(s<<21&4294967295|s>>>11),s=e+(o^(n|~i))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=i+(n^(e|~o))+r[11]+3174756917&4294967295,i=e+(s<<10&4294967295|s>>>22),s=o+(e^(i|~n))+r[2]+718787259&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+i&4294967295}At.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,o=this.h,i=0;i<e;){if(o==0)for(;i<=n;)Ql(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[o++]=t.charCodeAt(i++),o==this.blockSize){Ql(this,r),o=0;break}}else for(;i<e;)if(r[o++]=t[i++],o==this.blockSize){Ql(this,r),o=0;break}}this.h=o,this.i+=e};At.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function J(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var i=t[o]|0;r&&i==e||(n[o]=i,r=!1)}this.g=n}var wT={};function jh(t){return-128<=t&&128>t?NS(t,function(e){return new J([e|0],0>e?-1:0)}):new J([t|0],0>t?-1:0)}function Pt(t){if(isNaN(t)||!isFinite(t))return br;if(0>t)return Re(Pt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=dc;return new J(e,0)}function iv(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Re(iv(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Pt(Math.pow(e,8)),r=br,o=0;o<t.length;o+=8){var i=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+i),e);8>i?(i=Pt(Math.pow(e,i)),r=r.R(i).add(Pt(s))):(r=r.R(n),r=r.add(Pt(s)))}return r}var dc=4294967296,br=jh(0),fc=jh(1),Qf=jh(16777216);I=J.prototype;I.ea=function(){if(mt(this))return-Re(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:dc+r)*e,e*=dc}return t};I.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Kt(this))return"0";if(mt(this))return"-"+Re(this).toString(t);for(var e=Pt(Math.pow(t,6)),n=this,r="";;){var o=ha(n,e).g;n=ca(n,o.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,Kt(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};I.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Kt(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function mt(t){return t.h==-1}I.X=function(t){return t=ca(this,t),mt(t)?-1:Kt(t)?0:1};function Re(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new J(n,~t.h).add(fc)}I.abs=function(){return mt(this)?Re(this):this};I.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,o=0;o<=e;o++){var i=r+(this.D(o)&65535)+(t.D(o)&65535),s=(i>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);r=s>>>16,i&=65535,s&=65535,n[o]=s<<16|i}return new J(n,n[n.length-1]&-2147483648?-1:0)};function ca(t,e){return t.add(Re(e))}I.R=function(t){if(Kt(this)||Kt(t))return br;if(mt(this))return mt(t)?Re(this).R(Re(t)):Re(Re(this).R(t));if(mt(t))return Re(this.R(Re(t)));if(0>this.X(Qf)&&0>t.X(Qf))return Pt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<t.g.length;o++){var i=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(o)>>>16,l=t.D(o)&65535;n[2*r+2*o]+=s*l,hs(n,2*r+2*o),n[2*r+2*o+1]+=i*l,hs(n,2*r+2*o+1),n[2*r+2*o+1]+=s*a,hs(n,2*r+2*o+1),n[2*r+2*o+2]+=i*a,hs(n,2*r+2*o+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new J(n,0)};function hs(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function To(t,e){this.g=t,this.h=e}function ha(t,e){if(Kt(e))throw Error("division by zero");if(Kt(t))return new To(br,br);if(mt(t))return e=ha(Re(t),e),new To(Re(e.g),Re(e.h));if(mt(e))return e=ha(t,Re(e)),new To(Re(e.g),e.h);if(30<t.g.length){if(mt(t)||mt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fc,r=e;0>=r.X(t);)n=Yf(n),r=Yf(r);var o=pr(n,1),i=pr(r,1);for(r=pr(r,2),n=pr(n,2);!Kt(r);){var s=i.add(r);0>=s.X(t)&&(o=o.add(n),i=s),r=pr(r,1),n=pr(n,1)}return e=ca(t,o.R(e)),new To(o,e)}for(o=br;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Pt(n),s=i.R(e);mt(s)||0<s.X(t);)n-=r,i=Pt(n),s=i.R(e);Kt(i)&&(i=fc),o=o.add(i),t=ca(t,s)}return new To(o,t)}I.gb=function(t){return ha(this,t).h};I.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new J(n,this.h&t.h)};I.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new J(n,this.h|t.h)};I.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new J(n,this.h^t.h)};function Yf(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new J(n,t.h)}function pr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,o=[],i=0;i<r;i++)o[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new J(o,t.h)}ua.prototype.createWebChannel=ua.prototype.g;ht.prototype.send=ht.prototype.u;ht.prototype.open=ht.prototype.m;ht.prototype.close=ht.prototype.close;za.NO_ERROR=0;za.TIMEOUT=8;za.HTTP_ERROR=6;Cy.COMPLETE="complete";ky.EventType=Oi;Oi.OPEN="a";Oi.CLOSE="b";Oi.ERROR="c";Oi.MESSAGE="d";De.prototype.listen=De.prototype.O;pe.prototype.listenOnce=pe.prototype.P;pe.prototype.getLastError=pe.prototype.Sa;pe.prototype.getLastErrorCode=pe.prototype.Ia;pe.prototype.getStatus=pe.prototype.da;pe.prototype.getResponseJson=pe.prototype.Wa;pe.prototype.getResponseText=pe.prototype.ja;pe.prototype.send=pe.prototype.ha;pe.prototype.setWithCredentials=pe.prototype.Oa;At.prototype.digest=At.prototype.l;At.prototype.reset=At.prototype.reset;At.prototype.update=At.prototype.j;J.prototype.add=J.prototype.add;J.prototype.multiply=J.prototype.R;J.prototype.modulo=J.prototype.gb;J.prototype.compare=J.prototype.X;J.prototype.toNumber=J.prototype.ea;J.prototype.toString=J.prototype.toString;J.prototype.getBits=J.prototype.D;J.fromNumber=Pt;J.fromString=iv;var ET=function(){return new ua},ST=function(){return Ba()},Yl=za,TT=Cy,CT=ur,Xf={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kT=Mi,ds=ky,IT=pe,DT=At,Fr=J;const Jf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Jm("@firebase/firestore");function Zf(){return rr.logLevel}function O(t,...e){if(rr.logLevel<=Y.DEBUG){const n=e.map(Hh);rr.debug(`Firestore (${lo}): ${t}`,...n)}}function Jt(t,...e){if(rr.logLevel<=Y.ERROR){const n=e.map(Hh);rr.error(`Firestore (${lo}): ${t}`,...n)}}function Qr(t,...e){if(rr.logLevel<=Y.WARN){const n=e.map(Hh);rr.warn(`Firestore (${lo}): ${t}`,...n)}}function Hh(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(t="Unexpected state"){const e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+t;throw Jt(e),new Error(e)}function oe(t,e){t||F()}function B(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class P extends io{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(be.UNAUTHENTICATED))}shutdown(){}}class AT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xT{constructor(e){this.t=e,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cn,e.enqueueRetryable(()=>o(this.currentUser))};const s=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe(typeof r.accessToken=="string"),new sv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string"),new be(e)}}class RT{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=be.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class _T{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new RT(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LT{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.T;return this.T=i.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const o=i=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?o(i):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe(typeof n.token=="string"),this.T=n.token,new OT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=PT(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<n&&(r+=e.charAt(o[i]%e.length))}return r}}function Q(t,e){return t<e?-1:t>e?1:0}function Yr(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new P(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new P(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new P(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Te.fromMillis(Date.now())}static fromDate(e){return Te.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Te(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new Te(0,0))}static max(){return new V(new Te(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r){n===void 0?n=0:n>e.length&&F(),r===void 0?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const i=e.get(o),s=n.get(o);if(i<s)return-1;if(i>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class se extends vi{construct(e,n,r){return new se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new P(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new se(n)}static emptyPath(){return new se([])}}const MT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ve extends vi{construct(e,n,r){return new Ve(e,n,r)}static isValidIdentifier(e){return MT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ve.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ve(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const i=()=>{if(r.length===0)throw new P(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;o<e.length;){const a=e[o];if(a==="\\"){if(o+1===e.length)throw new P(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new P(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,o+=2}else a==="`"?(s=!s,o++):a!=="."||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new P(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ve(n)}static emptyPath(){return new Ve([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.path=e}static fromPath(e){return new M(se.fromString(e))}static fromName(e){return new M(se.fromString(e).popFirst(5))}static empty(){return new M(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new se(e.slice()))}}function $T(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=V.fromTimestamp(r===1e9?new Te(n+1,0):new Te(n,r));return new An(o,M.empty(),e)}function bT(t){return new An(t.readTime,t.key,-1)}class An{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new An(V.min(),M.empty(),-1)}static max(){return new An(V.max(),M.empty(),-1)}}function FT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:Q(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fi(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==UT)throw t;O("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,r)=>{n(e)})}static reject(e){return new T((n,r)=>{r(e)})}static waitFor(e){return new T((n,r)=>{let o=0,i=0,s=!1;e.forEach(a=>{++o,a.next(()=>{++i,s&&i===o&&n()},l=>r(l))}),s=!0,i===o&&n()})}static or(e){let n=T.resolve(!1);for(const r of e)n=n.next(o=>o?T.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,i)=>{r.push(n.call(this,o,i))}),this.waitFor(r)}static mapArray(e,n){return new T((r,o)=>{const i=e.length,s=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===i&&r(s)},c=>o(c))}})}static doWhile(e,n){return new T((r,o)=>{const i=()=>{e()===!0?n().next(()=>{i()},o):r()};i()})}}function Ui(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Kh.ct=-1;function Ya(t){return t==null}function da(t){return t===0&&1/t==-1/0}function BT(t){return typeof t=="number"&&Number.isInteger(t)&&!da(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,n){this.comparator=e,this.root=n||xe.EMPTY}insert(e,n){return new he(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xe.BLACK,null,null))}remove(e){return new he(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fs(this.root,e,this.comparator,!0)}}class fs{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xe{constructor(e,n,r,o,i){this.key=e,this.value=n,this.color=r??xe.RED,this.left=o??xe.EMPTY,this.right=i??xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,i){return new xe(e??this.key,n??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,n,r),null):i===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return xe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1;xe.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,o){return this}insert(t,e,n){return new xe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new he(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tp(this.data.getIterator())}getIteratorFrom(e){return new tp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(this.comparator(o,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class tp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.fields=e,e.sort(Ve.comparator)}static empty(){return new lt([])}unionWith(e){let n=new je(Ve.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uv("Invalid base64 string: "+o):o}}(e);return new Ke(n)}static fromUint8Array(e){const n=function(r){let o="";for(let i=0;i<r.length;++i)o+=String.fromCharCode(r[i]);return o}(e);return new Ke(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const zT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xn(t){if(oe(!!t),typeof t=="string"){let e=0;const n=zT.exec(t);if(oe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ye(t.seconds),nanos:ye(t.nanos)}}function ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function or(t){return typeof t=="string"?Ke.fromBase64String(t):Ke.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wh(t){const e=t.mapValue.fields.__previous_value__;return Gh(e)?Wh(e):e}function wi(t){const e=xn(t.mapValue.fields.__local_write_time__.timestampValue);return new Te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,o,i,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ei{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ei("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ei&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gh(t)?4:HT(t)?9007199254740991:10:F()}function Ut(t,e){if(t===e)return!0;const n=ir(t);if(n!==ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wi(t).isEqual(wi(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const i=xn(r.timestampValue),s=xn(o.timestampValue);return i.seconds===s.seconds&&i.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return or(r.bytesValue).isEqual(or(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return ye(r.geoPointValue.latitude)===ye(o.geoPointValue.latitude)&&ye(r.geoPointValue.longitude)===ye(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ye(r.integerValue)===ye(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const i=ye(r.doubleValue),s=ye(o.doubleValue);return i===s?da(i)===da(s):isNaN(i)&&isNaN(s)}return!1}(t,e);case 9:return Yr(t.arrayValue.values||[],e.arrayValue.values||[],Ut);case 10:return function(r,o){const i=r.mapValue.fields||{},s=o.mapValue.fields||{};if(ep(i)!==ep(s))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(s[a]===void 0||!Ut(i[a],s[a])))return!1;return!0}(t,e);default:return F()}}function Si(t,e){return(t.values||[]).find(n=>Ut(n,e))!==void 0}function Xr(t,e){if(t===e)return 0;const n=ir(t),r=ir(e);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(t.booleanValue,e.booleanValue);case 2:return function(o,i){const s=ye(o.integerValue||o.doubleValue),a=ye(i.integerValue||i.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return np(t.timestampValue,e.timestampValue);case 4:return np(wi(t),wi(e));case 5:return Q(t.stringValue,e.stringValue);case 6:return function(o,i){const s=or(o),a=or(i);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const s=o.split("/"),a=i.split("/");for(let l=0;l<s.length&&l<a.length;l++){const u=Q(s[l],a[l]);if(u!==0)return u}return Q(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const s=Q(ye(o.latitude),ye(i.latitude));return s!==0?s:Q(ye(o.longitude),ye(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,i){const s=o.values||[],a=i.values||[];for(let l=0;l<s.length&&l<a.length;++l){const u=Xr(s[l],a[l]);if(u)return u}return Q(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,i){if(o===ps.mapValue&&i===ps.mapValue)return 0;if(o===ps.mapValue)return 1;if(i===ps.mapValue)return-1;const s=o.fields||{},a=Object.keys(s),l=i.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Q(a[c],u[c]);if(d!==0)return d;const h=Xr(s[a[c]],l[u[c]]);if(h!==0)return h}return Q(a.length,u.length)}(t.mapValue,e.mapValue);default:throw F()}}function np(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Q(t,e);const n=xn(t),r=xn(e),o=Q(n.seconds,r.seconds);return o!==0?o:Q(n.nanos,r.nanos)}function Jr(t){return pc(t)}function pc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const o=xn(r);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?or(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,M.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let o="[",i=!0;for(const s of r.values||[])i?i=!1:o+=",",o+=pc(s);return o+"]"}(t.arrayValue):"mapValue"in t?function(r){const o=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of o)s?s=!1:i+=",",i+=`${a}:${pc(r.fields[a])}`;return i+"}"}(t.mapValue):F();var e,n}function gc(t){return!!t&&"integerValue"in t}function qh(t){return!!t&&"arrayValue"in t}function rp(t){return!!t&&"nullValue"in t}function op(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xs(t){return!!t&&"mapValue"in t}function Bo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.value=e}static empty(){return new Je({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xs(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bo(n)}setAll(e){let n=Ve.emptyPath(),r={},o=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}s?r[a.lastSegment()]=Bo(s):o.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,o)}delete(e){const n=this.field(e.popLast());xs(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ut(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];xs(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){cr(n,(o,i)=>e[o]=i);for(const o of r)delete e[o]}clone(){return new Je(Bo(this.value))}}function cv(t){const e=[];return cr(t.fields,(n,r)=>{const o=new Ve([n]);if(xs(r)){const i=cv(r.mapValue).fields;if(i.length===0)e.push(o);else for(const s of i)e.push(o.child(s))}else e.push(o)}),new lt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n,r,o,i,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ue(e,0,V.min(),V.min(),V.min(),Je.empty(),0)}static newFoundDocument(e,n,r,o){return new Ue(e,1,n,V.min(),r,o,0)}static newNoDocument(e,n){return new Ue(e,2,n,V.min(),V.min(),Je.empty(),0)}static newUnknownDocument(e,n){return new Ue(e,3,n,V.min(),V.min(),Je.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Je.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Je.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.position=e,this.inclusive=n}}function ip(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const i=e[o],s=t.position[o];if(i.field.isKeyField()?r=M.comparator(M.fromName(s.referenceValue),n.key):r=Xr(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function sp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ut(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n="asc"){this.field=e,this.dir=n}}function KT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{}class Ee extends hv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WT(e,n,r):n==="array-contains"?new YT(e,r):n==="in"?new XT(e,r):n==="not-in"?new JT(e,r):n==="array-contains-any"?new ZT(e,r):new Ee(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qT(e,r):new QT(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xr(n,this.value)):n!==null&&ir(this.value)===ir(n)&&this.matchesComparison(Xr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vt extends hv{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Vt(e,n)}matches(e){return dv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function dv(t){return t.op==="and"}function fv(t){return GT(t)&&dv(t)}function GT(t){for(const e of t.filters)if(e instanceof Vt)return!1;return!0}function mc(t){if(t instanceof Ee)return t.field.canonicalString()+t.op.toString()+Jr(t.value);if(fv(t))return t.filters.map(e=>mc(e)).join(",");{const e=t.filters.map(n=>mc(n)).join(",");return`${t.op}(${e})`}}function pv(t,e){return t instanceof Ee?function(n,r){return r instanceof Ee&&n.op===r.op&&n.field.isEqual(r.field)&&Ut(n.value,r.value)}(t,e):t instanceof Vt?function(n,r){return r instanceof Vt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((o,i,s)=>o&&pv(i,r.filters[s]),!0):!1}(t,e):void F()}function gv(t){return t instanceof Ee?function(e){return`${e.field.canonicalString()} ${e.op} ${Jr(e.value)}`}(t):t instanceof Vt?function(e){return e.op.toString()+" {"+e.getFilters().map(gv).join(" ,")+"}"}(t):"Filter"}class WT extends Ee{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class qT extends Ee{constructor(e,n){super(e,"in",n),this.keys=mv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QT extends Ee{constructor(e,n){super(e,"not-in",n),this.keys=mv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class YT extends Ee{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qh(n)&&Si(n.arrayValue,this.value)}}class XT extends Ee{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Si(this.value.arrayValue,n)}}class JT extends Ee{constructor(e,n){super(e,"not-in",n)}matches(e){if(Si(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Si(this.value.arrayValue,n)}}class ZT extends Ee{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Si(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n=null,r=[],o=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function ap(t,e=null,n=[],r=[],o=null,i=null,s=null){return new eC(t,e,n,r,o,i,s)}function Qh(t){const e=B(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ya(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jr(r)).join(",")),e.dt=n}return e.dt}function Yh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KT(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sp(t.startAt,e.startAt)&&sp(t.endAt,e.endAt)}function yc(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n=null,r=[],o=[],i=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function tC(t,e,n,r,o,i,s,a){return new Xa(t,e,n,r,o,i,s,a)}function Xh(t){return new Xa(t)}function lp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function rC(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function oC(t){return t.collectionGroup!==null}function Ur(t){const e=B(t);if(e.wt===null){e.wt=[];const n=rC(e),r=nC(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new zo(n)),e.wt.push(new zo(Ve.keyField(),"asc"));else{let o=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(o=!0);if(!o){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new zo(Ve.keyField(),i))}}}return e.wt}function Zt(t){const e=B(t);if(!e._t)if(e.limitType==="F")e._t=ap(e.path,e.collectionGroup,Ur(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Ur(e)){const s=i.dir==="desc"?"asc":"desc";n.push(new zo(i.field,s))}const r=e.endAt?new fa(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new fa(e.startAt.position,e.startAt.inclusive):null;e._t=ap(e.path,e.collectionGroup,n,e.filters,e.limit,r,o)}return e._t}function vc(t,e,n){return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ja(t,e){return Yh(Zt(t),Zt(e))&&t.limitType===e.limitType}function yv(t){return`${Qh(Zt(t))}|lt:${t.limitType}`}function wc(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>gv(r)).join(", ")}]`),Ya(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jr(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jr(r)).join(",")),`Target(${n})`}(Zt(t))}; limitType=${t.limitType})`}function Za(t,e){return e.isFoundDocument()&&function(n,r){const o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):M.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,r){for(const o of Ur(n))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(o,i,s){const a=ip(o,i,s);return o.inclusive?a<=0:a<0}(n.startAt,Ur(n),r)||n.endAt&&!function(o,i,s){const a=ip(o,i,s);return o.inclusive?a>=0:a>0}(n.endAt,Ur(n),r))}(t,e)}function iC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vv(t){return(e,n)=>{let r=!1;for(const o of Ur(t)){const i=sC(o,e,n);if(i!==0)return i;r=r||o.field.isKeyField()}return 0}}function sC(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(o,i,s){const a=i.data.field(o),l=s.data.field(o);return a!==null&&l!==null?Xr(a,l):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,i]of r)if(this.equalsFn(o,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cr(this.inner,(n,r)=>{for(const[o,i]of r)e(o,i)})}isEmpty(){return lv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new he(M.comparator);function en(){return aC}const wv=new he(M.comparator);function xo(...t){let e=wv;for(const n of t)e=e.insert(n.key,n);return e}function Ev(t){let e=wv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wn(){return jo()}function Sv(){return jo()}function jo(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const lC=new he(M.comparator),uC=new je(M.comparator);function K(...t){let e=uC;for(const n of t)e=e.add(n);return e}const cC=new je(Q);function hC(){return cC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:da(e)?"-0":e}}function Cv(t){return{integerValue:""+t}}function dC(t,e){return BT(e)?Cv(e):Tv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this._=void 0}}function fC(t,e,n){return t instanceof pa?function(r,o){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Gh(o)&&(o=Wh(o)),o&&(i.fields.__previous_value__=o),{mapValue:i}}(n,e):t instanceof Ti?Iv(t,e):t instanceof Ci?Dv(t,e):function(r,o){const i=kv(r,o),s=up(i)+up(r.gt);return gc(i)&&gc(r.gt)?Cv(s):Tv(r.serializer,s)}(t,e)}function pC(t,e,n){return t instanceof Ti?Iv(t,e):t instanceof Ci?Dv(t,e):n}function kv(t,e){return t instanceof ga?gc(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class pa extends el{}class Ti extends el{constructor(e){super(),this.elements=e}}function Iv(t,e){const n=Nv(e);for(const r of t.elements)n.some(o=>Ut(o,r))||n.push(r);return{arrayValue:{values:n}}}class Ci extends el{constructor(e){super(),this.elements=e}}function Dv(t,e){let n=Nv(e);for(const r of t.elements)n=n.filter(o=>!Ut(o,r));return{arrayValue:{values:n}}}class ga extends el{constructor(e,n){super(),this.serializer=e,this.gt=n}}function up(t){return ye(t.integerValue||t.doubleValue)}function Nv(t){return qh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gC(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ti&&r instanceof Ti||n instanceof Ci&&r instanceof Ci?Yr(n.elements,r.elements,Ut):n instanceof ga&&r instanceof ga?Ut(n.gt,r.gt):n instanceof pa&&r instanceof pa}(t.transform,e.transform)}class mC{constructor(e,n){this.version=e,this.transformResults=n}}class bt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bt}static exists(e){return new bt(void 0,e)}static updateTime(e){return new bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rs(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tl{}function Av(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rv(t.key,bt.none()):new Vi(t.key,t.data,bt.none());{const n=t.data,r=Je.empty();let o=new je(Ve.comparator);for(let i of e.fields)if(!o.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),o=o.add(i)}return new $n(t.key,r,new lt(o.toArray()),bt.none())}}function yC(t,e,n){t instanceof Vi?function(r,o,i){const s=r.value.clone(),a=hp(r.fieldTransforms,o,i.transformResults);s.setAll(a),o.convertToFoundDocument(i.version,s).setHasCommittedMutations()}(t,e,n):t instanceof $n?function(r,o,i){if(!Rs(r.precondition,o))return void o.convertToUnknownDocument(i.version);const s=hp(r.fieldTransforms,o,i.transformResults),a=o.data;a.setAll(xv(r)),a.setAll(s),o.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ho(t,e,n,r){return t instanceof Vi?function(o,i,s,a){if(!Rs(o.precondition,i))return s;const l=o.value.clone(),u=dp(o.fieldTransforms,a,i);return l.setAll(u),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof $n?function(o,i,s,a){if(!Rs(o.precondition,i))return s;const l=dp(o.fieldTransforms,a,i),u=i.data;return u.setAll(xv(o)),u.setAll(l),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(o,i,s){return Rs(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s}(t,e,n)}function vC(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),i=kv(r.transform,o||null);i!=null&&(n===null&&(n=Je.empty()),n.set(r.field,i))}return n||null}function cp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Yr(n,r,(o,i)=>gC(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vi extends tl{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $n extends tl{constructor(e,n,r,o,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hp(t,e,n){const r=new Map;oe(t.length===n.length);for(let o=0;o<n.length;o++){const i=t[o],s=i.transform,a=e.data.field(i.field);r.set(i.field,pC(s,a,n[o]))}return r}function dp(t,e,n){const r=new Map;for(const o of t){const i=o.transform,s=n.data.field(o.field);r.set(o.field,fC(i,s,e))}return r}class Rv extends tl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wC extends tl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const i=this.mutations[o];i.key.isEqual(e.key)&&yC(i,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ho(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ho(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Sv();return this.mutations.forEach(o=>{const i=e.get(o.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=n.has(o.key)?null:a;const l=Av(s,a);l!==null&&r.set(o.key,l),s.isValidDocument()||s.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),K())}isEqual(e){return this.batchId===e.batchId&&Yr(this.mutations,e.mutations,(n,r)=>cp(n,r))&&Yr(this.baseMutations,e.baseMutations,(n,r)=>cp(n,r))}}class Jh{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){oe(e.mutations.length===r.length);let o=lC;const i=e.mutations;for(let s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new Jh(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,G;function CC(t){switch(t){default:return F();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function _v(t){if(t===void 0)return Jt("GRPC error has no .code"),E.UNKNOWN;switch(t){case me.OK:return E.OK;case me.CANCELLED:return E.CANCELLED;case me.UNKNOWN:return E.UNKNOWN;case me.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case me.INTERNAL:return E.INTERNAL;case me.UNAVAILABLE:return E.UNAVAILABLE;case me.UNAUTHENTICATED:return E.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case me.NOT_FOUND:return E.NOT_FOUND;case me.ALREADY_EXISTS:return E.ALREADY_EXISTS;case me.PERMISSION_DENIED:return E.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case me.ABORTED:return E.ABORTED;case me.OUT_OF_RANGE:return E.OUT_OF_RANGE;case me.UNIMPLEMENTED:return E.UNIMPLEMENTED;case me.DATA_LOSS:return E.DATA_LOSS;default:return F()}}(G=me||(me={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return gs}static getOrCreateInstance(){return gs===null&&(gs=new Zh),gs}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let gs=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new Fr([4294967295,4294967295],0);function fp(t){const e=kC().encode(t),n=new DT;return n.update(e),new Uint8Array(n.digest())}function pp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Fr([n,r],0),new Fr([o,i],0)]}class ed{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ro(`Invalid padding: ${n}`);if(r<0)throw new Ro(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Fr.fromNumber(this.It)}Et(e,n,r){let o=e.add(n.multiply(Fr.fromNumber(r)));return o.compare(IC)===1&&(o=new Fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=fp(e),[r,o]=pp(n);for(let i=0;i<this.hashCount;i++){const s=this.Et(r,o,i);if(!this.At(s))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ed(i,o,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.It===0)return;const n=fp(e),[r,o]=pp(n);for(let i=0;i<this.hashCount;i++){const s=this.Et(r,o,i);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,r,o,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Bi.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nl(V.min(),o,new he(Q),en(),K())}}class Bi{constructor(e,n,r,o,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bi(r,n,K(),K(),K())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,o){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=o}}class Ov{constructor(e,n){this.targetId=e,this.Vt=n}}class Lv{constructor(e,n,r=Ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class gp{constructor(){this.St=0,this.Dt=yp(),this.Ct=Ke.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=K(),n=K(),r=K();return this.Dt.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:F()}}),new Bi(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=yp()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class DC{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=en(),this.zt=mp(),this.Wt=new he(Q)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,o)=>{this.te(o)&&n(o)})}ne(e){var n;const r=e.targetId,o=e.Vt.count,i=this.se(r);if(i){const s=i.target;if(yc(s))if(o===0){const a=new M(s.path);this.Yt(r,a,Ue.newNoDocument(a,V.min()))}else oe(o===1);else{const a=this.ie(r);if(a!==o){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Zh.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,m,y,v,N,p;const f={localCacheCount:c,existenceFilterCount:d.count},g=d.unchangedNames;return g&&(f.bloomFilter={applied:u===0,hashCount:(h=g==null?void 0:g.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(v=(y=(m=g==null?void 0:g.bits)===null||m===void 0?void 0:m.bitmap)===null||y===void 0?void 0:y.length)!==null&&v!==void 0?v:0,padding:(p=(N=g==null?void 0:g.bits)===null||N===void 0?void 0:N.padding)!==null&&p!==void 0?p:0}),f}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=or(i).toUint8Array()}catch(c){if(c instanceof uv)return Qr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new ed(l,s,a)}catch(c){return Qr(c instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:o!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(i=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),o++)}),o}ce(e){const n=new Map;this.Qt.forEach((i,s)=>{const a=this.se(s);if(a){if(i.current&&yc(a.target)){const l=new M(a.target.path);this.jt.get(l)!==null||this.ae(s,l)||this.Yt(s,l,Ue.newNoDocument(l,e))}i.Mt&&(n.set(s,i.Ot()),i.Ft())}});let r=K();this.zt.forEach((i,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,s)=>s.setReadTime(e));const o=new nl(e,n,this.Wt,this.jt,r);return this.jt=en(),this.zt=mp(),this.Wt=new he(Q),o}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,n)?o.Bt(n,1):o.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new gp,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new je(Q),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new gp),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function mp(){return new he(M.comparator)}function yp(){return new he(M.comparator)}const NC=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),AC=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),xC=(()=>({and:"AND",or:"OR"}))();class RC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ec(t,e){return t.useProto3Json||Ya(e)?e:{value:e}}function ma(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _C(t,e){return ma(t,e.toTimestamp())}function Ft(t){return oe(!!t),V.fromTimestamp(function(e){const n=xn(e);return new Te(n.seconds,n.nanos)}(t))}function td(t,e){return function(n){return new se(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Mv(t){const e=se.fromString(t);return oe(Uv(e)),e}function Sc(t,e){return td(t.databaseId,e.path)}function Xl(t,e){const n=Mv(e);if(n.get(1)!==t.databaseId.projectId)throw new P(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new P(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M($v(n))}function Tc(t,e){return td(t.databaseId,e)}function OC(t){const e=Mv(t);return e.length===4?se.emptyPath():$v(e)}function Cc(t){return new se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $v(t){return oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vp(t,e,n){return{name:Sc(t,e),fields:n.value.mapValue.fields}}function LC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:F()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(oe(u===void 0||typeof u=="string"),Ke.fromBase64String(u||"")):(oe(u===void 0||u instanceof Uint8Array),Ke.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=l.code===void 0?E.UNKNOWN:_v(l.code);return new P(u,l.message||"")}(s);n=new Lv(r,o,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xl(t,r.document.name),i=Ft(r.document.updateTime),s=r.document.createTime?Ft(r.document.createTime):V.min(),a=new Je({mapValue:{fields:r.document.fields}}),l=Ue.newFoundDocument(o,i,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new _s(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Xl(t,r.document),i=r.readTime?Ft(r.readTime):V.min(),s=Ue.newNoDocument(o,i),a=r.removedTargetIds||[];n=new _s([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Xl(t,r.document),i=r.removedTargetIds||[];n=new _s([],i,o,null)}else{if(!("filter"in e))return F();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:i}=r,s=new TC(o,i),a=r.targetId;n=new Ov(a,s)}}return n}function PC(t,e){let n;if(e instanceof Vi)n={update:vp(t,e.key,e.value)};else if(e instanceof Rv)n={delete:Sc(t,e.key)};else if(e instanceof $n)n={update:vp(t,e.key,e.data),updateMask:jC(e.fieldMask)};else{if(!(e instanceof wC))return F();n={verify:Sc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const s=i.transform;if(s instanceof pa)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ti)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ci)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ga)return{fieldPath:i.field.canonicalString(),increment:s.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:_C(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:F()}(t,e.precondition)),n}function MC(t,e){return t&&t.length>0?(oe(e!==void 0),t.map(n=>function(r,o){let i=r.updateTime?Ft(r.updateTime):Ft(o);return i.isEqual(V.min())&&(i=Ft(o)),new mC(i,r.transformResults||[])}(n,e))):[]}function $C(t,e){return{documents:[Tc(t,e.path)]}}function bC(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Tc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Tc(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(l){if(l.length!==0)return Fv(Vt.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:gr(c.field),direction:VC(c.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const s=Ec(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function FC(t){let e=OC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){oe(r===1);const c=n.from[0];c.allDescendants?o=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(c){const d=bv(c);return d instanceof Vt&&fv(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(d){return new zo(mr(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Ya(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new fa(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new fa(h,d)}(n.endAt)),tC(e,o,s,i,a,"F",l,u)}function UC(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bv(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=mr(e.unaryFilter.field);return Ee.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=mr(e.unaryFilter.field);return Ee.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mr(e.unaryFilter.field);return Ee.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=mr(e.unaryFilter.field);return Ee.create(i,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):t.fieldFilter!==void 0?function(e){return Ee.create(mr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Vt.create(e.compositeFilter.filters.map(n=>bv(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F()}function VC(t){return NC[t]}function BC(t){return AC[t]}function zC(t){return xC[t]}function gr(t){return{fieldPath:t.canonicalString()}}function mr(t){return Ve.fromServerFormat(t.fieldPath)}function Fv(t){return t instanceof Ee?function(e){if(e.op==="=="){if(op(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NAN"}};if(rp(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(op(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NOT_NAN"}};if(rp(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(e.field),op:BC(e.op),value:e.value}}}(t):t instanceof Vt?function(e){const n=e.getFilters().map(r=>Fv(r));return n.length===1?n[0]:{compositeFilter:{op:zC(e.op),filters:n}}}(t):F()}function jC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Uv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,o,i=V.min(),s=V.min(),a=Ke.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new dn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.fe=e}}function KC(t){const e=FC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.rn=new WC}addToCollectionParentIndex(e,n){return this.rn.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(An.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(An.min())}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class WC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new je(se.comparator),i=!o.has(r);return this.index[n]=o.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new je(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Zr(0)}static Mn(){return new Zr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ue.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&Ho(r.mutation,o,lt.empty(),Te.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,K()).next(()=>r))}getLocalViewOfDocuments(e,n,r=K()){const o=Wn();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(i=>{let s=xo();return i.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Wn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,K()))}populateOverlays(e,n,r){const o=[];return r.forEach(i=>{n.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,o){let i=en();const s=jo(),a=jo();return n.forEach((l,u)=>{const c=r.get(u.key);o.has(u.key)&&(c===void 0||c.mutation instanceof $n)?i=i.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Ho(c.mutation,u,c.mutation.getFieldMask(),Te.now())):s.set(u.key,lt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new QC(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=jo();let o=new he((s,a)=>s-a),i=K();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||lt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(o.get(a.batchId)||K()).add(l);o=o.insert(a.batchId,d)})}).next(()=>{const s=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Sv();c.forEach(h=>{if(!i.has(h)){const m=Av(n.get(h),r.get(h));m!==null&&d.set(h,m),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return T.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(o){return M.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(i=>{const s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-i.size):T.resolve(Wn());let a=-1,l=i;return s.next(u=>T.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(c)?T.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,K())).next(c=>({batchId:a,changes:Ev(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let o=xo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const o=n.collectionGroup;let i=xo();return this.indexManager.getCollectionParents(e,o).next(s=>T.forEach(s,a=>{const l=function(u,c){return new Xa(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{i=i.insert(c,d)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o))).next(i=>{o.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Ue.newInvalidDocument(u)))});let s=xo();return i.forEach((a,l)=>{const u=o.get(a);u!==void 0&&Ho(u.mutation,l,lt.empty(),Te.now()),Za(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return T.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ft(r.createTime)}),T.resolve()}getNamedQuery(e,n){return T.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:KC(r.bundledQuery),readTime:Ft(r.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.overlays=new he(M.comparator),this.ls=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wn();return T.forEach(n,o=>this.getOverlay(e,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,i)=>{this.we(e,n,i)}),T.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.ls.get(r);return o!==void 0&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){const o=Wn(),i=n.length+1,s=new M(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&o.set(l.getKey(),l)}return T.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let i=new he((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=Wn(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=o)););return T.resolve(a)}we(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const s=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new SC(n,r));let i=this.ls.get(n);i===void 0&&(i=K(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this.fs=new je(Ce.ds),this.ws=new je(Ce._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ce(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ce(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new se([])),r=new Ce(n,e),o=new Ce(n,e+1),i=[];return this.ws.forEachInRange([r,o],s=>{this.ys(s),i.push(s.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new se([])),r=new Ce(n,e),o=new Ce(n,e+1);let i=K();return this.ws.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new Ce(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ce{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||Q(e.As,n.As)}static _s(e,n){return Q(e.As,n.As)||M.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new je(Ce.ds)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new EC(i,n,r,o);this.mutationQueue.push(s);for(const a of o)this.Rs=this.Rs.add(new Ce(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(s)}lookupMutationBatch(e,n){return T.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.bs(r),i=o<0?0:o;return T.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ce(n,0),o=new Ce(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,o],s=>{const a=this.Ps(s.As);i.push(a)}),T.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(Q);return n.forEach(o=>{const i=new Ce(o,0),s=new Ce(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,s],a=>{r=r.add(a.As)})}),T.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let i=r;M.isDocumentKey(i)||(i=i.child(""));const s=new Ce(new M(i),0);let a=new je(Q);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===o&&(a=a.add(l.As)),!0)},s),T.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const o=this.Ps(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){oe(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return T.forEach(n.mutations,o=>{const i=new Ce(o.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ce(n,0),o=this.Rs.firstAfterOrEqual(r);return T.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.Ds=e,this.docs=new he(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),i=o?o.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():Ue.newInvalidDocument(n))}getEntries(e,n){let r=en();return n.forEach(o=>{const i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():Ue.newInvalidDocument(o))}),T.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let i=en();const s=n.path,a=new M(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||FT(bT(c),r)<=0||(o.has(c.key)||Za(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return T.resolve(i)}getAllFromCollectionGroup(e,n,r,o){F()}Cs(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tk(this)}getSize(e){return T.resolve(this.size)}}class tk extends qC{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.persistence=e,this.xs=new uo(n=>Qh(n),Yh),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ns=0,this.ks=new nd,this.targetCount=0,this.Ms=Zr.kn()}forEachTarget(e,n){return this.xs.forEach((r,o)=>n(o)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),T.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Zr(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.Fn(n),T.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let o=0;const i=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),T.waitFor(i).next(()=>o)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const o=this.persistence.referenceDelegate,i=[];return o&&n.forEach(s=>{i.push(o.markPotentiallyOrphaned(e,s))}),T.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),T.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.$s={},this.overlays={},this.Os=new Kh(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new nk(this),this.indexManager=new GC,this.remoteDocumentCache=function(r){return new ek(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new HC(n),this.qs=new XC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new ZC(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);const o=new ok(this.Os.next());return this.referenceDelegate.Us(),r(o).next(i=>this.referenceDelegate.Ks(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Gs(e,n){return T.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class ok extends VT{constructor(e){super(),this.currentSequenceNumber=e}}class rd{constructor(e){this.persistence=e,this.Qs=new nd,this.js=null}static zs(e){return new rd(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),T.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Ws,r=>{const o=M.fromPath(r);return this.Hs(e,o).next(i=>{i||n.removeEntry(o,V.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return T.or([()=>T.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=o}static Li(e,n){let r=K(),o=K();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new od(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,o){return this.Ki(e,n).next(i=>i||this.Gi(e,n,o,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(lp(n))return T.resolve(null);let r=Zt(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=vc(n,null,"F"),r=Zt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=K(...i);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,s,l.readTime)?this.Ki(e,vc(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,o){return lp(n)||o.isEqual(V.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const s=this.ji(n,i);return this.zi(n,s,r,o)?this.Qi(e,n):(Zf()<=Y.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wc(n)),this.Wi(e,s,n,$T(o,-1)))})}ji(e,n){let r=new je(vv(e));return n.forEach((o,i)=>{Za(e,i)&&(r=r.add(i))}),r}zi(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Qi(e,n){return Zf()<=Y.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",wc(n)),this.Ui.getDocumentsMatchingQuery(e,n,An.min())}Wi(e,n,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,o){this.persistence=e,this.Hi=n,this.serializer=o,this.Ji=new he(Q),this.Yi=new uo(i=>Qh(i),Yh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function ak(t,e,n,r){return new sk(t,e,n,r)}async function Vv(t,e){const n=B(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],a=[];let l=K();for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:s,addedBatchIds:a}))})})}function lk(t,e){const n=B(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,u){const c=l.batch,d=c.keys();let h=T.resolve();return d.forEach(m=>{h=h.next(()=>u.getEntry(a,m)).next(y=>{const v=l.docVersions.get(m);oe(v!==null),y.version.compareTo(v)<0&&(c.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,c))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=K();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function Bv(t){const e=B(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function uk(t,e){const n=B(t),r=e.snapshotVersion;let o=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});o=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=o.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(i,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(i,c.addedDocuments,d)));let m=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Ke.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),o=o.insert(d,m),function(y,v,N){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(h,m,c)&&a.push(n.Bs.updateTargetData(i,m))});let l=en(),u=K();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(ck(i,s,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(V.min())){const c=n.Bs.getLastRemoteSnapshotVersion(i).next(d=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ji=o,i))}function ck(t,e,n){let r=K(),o=K();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=en();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(V.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):O("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:s,sr:o}})}function hk(t,e){const n=B(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dk(t,e){const n=B(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Bs.getTargetData(r,e).next(i=>i?(o=i,T.resolve(o)):n.Bs.allocateTargetId(r).next(s=>(o=new dn(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ji.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function kc(t,e,n){const r=B(t),o=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,o))}catch(s){if(!Ui(s))throw s;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}function wp(t,e,n){const r=B(t);let o=V.min(),i=K();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,u){const c=B(a),d=c.Yi.get(u);return d!==void 0?T.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,s,Zt(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{i=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?o:V.min(),n?i:K())).next(a=>(fk(r,iC(e),a),{documents:a,ir:i})))}function fk(t,e,n){let r=t.Xi.get(e)||V.min();n.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class Ep{constructor(){this.activeTargetIds=hC()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pk{constructor(){this.Hr=new Ep,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ep,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ms=null;function Jl(){return ms===null?ms=268435456+Math.round(2147483648*Math.random()):ms++,"0x"+ms.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class vk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,o,i){const s=Jl(),a=this.To(e,n);O("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.Eo(l,o,i),this.Ao(e,a,l,r).then(u=>(O("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Qr("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,o,i,s){return this.Io(e,n,r,o,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+lo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,i)=>e[i]=o),r&&r.headers.forEach((o,i)=>e[i]=o)}To(e,n){const r=mk[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,o){const i=Jl();return new Promise((s,a)=>{const l=new IT;l.setWithCredentials(!0),l.listenOnce(TT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yl.NO_ERROR:const c=l.getResponseJson();O($e,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),s(c);break;case Yl.TIMEOUT:O($e,`RPC '${e}' ${i} timed out`),a(new P(E.DEADLINE_EXCEEDED,"Request time out"));break;case Yl.HTTP_ERROR:const d=l.getStatus();if(O($e,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const y=function(v){const N=v.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(N)>=0?N:E.UNKNOWN}(m.status);a(new P(y,m.message))}else a(new P(E.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new P(E.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{O($e,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(o);O($e,`RPC '${e}' ${i} sending request:`,o),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const o=Jl(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ET(),a=ST(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new kT({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");O($e,`Creating RPC '${e}' stream ${o}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,m=!1;const y=new yk({ro:N=>{m?O($e,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(h||(O($e,`Opening RPC '${e}' stream ${o} transport.`),d.open(),h=!0),O($e,`RPC '${e}' stream ${o} sending:`,N),d.send(N))},oo:()=>d.close()}),v=(N,p,f)=>{N.listen(p,g=>{try{f(g)}catch(w){setTimeout(()=>{throw w},0)}})};return v(d,ds.EventType.OPEN,()=>{m||O($e,`RPC '${e}' stream ${o} transport opened.`)}),v(d,ds.EventType.CLOSE,()=>{m||(m=!0,O($e,`RPC '${e}' stream ${o} transport closed`),y.wo())}),v(d,ds.EventType.ERROR,N=>{m||(m=!0,Qr($e,`RPC '${e}' stream ${o} transport errored:`,N),y.wo(new P(E.UNAVAILABLE,"The operation could not be completed")))}),v(d,ds.EventType.MESSAGE,N=>{var p;if(!m){const f=N.data[0];oe(!!f);const g=f,w=g.error||((p=g[0])===null||p===void 0?void 0:p.error);if(w){O($e,`RPC '${e}' stream ${o} received error:`,w);const D=w.status;let x=function(_){const Z=me[_];if(Z!==void 0)return _v(Z)}(D),R=w.message;x===void 0&&(x=E.INTERNAL,R="Unknown error status: "+D+" with message "+w.message),m=!0,y.wo(new P(x,R)),d.close()}else O($e,`RPC '${e}' stream ${o} received:`,f),y._o(f)}}),v(a,CT.STAT_EVENT,N=>{N.stat===Xf.PROXY?O($e,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===Xf.NOPROXY&&O($e,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function Zl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){return new RC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r=1e3,o=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=o,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,n-r);o>0&&O("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r,o,i,s,a,l){this.ii=e,this.$o=r,this.Oo=o,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new zv(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(Jt(n.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===E.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===n&&this.Zo(r,o)},r=>{e(()=>{const o=new P(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wk extends jv{constructor(e,n,r,o,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=LC(this.serializer,e),r=function(o){if(!("targetChange"in o))return V.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?V.min():i.readTime?Ft(i.readTime):V.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Cc(this.serializer),n.addTarget=function(o,i){let s;const a=i.target;if(s=yc(a)?{documents:$C(o,a)}:{query:bC(o,a)},s.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){s.resumeToken=Pv(o,i.resumeToken);const l=Ec(o,i.expectedCount);l!==null&&(s.expectedCount=l)}else if(i.snapshotVersion.compareTo(V.min())>0){s.readTime=ma(o,i.snapshotVersion.toTimestamp());const l=Ec(o,i.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=UC(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Cc(this.serializer),n.removeTarget=e,this.Wo(n)}}class Ek extends jv{constructor(e,n,r,o,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=MC(e.writeResults,e.commitTime),r=Ft(e.commitTime);return this.listener.cu(r,n)}return oe(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PC(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new P(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Io(e,n,r,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new P(E.UNKNOWN,o.toString())})}vo(e,n,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.vo(e,n,r,i,s,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new P(E.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class Tk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Jt(n),this.mu=!1):O("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,r,o,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(s=>{r.enqueueAndForget(async()=>{hr(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=B(a);l.vu.add(4),await zi(l),l.bu.set("Unknown"),l.vu.delete(4),await ol(l)}(this))})}),this.bu=new Tk(r,o)}}async function ol(t){if(hr(t))for(const e of t.Ru)await e(!0)}async function zi(t){for(const e of t.Ru)await e(!1)}function Hv(t,e){const n=B(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ad(n)?sd(n):co(n).Ko()&&id(n,e))}function Kv(t,e){const n=B(t),r=co(n);n.Au.delete(e),r.Ko()&&Gv(n,e),n.Au.size===0&&(r.Ko()?r.jo():hr(n)&&n.bu.set("Unknown"))}function id(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(t).su(e)}function Gv(t,e){t.Vu.qt(e),co(t).iu(e)}function sd(t){t.Vu=new DC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),co(t).start(),t.bu.gu()}function ad(t){return hr(t)&&!co(t).Uo()&&t.Au.size>0}function hr(t){return B(t).vu.size===0}function Wv(t){t.Vu=void 0}async function kk(t){t.Au.forEach((e,n)=>{id(t,e)})}async function Ik(t,e){Wv(t),ad(t)?(t.bu.Iu(e),sd(t)):t.bu.set("Unknown")}async function Dk(t,e,n){if(t.bu.set("Online"),e instanceof Lv&&e.state===2&&e.cause)try{await async function(r,o){const i=o.cause;for(const s of o.targetIds)r.Au.has(s)&&(await r.remoteSyncer.rejectListen(s,i),r.Au.delete(s),r.Vu.removeTarget(s))}(t,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ya(t,r)}else if(e instanceof _s?t.Vu.Ht(e):e instanceof Ov?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(V.min()))try{const r=await Bv(t.localStore);n.compareTo(r)>=0&&await function(o,i){const s=o.Vu.ce(i);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=o.Au.get(l);u&&o.Au.set(l,u.withResumeToken(a.resumeToken,i))}}),s.targetMismatches.forEach((a,l)=>{const u=o.Au.get(a);if(!u)return;o.Au.set(a,u.withResumeToken(Ke.EMPTY_BYTE_STRING,u.snapshotVersion)),Gv(o,a);const c=new dn(u.target,a,l,u.sequenceNumber);id(o,c)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){O("RemoteStore","Failed to raise snapshot:",r),await ya(t,r)}}async function ya(t,e,n){if(!Ui(e))throw e;t.vu.add(1),await zi(t),t.bu.set("Offline"),n||(n=()=>Bv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{O("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await ol(t)})}function qv(t,e){return e().catch(n=>ya(t,n,e))}async function il(t){const e=B(t),n=Rn(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Nk(e);)try{const o=await hk(e.localStore,r);if(o===null){e.Eu.length===0&&n.jo();break}r=o.batchId,Ak(e,o)}catch(o){await ya(e,o)}Qv(e)&&Yv(e)}function Nk(t){return hr(t)&&t.Eu.length<10}function Ak(t,e){t.Eu.push(e);const n=Rn(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Qv(t){return hr(t)&&!Rn(t).Uo()&&t.Eu.length>0}function Yv(t){Rn(t).start()}async function xk(t){Rn(t).hu()}async function Rk(t){const e=Rn(t);for(const n of t.Eu)e.uu(n.mutations)}async function _k(t,e,n){const r=t.Eu.shift(),o=Jh.from(r,e,n);await qv(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await il(t)}async function Ok(t,e){e&&Rn(t).ou&&await async function(n,r){if(o=r.code,CC(o)&&o!==E.ABORTED){const i=n.Eu.shift();Rn(n).Qo(),await qv(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await il(n)}var o}(t,e),Qv(t)&&Yv(t)}async function Tp(t,e){const n=B(t);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=hr(n);n.vu.add(3),await zi(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await ol(n)}async function Lk(t,e){const n=B(t);e?(n.vu.delete(2),await ol(n)):e||(n.vu.add(2),await zi(n),n.bu.set("Unknown"))}function co(t){return t.Su||(t.Su=function(e,n,r){const o=B(e);return o.fu(),new wk(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{uo:kk.bind(null,t),ao:Ik.bind(null,t),nu:Dk.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),ad(t)?sd(t):t.bu.set("Unknown")):(await t.Su.stop(),Wv(t))})),t.Su}function Rn(t){return t.Du||(t.Du=function(e,n,r){const o=B(e);return o.fu(),new Ek(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{uo:xk.bind(null,t),ao:Ok.bind(null,t),au:Rk.bind(null,t),cu:_k.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await il(t)):(await t.Du.stop(),t.Eu.length>0&&(O("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r,o,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,o,i){const s=Date.now()+r,a=new ld(e,n,s,o,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new P(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ud(t,e){if(Jt("AsyncQueue",`${e}: ${t}`),Ui(t))return new P(E.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=xo(),this.sortedSet=new he(this.comparator)}static emptySet(e){return new Vr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.Cu=new he(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class eo{constructor(e,n,r,o,i,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,o,i){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new eo(e,n,Vr.emptySet(n),s,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ja(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.Nu=void 0,this.listeners=[]}}class Mk{constructor(){this.queries=new uo(e=>yv(e),Ja),this.onlineState="Unknown",this.ku=new Set}}async function $k(t,e){const n=B(t),r=e.query;let o=!1,i=n.queries.get(r);if(i||(o=!0,i=new Pk),o)try{i.Nu=await n.onListen(r)}catch(s){const a=ud(s,`Initialization of query '${wc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&cd(n)}async function bk(t,e){const n=B(t),r=e.query;let o=!1;const i=n.queries.get(r);if(i){const s=i.listeners.indexOf(e);s>=0&&(i.listeners.splice(s,1),o=i.listeners.length===0)}if(o)return n.queries.delete(r),n.onUnlisten(r)}function Fk(t,e){const n=B(t);let r=!1;for(const o of e){const i=o.query,s=n.queries.get(i);if(s){for(const a of s.listeners)a.$u(o)&&(r=!0);s.Nu=o}}r&&cd(n)}function Uk(t,e,n){const r=B(t),o=r.queries.get(e);if(o)for(const i of o.listeners)i.onError(n);r.queries.delete(e)}function cd(t){t.ku.forEach(e=>{e.next()})}class Vk{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.key=e}}class Jv{constructor(e){this.key=e}}class Bk{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=K(),this.mutatedKeys=K(),this.tc=vv(e),this.ec=new Vr(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Cp,o=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,s=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,u=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((c,d)=>{const h=o.get(c),m=Za(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let N=!1;h&&m?h.data.isEqual(m.data)?y!==v&&(r.track({type:3,doc:m}),N=!0):this.rc(h,m)||(r.track({type:2,doc:m}),N=!0,(l&&this.tc(m,l)>0||u&&this.tc(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),N=!0):h&&!m&&(r.track({type:1,doc:h}),N=!0,(l||u)&&(a=!0)),N&&(m?(s=s.add(m),i=v?i.add(c):i.delete(c)):(s=s.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{ec:s,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((u,c)=>function(d,h){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return m(d)-m(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const s=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new eo(this.query,e.ec,o,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Cp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=K(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Jv(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Xv(r))}),n}hc(e){this.Yu=e.ir,this.Zu=K();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return eo.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class zk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jk{constructor(e){this.key=e,this.fc=!1}}class Hk{constructor(e,n,r,o,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new uo(a=>yv(a),Ja),this._c=new Map,this.mc=new Set,this.gc=new he(M.comparator),this.yc=new Map,this.Ic=new nd,this.Tc={},this.Ec=new Map,this.Ac=Zr.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function Kk(t,e){const n=tI(t);let r,o;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),o=i.view.lc();else{const s=await dk(n.localStore,Zt(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,o=await Gk(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&Hv(n.remoteStore,s)}return o}async function Gk(t,e,n,r,o){t.Rc=(d,h,m)=>async function(y,v,N,p){let f=v.view.sc(N);f.zi&&(f=await wp(y.localStore,v.query,!1).then(({documents:D})=>v.view.sc(D,f)));const g=p&&p.targetChanges.get(v.targetId),w=v.view.applyChanges(f,y.isPrimaryClient,g);return Ip(y,v.targetId,w.cc),w.snapshot}(t,d,h,m);const i=await wp(t.localStore,e,!0),s=new Bk(e,i.ir),a=s.sc(i.documents),l=Bi.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),u=s.applyChanges(a,t.isPrimaryClient,l);Ip(t,n,u.cc);const c=new zk(e,n,s);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function Wk(t,e){const n=B(t),r=n.wc.get(e),o=n._c.get(r.targetId);if(o.length>1)return n._c.set(r.targetId,o.filter(i=>!Ja(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await kc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Kv(n.remoteStore,r.targetId),Ic(n,r.targetId)}).catch(Fi)):(Ic(n,r.targetId),await kc(n.localStore,r.targetId,!0))}async function qk(t,e,n){const r=nI(t);try{const o=await function(i,s){const a=B(i),l=Te.now(),u=s.reduce((h,m)=>h.add(m.key),K());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=en(),y=K();return a.Zi.getEntries(h,u).next(v=>{m=v,m.forEach((N,p)=>{p.isValidDocument()||(y=y.add(N))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,m)).next(v=>{c=v;const N=[];for(const p of s){const f=vC(p,c.get(p.key).overlayedDocument);f!=null&&N.push(new $n(p.key,f,cv(f.value.mapValue),bt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,N,s)}).next(v=>{d=v;const N=v.applyToLocalDocumentSet(c,y);return a.documentOverlayCache.saveOverlays(h,v.batchId,N)})}).then(()=>({batchId:d.batchId,changes:Ev(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(i,s,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new he(Q)),l=l.insert(s,a),i.Tc[i.currentUser.toKey()]=l}(r,o.batchId,n),await ji(r,o.changes),await il(r.remoteStore)}catch(o){const i=ud(o,"Failed to persist write");n.reject(i)}}async function Zv(t,e){const n=B(t);try{const r=await uk(n.localStore,e);e.targetChanges.forEach((o,i)=>{const s=n.yc.get(i);s&&(oe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.fc=!0:o.modifiedDocuments.size>0?oe(s.fc):o.removedDocuments.size>0&&(oe(s.fc),s.fc=!1))}),await ji(n,r,e)}catch(r){await Fi(r)}}function kp(t,e,n){const r=B(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.wc.forEach((i,s)=>{const a=s.view.Mu(e);a.snapshot&&o.push(a.snapshot)}),function(i,s){const a=B(i);a.onlineState=s;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(s)&&(l=!0)}),l&&cd(a)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Qk(t,e,n){const r=B(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.yc.get(e),i=o&&o.key;if(i){let s=new he(M.comparator);s=s.insert(i,Ue.newNoDocument(i,V.min()));const a=K().add(i),l=new nl(V.min(),new Map,new he(Q),s,a);await Zv(r,l),r.gc=r.gc.remove(i),r.yc.delete(e),hd(r)}else await kc(r.localStore,e,!1).then(()=>Ic(r,e,n)).catch(Fi)}async function Yk(t,e){const n=B(t),r=e.batch.batchId;try{const o=await lk(n.localStore,e);t0(n,r,null),e0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ji(n,o)}catch(o){await Fi(o)}}async function Xk(t,e,n){const r=B(t);try{const o=await function(i,s){const a=B(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,s).next(c=>(oe(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);t0(r,e,n),e0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ji(r,o)}catch(o){await Fi(o)}}function e0(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function t0(t,e,n){const r=B(t);let o=r.Tc[r.currentUser.toKey()];if(o){const i=o.get(e);i&&(n?i.reject(n):i.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function Ic(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||n0(t,r)})}function n0(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Kv(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),hd(t))}function Ip(t,e,n){for(const r of n)r instanceof Xv?(t.Ic.addReference(r.key,e),Jk(t,r)):r instanceof Jv?(O("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||n0(t,r.key)):F()}function Jk(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(O("SyncEngine","New document in limbo: "+n),t.mc.add(r),hd(t))}function hd(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(se.fromString(e)),r=t.Ac.next();t.yc.set(r,new jk(n)),t.gc=t.gc.insert(n,r),Hv(t.remoteStore,new dn(Zt(Xh(n.path)),r,"TargetPurposeLimboResolution",Kh.ct))}}async function ji(t,e,n){const r=B(t),o=[],i=[],s=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{s.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){o.push(u);const c=od.Li(l.targetId,u);i.push(c)}}))}),await Promise.all(s),r.dc.nu(o),await async function(a,l){const u=B(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>T.forEach(l,d=>T.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>T.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Ui(c))throw c;O("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),m=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(m);u.Ji=u.Ji.insert(d,y)}}}(r.localStore,i))}async function Zk(t,e){const n=B(t);if(!n.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const r=await Vv(n.localStore,e);n.currentUser=e,function(o,i){o.Ec.forEach(s=>{s.forEach(a=>{a.reject(new P(E.CANCELLED,i))})}),o.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ji(n,r.er)}}function eI(t,e){const n=B(t),r=n.yc.get(e);if(r&&r.fc)return K().add(r.key);{let o=K();const i=n._c.get(e);if(!i)return o;for(const s of i){const a=n.wc.get(s);o=o.unionWith(a.view.nc)}return o}}function tI(t){const e=B(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qk.bind(null,e),e.dc.nu=Fk.bind(null,e.eventManager),e.dc.Pc=Uk.bind(null,e.eventManager),e}function nI(t){const e=B(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xk.bind(null,e),e}class Dp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ak(this.persistence,new ik,e.initialUser,this.serializer)}createPersistence(e){return new rk(rd.zs,this.serializer)}createSharedClientState(e){return new pk}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class rI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zk.bind(null,this.syncEngine),await Lk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Mk}createDatastore(e){const n=rl(e.databaseInfo.databaseId),r=(o=e.databaseInfo,new vk(o));var o;return function(i,s,a,l){return new Sk(i,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,o=e.asyncQueue,i=a=>kp(this.syncEngine,a,0),s=Sp.D()?new Sp:new gk,new Ck(n,r,o,i,s);var n,r,o,i,s}createSyncEngine(e,n){return function(r,o,i,s,a,l,u){const c=new Hk(r,o,i,s,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=B(e);O("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await zi(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=be.UNAUTHENTICATED,this.clientId=av.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{O("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(O("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ud(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eu(t,e){t.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await Vv(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Np(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aI(t);O("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(o=>Tp(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,i)=>Tp(e.remoteStore,i)),t._onlineComponents=e}function sI(t){return t.name==="FirebaseError"?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function aI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{await eu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!sI(n))throw n;Qr("Error using user provided cache. Falling back to memory cache: "+n),await eu(t,new Dp)}}else O("FirestoreClient","Using default OfflineComponentProvider"),await eu(t,new Dp);return t._offlineComponents}async function r0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),await Np(t,t._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),await Np(t,new rI))),t._onlineComponents}function lI(t){return r0(t).then(e=>e.syncEngine)}async function uI(t){const e=await r0(t),n=e.eventManager;return n.onListen=Kk.bind(null,e.syncEngine),n.onUnlisten=Wk.bind(null,e.syncEngine),n}function cI(t,e,n={}){const r=new Cn;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,s,a,l){const u=new oI({next:d=>{i.enqueueAndForget(()=>bk(o,c));const h=d.docs.has(s);!h&&d.fromCache?l.reject(new P(E.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new P(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Vk(Xh(s.path),u,{includeMetadataChanges:!0,Ku:!0});return $k(o,c)}(await uI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t,e,n){if(!n)throw new P(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hI(t,e,n,r){if(e===!0&&r===!0)throw new P(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xp(t){if(!M.isDocumentKey(t))throw new P(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rp(t){if(M.isDocumentKey(t))throw new P(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":F()}function sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new P(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dd(t);throw new P(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new P(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new P(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new P(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new P(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new P(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class sl{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _p({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new P(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _p(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new NT;switch(n.type){case"firstParty":return new _T(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new P(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ap.get(e);n&&(O("ComponentProvider","Removing Datastore"),Ap.delete(e),n.terminate())}(this),Promise.resolve()}}function dI(t,e,n,r={}){var o;const i=(t=sr(t,sl))._getSettings(),s=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&Qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=be.MOCK_USER;else{a=oE(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new P(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new be(u)}t._authCredentials=new AT(new sv(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}}class fd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fd(this.firestore,e,this._query)}}class kn extends fd{constructor(e,n,r){super(e,n,Xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new M(e))}withConverter(e){return new kn(this.firestore,e,this._path)}}function fI(t,e,...n){if(t=Nn(t),i0("collection","path",e),t instanceof sl){const r=se.fromString(e,...n);return Rp(r),new kn(t,null,r)}{if(!(t instanceof rt||t instanceof kn))throw new P(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(se.fromString(e,...n));return Rp(r),new kn(t.firestore,null,r)}}function tu(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=av.A()),i0("doc","path",e),t instanceof sl){const r=se.fromString(e,...n);return xp(r),new rt(t,null,new M(r))}{if(!(t instanceof rt||t instanceof kn))throw new P(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(se.fromString(e,...n));return xp(r),new rt(t.firestore,t instanceof kn?t.converter:null,new M(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new zv(this,"async_queue_retry"),this.Xc=()=>{const n=Zl();n&&O("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Zl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Zl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Cn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ui(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const o=function(i){let s=i.message||"";return i.stack&&(s=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),s}(r);throw Jt("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const o=ld.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(o),o}Zc(){this.Wc&&F()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class al extends sl{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new pI,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||a0(this),this._firestoreClient.terminate()}}function gI(t,e){const n=typeof t=="object"?t:lS(),r=typeof t=="string"?t:e||"(default)",o=oS(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const i=nE("firestore");i&&dI(o,...i)}return o}function s0(t){return t._firestoreClient||a0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function a0(t){var e,n,r;const o=t._freezeSettings(),i=function(s,a,l,u){return new jT(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,o0(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new iI(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=o.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(Ke.fromBase64String(e))}catch(n){throw new P(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new P(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ve(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new P(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new P(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=/^__.*__$/;class yI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $n(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vi(e,this.data,n,this.fieldTransforms)}}class l0{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $n(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function u0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class md{constructor(e,n,r,o,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new md(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return va(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(u0(this.ca)&&mI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class vI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rl(e)}ya(e,n,r,o=!1){return new md({ca:e,methodName:n,ga:r,path:Ve.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c0(t){const e=t._freezeSettings(),n=rl(t._databaseId);return new vI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wI(t,e,n,r,o,i={}){const s=t.ya(i.merge||i.mergeFields?2:0,e,n,o);yd("Data must be an object, but it was:",s,r);const a=h0(r,s);let l,u;if(i.merge)l=new lt(s.fieldMask),u=s.fieldTransforms;else if(i.mergeFields){const c=[];for(const d of i.mergeFields){const h=Dc(e,d,n);if(!s.contains(h))throw new P(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);f0(c,h)||c.push(h)}l=new lt(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new yI(new Je(a),l,u)}class ul extends pd{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ul}}function EI(t,e,n,r){const o=t.ya(1,e,n);yd("Data must be an object, but it was:",o,r);const i=[],s=Je.empty();cr(r,(l,u)=>{const c=vd(e,l,n);u=Nn(u);const d=o.da(c);if(u instanceof ul)i.push(c);else{const h=cl(u,d);h!=null&&(i.push(c),s.set(c,h))}});const a=new lt(i);return new l0(s,a,o.fieldTransforms)}function SI(t,e,n,r,o,i){const s=t.ya(1,e,n),a=[Dc(e,r,n)],l=[o];if(i.length%2!=0)throw new P(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Dc(e,i[h])),l.push(i[h+1]);const u=[],c=Je.empty();for(let h=a.length-1;h>=0;--h)if(!f0(u,a[h])){const m=a[h];let y=l[h];y=Nn(y);const v=s.da(m);if(y instanceof ul)u.push(m);else{const N=cl(y,v);N!=null&&(u.push(m),c.set(m,N))}}const d=new lt(u);return new l0(c,d,s.fieldTransforms)}function cl(t,e){if(d0(t=Nn(t)))return yd("Unsupported field value:",e,t),h0(t,e);if(t instanceof pd)return function(n,r){if(!u0(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const o=[];let i=0;for(const s of n){let a=cl(s,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),o.push(a),i++}return{arrayValue:{values:o}}}(t,e)}return function(n,r){if((n=Nn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return dC(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Te.fromDate(n);return{timestampValue:ma(r.serializer,o)}}if(n instanceof Te){const o=new Te(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ma(r.serializer,o)}}if(n instanceof gd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof to)return{bytesValue:Pv(r.serializer,n._byteString)};if(n instanceof rt){const o=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(o))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:td(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${dd(n)}`)}(t,e)}function h0(t,e){const n={};return lv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cr(t,(r,o)=>{const i=cl(o,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function d0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Te||t instanceof gd||t instanceof to||t instanceof rt||t instanceof pd)}function yd(t,e,n){if(!d0(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=dd(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Dc(t,e,n){if((e=Nn(e))instanceof ll)return e._internalPath;if(typeof e=="string")return vd(t,e);throw va("Field path arguments must be of type string or ",t,!1,void 0,n)}const TI=new RegExp("[~\\*/\\[\\]]");function vd(t,e,n){if(e.search(TI)>=0)throw va(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ll(...e.split("."))._internalPath}catch{throw va(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function va(t,e,n,r,o){const i=r&&!r.isEmpty(),s=o!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${r}`),s&&(l+=` in document ${o}`),l+=")"),new P(E.INVALID_ARGUMENT,a+t+l)}function f0(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,r,o,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(g0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CI extends p0{data(){return super.data()}}function g0(t,e){return typeof e=="string"?vd(t,e):e instanceof ll?e._internalPath:e._delegate._internalPath}class kI{convertValue(e,n="none"){switch(ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cr(e,(o,i)=>{r[o]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new gd(ye(e.latitude),ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wi(e));default:return null}}convertTimestamp(e){const n=xn(e);return new Te(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=se.fromString(e);oe(Uv(r));const o=new Ei(r.get(1),r.get(3)),i=new M(r.popFirst(5));return o.isEqual(n)||Jt(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m0 extends p0{constructor(e,n,r,o,i,s){super(e,n,r,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new NI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(g0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class NI extends m0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){t=sr(t,rt);const e=sr(t.firestore,al);return cI(s0(e),t._key).then(n=>_I(e,t,n))}class AI extends kI{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,n)}}function xI(t,e,n){t=sr(t,rt);const r=sr(t.firestore,al),o=II(t.converter,e,n);return y0(r,[wI(c0(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,bt.none())])}function RI(t,e,n,...r){t=sr(t,rt);const o=sr(t.firestore,al),i=c0(o);let s;return s=typeof(e=Nn(e))=="string"||e instanceof ll?SI(i,"updateDoc",t._key,e,n,r):EI(i,"updateDoc",t._key,e),y0(o,[s.toMutation(t._key,bt.exists(!0))])}function y0(t,e){return function(n,r){const o=new Cn;return n.asyncQueue.enqueueAndForget(async()=>qk(await lI(n),r,o)),o.promise}(s0(t),e)}function _I(t,e,n){const r=n.docs.get(e._key),o=new AI(t);return new m0(t,o,e._key,r,new DI(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){lo=n})(aS),oa(new li("firestore",(n,{instanceIdentifier:r,options:o})=>{const i=n.getProvider("app").getImmediate(),s=new al(new xT(n.getProvider("auth-internal")),new LT(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new P(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ei(a.options.projectId,l)}(i,r),i);return o=Object.assign({useFetchStreams:e},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),$r(Jf,"3.13.0",t),$r(Jf,"3.13.0","esm2017")})();function Op(){return j("div",{className:"absolute bottom-5 left-5 text-md mt-4",children:["Made with 🧠 by ",k("a",{href:"https://evilscript.eu",children:"Federico Torrielli"})]})}function OI(){return j("div",{children:[k("div",{className:"text-4xl font-bold",children:"Basic or Advanced?"}),j("div",{children:[k("div",{className:"text-2xl mt-4",children:"Scope of this annotation task"}),j("p",{className:"mt-2",children:["The goal of this annotation is to define a ",k("b",{children:"gold standard"})," for basic/advanced ",k("b",{children:"words"}),"."]}),k("div",{className:"text-2xl mt-4",children:"What are you going to do?"}),k("p",{className:"mt-2",children:"In this annotation task, you will be given a word to evaluate. Your job is to decide whether the word is basic or advanced."}),j("p",{className:"mt-2",children:["You will need to complete ",k("b",{children:"500"})," of these ",k("b",{children:"annotations"}),", which should take about ",k("b",{children:"30 minutes"}),`. It's important to note that this task does not evaluate your knowledge of English, so you don't need to worry about being tested. If you need more information about the word, you can use the internet to help you. The goal of this task is simply to help us understand how people classify words as basic or advanced. At any point during the annotation task, you can mark a word as "`,k("i",{children:"difficult"}),'" if you find it challenging to determine whether it is basic or advanced.']}),k("div",{className:"text-2xl mt-4",children:"What are basic and advanced words?"}),j("p",{className:"mt-2",children:[k("b",{children:"There is no precise and objective definition of what a basic word is."})," However, there are some general characteristics that most people would agree on. Here's a few:"]}),j("ul",{className:"mt-2 list-decimal",children:[j("li",{children:["Basic words are ",k("b",{children:"tools for social survival"}),": they are the Swiss army knife for second-language-learners (useful for a lot of social interactions between non-native speakers)"]}),j("li",{children:["They are usually ",k("b",{children:"short and easy to say"})," and to conceptualize"]}),j("li",{children:["They are the ",k("b",{children:"first words that come to mind"})," when speaking about a certain topic"]}),j("li",{children:["They can be ",k("b",{children:"easily translated to a clear mental image"})]})]}),j("p",{className:"mt-2",children:["Given the definitions above, an advanced word for a concept is a term that is ",k("b",{children:"not basic"}),"."]})]})]})}function LI(){return j("div",{children:[k("div",{className:"text-4xl font-bold",children:"Examples of Basic vs Advanced words"}),j("table",{className:"mt-6 table-auto min-w-full border text-center",children:[k("thead",{className:"border-b",children:j("tr",{children:[k("th",{scope:"col",className:"text-md font-medium px-6 py-4 border-r",children:"Basic"}),k("th",{scope:"col",className:"text-md font-medium px-6 py-4 border-r",children:"Advanced"})]})}),j("tbody",{children:[j("tr",{className:"border-b",children:[k("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap border-r",children:"house, book, chair, table"}),k("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap border-r",children:"mansion, novel, recliner, board"})]}),j("tr",{className:"border-b",children:[k("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap border-r",children:"orange, apple"}),k("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap border-r",children:"tangerine, Granny Smith"})]}),j("tr",{className:"border-b",children:[k("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap border-r",children:"dog, cat"}),k("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap border-r",children:"chihuahua, Maine coon"})]}),j("tr",{className:"border-b",children:[k("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap border-r",children:"thing, fact"}),k("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap border-r",children:"artifact, evidence"})]}),j("tr",{className:"border-b",children:[k("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap border-r",children:"justice, fun"}),k("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap border-r",children:"reprisal, amusement"})]})]})]})]})}function PI({title:t,titleId:e,...n},r){return W.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?W.createElement("title",{id:e},t):null,W.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const MI=W.forwardRef(PI),$I=MI;function bI({title:t,titleId:e,...n},r){return W.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?W.createElement("title",{id:e},t):null,W.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const FI=W.forwardRef(bI),UI=FI;function VI({title:t,titleId:e,...n},r){return W.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?W.createElement("title",{id:e},t):null,W.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const BI=W.forwardRef(VI),zI=BI;function jI({text:t,different_icon:e}){const[n,r]=W.useState(!0),[o,i]=W.useState(!0);return n?k("div",{className:"bg-blue-600",children:k("div",{className:"mx-auto max-w-7xl py-3 px-3 sm:px-6 lg:px-8",children:j("div",{className:"flex flex-wrap items-center justify-between",children:[j("div",{className:"flex w-0 flex-1 items-center",children:[k("span",{className:"flex rounded-lg bg-blue-800 p-2",children:e?k($I,{className:"h-6 w-6 text-white","aria-hidden":"true"}):k(UI,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),j("p",{className:`ml-3 font-medium text-white ${o?"truncate":"whitespace-normal"}`,onClick:()=>{i(!o)},children:[k("span",{className:"md:hidden",children:t}),k("span",{className:"hidden md:inline",children:t})]})]}),k("div",{className:"order-2 flex-shrink-0 sm:order-3 sm:ml-3",children:j("button",{type:"button",className:"-mr-1 flex rounded-md p-2 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-white sm:-mr-2",onClick:()=>r(!1),children:[k("span",{className:"sr-only",children:"Dismiss"}),k(zI,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})]})})}):k("div",{})}function HI({url:t}){return k("video",{className:"border border-solid border-blue-500 rounded-md h-1/2 w-1/2 transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105 shadow-lg",controls:!0,children:k("source",{src:t,type:"video/mp4"})})}const KI={apiKey:"AIzaSyDh_iuesG6NZ8YAZ6mVTGnYIlbd9jZBfH0",authDomain:"testtesi2.firebaseapp.com",projectId:"testtesi2",storageBucket:"testtesi2.appspot.com",messagingSenderId:"81327731379",appId:"1:81327731379:web:aa208cca6e636cd8d2f6c6"},GI=ty(KI),v0=gI(GI),Lp=fI(v0,"annotations_part_two");function WI(){const[t,e]=W.useState(""),[n,r]=W.useState(!1),[o,i]=W.useState(!1),[s,a]=W.useState(!1),[l,u]=W.useState(!1),[c,d]=W.useState([]),[h,m]=W.useState(0),[y,v]=W.useState([]),[N,p]=W.useState([]),[f,g]=W.useState(!1),[w,D]=W.useState(!1),[x,R]=W.useState(new Date),[_,Z]=W.useState([]),z={1:xf,default:xf},ot=(ae,C)=>(C.getTime()-ae.getTime())/1e3,bn=ae=>{const C=tu(Lp,ae);nu(C).then(L=>{if(!L.exists())console.log("No such document!");else{const $=L.data(),U=JSON.stringify($),de=new Blob([U],{type:"application/json"}),dr=URL.createObjectURL(de),it=document.createElement("a");it.href=dr,it.download=ae+".json",document.body.appendChild(it),it.click(),document.body.removeChild(it)}})},nn=async ae=>{if(ae.key==="Enter"||ae.type==="click"){if(t.length===0)return alert("Please enter your name");const C=t.toLowerCase().trim();if(e(C),C.startsWith("admin")){const $=C.substring(6);bn($);return}d(z[C]||z.default);const L=tu(Lp,C);await nu(L).then($=>{if($.exists()){const U=$.data();U!=null&&U.dataset&&(U==null?void 0:U.i)>=(U==null?void 0:U.dataset.length)?alert("Thank you for your participation, you already completed the task!"):U&&(ho(U.i,U.dataset.length),v(U.answers),Z(U.timeDiffs),m(U.i),p(U.isHard),r(!0))}else r(!0)})}R(new Date)},ho=(ae,C)=>{const L=document.getElementById("progress-bar");L&&c&&(L.style.width=`${(ae+1)/C*100}%`)},hl=async ae=>{if(!f){g(!0);const C=ot(x,new Date),L=document.getElementById("hard-checkbox");if(c&&(ho(h,c.length),D(!0)),c&&h<c.length){const $=L.checked;p([...N,$]),Z([..._,C]);const U=tu(v0,"annotations_part_two/"+t);await nu(U).then(de=>{de.exists()?RI(U,{answers:ae,i:ae.length,isHard:[...N,L.checked],timeDiffs:[..._,C],date:new Date}):xI(U,{name:t,answers:ae,i:ae.length,dataset:c,isHard:[...N,L.checked],timeDiffs:[..._,C],date:new Date}),m(ae.length)})}R(new Date),L.checked=!1,c&&h+1>=c.length&&(alert("Thank you for your participation!"),r(!1),v([]),m(0)),g(!1)}},rn=ae=>{const C=[...y,ae];v(C),hl(C)};return n?j("div",{children:[j("div",{className:"text-center justify-center mt-12",children:[k(Op,{}),k("h1",{className:"text-4xl font-bold",children:"Valutazione seconda parte"}),k("p",{className:"text-xl mt-6",id:"line",children:k("span",{className:"",children:c?c[h]:""})})]}),j("div",{className:"flex justify-center mt-8",children:[k("button",{id:"button-1",onClick:()=>rn("Impossibile"),className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg disabled:bg-gray-500",disabled:f,children:"Impossibile"}),k("button",{id:"button-2",onClick:()=>rn("Improbabile"),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full ml-4 transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg disabled:bg-gray-500",disabled:f,children:"Improbabile"}),k("button",{id:"button-3",onClick:()=>rn("Mediamente probabile"),className:"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded-full ml-4 transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg disabled:bg-gray-500",disabled:f,children:"Mediamente probabile"}),k("button",{id:"button-4",onClick:()=>rn("Molto probabile"),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full ml-4 transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg disabled:bg-gray-500",disabled:f,children:"Molto probabile"})]}),j("div",{className:"flex justify-center mt-4",children:[j("p",{children:["Was this ",k("a",{href:"#",className:"text-blue-600 hover:text-blue-700 cursor-default",title:"Please select this option if it is difficult for you to determine if the term is basic or advanced",children:"hard"})," to evaluate?"]}),k("input",{id:"hard-checkbox",type:"checkbox",className:"ml-2 h-6 w-6 rounded-full shadow checked:shadow-xl cursor-pointer"})]}),w&&c?k("div",{className:"flex justify-center mt-8 max-w-2xl mx-auto",children:j("div",{id:"progress-bar",className:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-l-full",style:{height:17,width:`${(h+1)/c.length*100}%`},children:[Math.round((h+1)/c.length*100),"%"]})}):k("div",{})]}):o?s?l?j("div",{children:[k(jI,{text:"Remember that with your username you can always resume the session where you left"}),k(Op,{}),j("div",{className:"text-center mt-12",children:[k("div",{className:"text-4xl font-bold",children:"Ready to get bored?"}),k("div",{className:"text-2xl mt-4",children:"Please enter your name to start"}),k("div",{children:k("input",{value:t,onChange:ae=>e(ae.target.value.toLowerCase()),onKeyDown:nn,className:"rounded-lg shadow-lg p-2 border border-gray-400 mt-4",placeholder:"Type your name here..."})}),k("div",{children:k("button",{className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg",onClick:nn,children:"Start"})})]})]}):j("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:[k(HI,{url:"https://www.evilscript.eu/files/spiegazione-dicaro.mp4"}),k("button",{className:"mt-6 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg",onClick:()=>u(!l),children:"Skip"})]}):j("div",{className:"text-center mt-8 max-w-3xl mx-auto",children:[k(LI,{}),k("button",{className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg",onClick:()=>a(!0),children:"Proceed"})]}):j("div",{className:"text-center mt-8 max-w-3xl mx-auto",style:{overflowY:"scroll"},children:[k(OI,{}),k("button",{className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg",onClick:()=>i(!0),children:"Proceed"})]})}function qI(){const[t,e]=W.useState(!1),[n,r]=W.useState(!1),o=()=>{if(t){document.documentElement.classList.remove("dark-mode"),e(!1);const i=document.getElementsByTagName("input");for(const s of i)s.classList.remove("dark-mode-input")}else{document.documentElement.classList.add("dark-mode"),e(!0);const i=document.getElementsByTagName("input");for(const s of i)s.classList.add("dark-mode-input")}};return W.useEffect(()=>{const i=()=>{r(window.scrollY>0)};return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}},[]),k("div",{className:`sticky-button ${n?"sticky":""}`,children:j("label",{className:"switch",children:[k("input",{type:"checkbox",onClick:o}),k("div",{className:"slider round"})]})})}ru.createRoot(document.getElementById("root")).render(j(M0.StrictMode,{children:[k(WI,{}),k(qI,{})]}));
